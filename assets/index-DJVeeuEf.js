function hm(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ui(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var pm={exports:{}},pa={},mm={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ci=Symbol.for("react.element"),Gx=Symbol.for("react.portal"),Jx=Symbol.for("react.fragment"),Qx=Symbol.for("react.strict_mode"),Yx=Symbol.for("react.profiler"),Xx=Symbol.for("react.provider"),Zx=Symbol.for("react.context"),ew=Symbol.for("react.forward_ref"),tw=Symbol.for("react.suspense"),rw=Symbol.for("react.memo"),nw=Symbol.for("react.lazy"),lh=Symbol.iterator;function sw(t){return t===null||typeof t!="object"?null:(t=lh&&t[lh]||t["@@iterator"],typeof t=="function"?t:null)}var gm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ym=Object.assign,vm={};function Gn(t,e,r){this.props=t,this.context=e,this.refs=vm,this.updater=r||gm}Gn.prototype.isReactComponent={};Gn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xm(){}xm.prototype=Gn.prototype;function mc(t,e,r){this.props=t,this.context=e,this.refs=vm,this.updater=r||gm}var gc=mc.prototype=new xm;gc.constructor=mc;ym(gc,Gn.prototype);gc.isPureReactComponent=!0;var uh=Array.isArray,wm=Object.prototype.hasOwnProperty,yc={current:null},bm={key:!0,ref:!0,__self:!0,__source:!0};function _m(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)wm.call(e,n)&&!bm.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ci,type:t,key:i,ref:o,props:s,_owner:yc.current}}function iw(t,e){return{$$typeof:ci,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vc(t){return typeof t=="object"&&t!==null&&t.$$typeof===ci}function ow(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ch=/\/+/g;function Ka(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ow(""+t.key):e.toString(36)}function io(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ci:case Gx:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Ka(o,0):n,uh(s)?(r="",t!=null&&(r=t.replace(ch,"$&/")+"/"),io(s,e,r,"",function(c){return c})):s!=null&&(vc(s)&&(s=iw(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ch,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",uh(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Ka(i,a);o+=io(i,e,r,l,s)}else if(l=sw(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Ka(i,a++),o+=io(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ci(t,e,r){if(t==null)return t;var n=[],s=0;return io(t,n,"","",function(i){return e.call(r,i,s++)}),n}function aw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Oe={current:null},oo={transition:null},lw={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:oo,ReactCurrentOwner:yc};function jm(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Ci,forEach:function(t,e,r){Ci(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ci(t,function(){e++}),e},toArray:function(t){return Ci(t,function(e){return e})||[]},only:function(t){if(!vc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=Gn;V.Fragment=Jx;V.Profiler=Yx;V.PureComponent=mc;V.StrictMode=Qx;V.Suspense=tw;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lw;V.act=jm;V.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ym({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=yc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)wm.call(e,l)&&!bm.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:ci,type:t.type,key:s,ref:i,props:n,_owner:o}};V.createContext=function(t){return t={$$typeof:Zx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Xx,_context:t},t.Consumer=t};V.createElement=_m;V.createFactory=function(t){var e=_m.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:ew,render:t}};V.isValidElement=vc;V.lazy=function(t){return{$$typeof:nw,_payload:{_status:-1,_result:t},_init:aw}};V.memo=function(t,e){return{$$typeof:rw,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=oo.transition;oo.transition={};try{t()}finally{oo.transition=e}};V.unstable_act=jm;V.useCallback=function(t,e){return Oe.current.useCallback(t,e)};V.useContext=function(t){return Oe.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return Oe.current.useDeferredValue(t)};V.useEffect=function(t,e){return Oe.current.useEffect(t,e)};V.useId=function(){return Oe.current.useId()};V.useImperativeHandle=function(t,e,r){return Oe.current.useImperativeHandle(t,e,r)};V.useInsertionEffect=function(t,e){return Oe.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return Oe.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return Oe.current.useMemo(t,e)};V.useReducer=function(t,e,r){return Oe.current.useReducer(t,e,r)};V.useRef=function(t){return Oe.current.useRef(t)};V.useState=function(t){return Oe.current.useState(t)};V.useSyncExternalStore=function(t,e,r){return Oe.current.useSyncExternalStore(t,e,r)};V.useTransition=function(){return Oe.current.useTransition()};V.version="18.3.1";mm.exports=V;var b=mm.exports;const Sm=fm(b),uw=hm({__proto__:null,default:Sm},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw=b,dw=Symbol.for("react.element"),hw=Symbol.for("react.fragment"),fw=Object.prototype.hasOwnProperty,pw=cw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mw={key:!0,ref:!0,__self:!0,__source:!0};function km(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)fw.call(e,n)&&!mw.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:dw,type:t,key:i,ref:o,props:s,_owner:pw.current}}pa.Fragment=hw;pa.jsx=km;pa.jsxs=km;pm.exports=pa;var u=pm.exports,Ul={},Em={exports:{}},Qe={},Nm={exports:{}},Tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,$){var U=T.length;T.push($);e:for(;0<U;){var ne=U-1>>>1,me=T[ne];if(0<s(me,$))T[ne]=$,T[U]=me,U=ne;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var $=T[0],U=T.pop();if(U!==$){T[0]=U;e:for(var ne=0,me=T.length,Ni=me>>>1;ne<Ni;){var br=2*(ne+1)-1,Ha=T[br],_r=br+1,Ti=T[_r];if(0>s(Ha,U))_r<me&&0>s(Ti,Ha)?(T[ne]=Ti,T[_r]=U,ne=_r):(T[ne]=Ha,T[br]=U,ne=br);else if(_r<me&&0>s(Ti,U))T[ne]=Ti,T[_r]=U,ne=_r;else break e}}return $}function s(T,$){var U=T.sortIndex-$.sortIndex;return U!==0?U:T.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,p=!1,g=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(T){for(var $=r(c);$!==null;){if($.callback===null)n(c);else if($.startTime<=T)n(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=r(c)}}function _(T){if(x=!1,v(T),!g)if(r(l)!==null)g=!0,Ei(j);else{var $=r(c);$!==null&&de(_,$.startTime-T)}}function j(T,$){g=!1,x&&(x=!1,y(k),k=-1),p=!0;var U=f;try{for(v($),h=r(l);h!==null&&(!(h.expirationTime>$)||T&&!pe());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var me=ne(h.expirationTime<=$);$=t.unstable_now(),typeof me=="function"?h.callback=me:h===r(l)&&n(l),v($)}else n(l);h=r(l)}if(h!==null)var Ni=!0;else{var br=r(c);br!==null&&de(_,br.startTime-$),Ni=!1}return Ni}finally{h=null,f=U,p=!1}}var S=!1,E=null,k=-1,A=5,I=-1;function pe(){return!(t.unstable_now()-I<A)}function Ft(){if(E!==null){var T=t.unstable_now();I=T;var $=!0;try{$=E(!0,T)}finally{$?wr():(S=!1,E=null)}}else S=!1}var wr;if(typeof m=="function")wr=function(){m(Ft)};else if(typeof MessageChannel<"u"){var ns=new MessageChannel,ah=ns.port2;ns.port1.onmessage=Ft,wr=function(){ah.postMessage(null)}}else wr=function(){w(Ft,0)};function Ei(T){E=T,S||(S=!0,wr())}function de(T,$){k=w(function(){T(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,Ei(j))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var U=f;f=$;try{return T()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,$){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var U=f;f=T;try{return $()}finally{f=U}},t.unstable_scheduleCallback=function(T,$,U){var ne=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ne+U:ne):U=ne,T){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=U+me,T={id:d++,callback:$,priorityLevel:T,startTime:U,expirationTime:me,sortIndex:-1},U>ne?(T.sortIndex=U,e(c,T),r(l)===null&&T===r(c)&&(x?(y(k),k=-1):x=!0,de(_,U-ne))):(T.sortIndex=me,e(l,T),g||p||(g=!0,Ei(j))),T},t.unstable_shouldYield=pe,t.unstable_wrapCallback=function(T){var $=f;return function(){var U=f;f=$;try{return T.apply(this,arguments)}finally{f=U}}}})(Tm);Nm.exports=Tm;var gw=Nm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw=b,Ge=gw;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cm=new Set,Ds={};function Jr(t,e){On(t,e),On(t+"Capture",e)}function On(t,e){for(Ds[t]=e,t=0;t<e.length;t++)Cm.add(e[t])}var It=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=Object.prototype.hasOwnProperty,vw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dh={},hh={};function xw(t){return Vl.call(hh,t)?!0:Vl.call(dh,t)?!1:vw.test(t)?hh[t]=!0:(dh[t]=!0,!1)}function ww(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bw(t,e,r,n){if(e===null||typeof e>"u"||ww(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ie(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){je[t]=new Ie(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];je[e]=new Ie(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){je[t]=new Ie(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){je[t]=new Ie(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){je[t]=new Ie(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){je[t]=new Ie(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){je[t]=new Ie(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){je[t]=new Ie(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){je[t]=new Ie(t,5,!1,t.toLowerCase(),null,!1,!1)});var xc=/[\-:]([a-z])/g;function wc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xc,wc);je[e]=new Ie(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xc,wc);je[e]=new Ie(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xc,wc);je[e]=new Ie(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){je[t]=new Ie(t,1,!1,t.toLowerCase(),null,!1,!1)});je.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){je[t]=new Ie(t,1,!1,t.toLowerCase(),null,!0,!0)});function bc(t,e,r,n){var s=je.hasOwnProperty(e)?je[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bw(e,r,s,n)&&(r=null),n||s===null?xw(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ut=yw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pi=Symbol.for("react.element"),ln=Symbol.for("react.portal"),un=Symbol.for("react.fragment"),_c=Symbol.for("react.strict_mode"),Bl=Symbol.for("react.profiler"),Pm=Symbol.for("react.provider"),Am=Symbol.for("react.context"),jc=Symbol.for("react.forward_ref"),zl=Symbol.for("react.suspense"),Fl=Symbol.for("react.suspense_list"),Sc=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),Rm=Symbol.for("react.offscreen"),fh=Symbol.iterator;function ss(t){return t===null||typeof t!="object"?null:(t=fh&&t[fh]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,Ga;function fs(t){if(Ga===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ga=e&&e[1]||""}return`
`+Ga+t}var Ja=!1;function Qa(t,e){if(!t||Ja)return"";Ja=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ja=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?fs(t):""}function _w(t){switch(t.tag){case 5:return fs(t.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 2:case 15:return t=Qa(t.type,!1),t;case 11:return t=Qa(t.type.render,!1),t;case 1:return t=Qa(t.type,!0),t;default:return""}}function Wl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case un:return"Fragment";case ln:return"Portal";case Bl:return"Profiler";case _c:return"StrictMode";case zl:return"Suspense";case Fl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Am:return(t.displayName||"Context")+".Consumer";case Pm:return(t._context.displayName||"Context")+".Provider";case jc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sc:return e=t.displayName||null,e!==null?e:Wl(t.type)||"Memo";case Ht:e=t._payload,t=t._init;try{return Wl(t(e))}catch{}}return null}function jw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wl(e);case 8:return e===_c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Om(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sw(t){var e=Om(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ai(t){t._valueTracker||(t._valueTracker=Sw(t))}function Im(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Om(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ko(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ql(t,e){var r=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ph(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=cr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Lm(t,e){e=e.checked,e!=null&&bc(t,"checked",e,!1)}function Hl(t,e){Lm(t,e);var r=cr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Kl(t,e.type,r):e.hasOwnProperty("defaultValue")&&Kl(t,e.type,cr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mh(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Kl(t,e,r){(e!=="number"||ko(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ps=Array.isArray;function kn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+cr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Gl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gh(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(N(92));if(ps(r)){if(1<r.length)throw Error(N(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:cr(r)}}function Dm(t,e){var r=cr(e.value),n=cr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function yh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Mm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Mm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ri,$m=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ri=Ri||document.createElement("div"),Ri.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ri.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ms(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kw=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(t){kw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),js[e]=js[t]})});function Um(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||js.hasOwnProperty(t)&&js[t]?(""+e).trim():e+"px"}function Vm(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Um(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Ew=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ql(t,e){if(e){if(Ew[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Yl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xl=null;function kc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zl=null,En=null,Nn=null;function vh(t){if(t=fi(t)){if(typeof Zl!="function")throw Error(N(280));var e=t.stateNode;e&&(e=xa(e),Zl(t.stateNode,t.type,e))}}function Bm(t){En?Nn?Nn.push(t):Nn=[t]:En=t}function zm(){if(En){var t=En,e=Nn;if(Nn=En=null,vh(t),e)for(t=0;t<e.length;t++)vh(e[t])}}function Fm(t,e){return t(e)}function Wm(){}var Ya=!1;function qm(t,e,r){if(Ya)return t(e,r);Ya=!0;try{return Fm(t,e,r)}finally{Ya=!1,(En!==null||Nn!==null)&&(Wm(),zm())}}function $s(t,e){var r=t.stateNode;if(r===null)return null;var n=xa(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(N(231,e,typeof r));return r}var eu=!1;if(It)try{var is={};Object.defineProperty(is,"passive",{get:function(){eu=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{eu=!1}function Nw(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Ss=!1,Eo=null,No=!1,tu=null,Tw={onError:function(t){Ss=!0,Eo=t}};function Cw(t,e,r,n,s,i,o,a,l){Ss=!1,Eo=null,Nw.apply(Tw,arguments)}function Pw(t,e,r,n,s,i,o,a,l){if(Cw.apply(this,arguments),Ss){if(Ss){var c=Eo;Ss=!1,Eo=null}else throw Error(N(198));No||(No=!0,tu=c)}}function Qr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Hm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xh(t){if(Qr(t)!==t)throw Error(N(188))}function Aw(t){var e=t.alternate;if(!e){if(e=Qr(t),e===null)throw Error(N(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return xh(s),t;if(i===n)return xh(s),e;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?t:e}function Km(t){return t=Aw(t),t!==null?Gm(t):null}function Gm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gm(t);if(e!==null)return e;t=t.sibling}return null}var Jm=Ge.unstable_scheduleCallback,wh=Ge.unstable_cancelCallback,Rw=Ge.unstable_shouldYield,Ow=Ge.unstable_requestPaint,oe=Ge.unstable_now,Iw=Ge.unstable_getCurrentPriorityLevel,Ec=Ge.unstable_ImmediatePriority,Qm=Ge.unstable_UserBlockingPriority,To=Ge.unstable_NormalPriority,Lw=Ge.unstable_LowPriority,Ym=Ge.unstable_IdlePriority,ma=null,_t=null;function Dw(t){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(ma,t,void 0,(t.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:Uw,Mw=Math.log,$w=Math.LN2;function Uw(t){return t>>>=0,t===0?32:31-(Mw(t)/$w|0)|0}var Oi=64,Ii=4194304;function ms(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Co(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=ms(a):(i&=o,i!==0&&(n=ms(i)))}else o=r&~s,o!==0?n=ms(o):i!==0&&(n=ms(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-pt(e),s=1<<r,n|=t[r],e&=~s;return n}function Vw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bw(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-pt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Vw(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ru(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Xm(){var t=Oi;return Oi<<=1,!(Oi&4194240)&&(Oi=64),t}function Xa(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function di(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pt(e),t[e]=r}function zw(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-pt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Nc(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-pt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var F=0;function Zm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eg,Tc,tg,rg,ng,nu=!1,Li=[],tr=null,rr=null,nr=null,Us=new Map,Vs=new Map,Gt=[],Fw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bh(t,e){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Us.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(e.pointerId)}}function os(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=fi(e),e!==null&&Tc(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ww(t,e,r,n,s){switch(e){case"focusin":return tr=os(tr,t,e,r,n,s),!0;case"dragenter":return rr=os(rr,t,e,r,n,s),!0;case"mouseover":return nr=os(nr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Us.set(i,os(Us.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Vs.set(i,os(Vs.get(i)||null,t,e,r,n,s)),!0}return!1}function sg(t){var e=Lr(t.target);if(e!==null){var r=Qr(e);if(r!==null){if(e=r.tag,e===13){if(e=Hm(r),e!==null){t.blockedOn=e,ng(t.priority,function(){tg(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ao(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=su(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Xl=n,r.target.dispatchEvent(n),Xl=null}else return e=fi(r),e!==null&&Tc(e),t.blockedOn=r,!1;e.shift()}return!0}function _h(t,e,r){ao(t)&&r.delete(e)}function qw(){nu=!1,tr!==null&&ao(tr)&&(tr=null),rr!==null&&ao(rr)&&(rr=null),nr!==null&&ao(nr)&&(nr=null),Us.forEach(_h),Vs.forEach(_h)}function as(t,e){t.blockedOn===e&&(t.blockedOn=null,nu||(nu=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,qw)))}function Bs(t){function e(s){return as(s,t)}if(0<Li.length){as(Li[0],t);for(var r=1;r<Li.length;r++){var n=Li[r];n.blockedOn===t&&(n.blockedOn=null)}}for(tr!==null&&as(tr,t),rr!==null&&as(rr,t),nr!==null&&as(nr,t),Us.forEach(e),Vs.forEach(e),r=0;r<Gt.length;r++)n=Gt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Gt.length&&(r=Gt[0],r.blockedOn===null);)sg(r),r.blockedOn===null&&Gt.shift()}var Tn=Ut.ReactCurrentBatchConfig,Po=!0;function Hw(t,e,r,n){var s=F,i=Tn.transition;Tn.transition=null;try{F=1,Cc(t,e,r,n)}finally{F=s,Tn.transition=i}}function Kw(t,e,r,n){var s=F,i=Tn.transition;Tn.transition=null;try{F=4,Cc(t,e,r,n)}finally{F=s,Tn.transition=i}}function Cc(t,e,r,n){if(Po){var s=su(t,e,r,n);if(s===null)ll(t,e,n,Ao,r),bh(t,n);else if(Ww(s,t,e,r,n))n.stopPropagation();else if(bh(t,n),e&4&&-1<Fw.indexOf(t)){for(;s!==null;){var i=fi(s);if(i!==null&&eg(i),i=su(t,e,r,n),i===null&&ll(t,e,n,Ao,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ll(t,e,n,null,r)}}var Ao=null;function su(t,e,r,n){if(Ao=null,t=kc(n),t=Lr(t),t!==null)if(e=Qr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Hm(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ao=t,null}function ig(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iw()){case Ec:return 1;case Qm:return 4;case To:case Lw:return 16;case Ym:return 536870912;default:return 16}default:return 16}}var Xt=null,Pc=null,lo=null;function og(){if(lo)return lo;var t,e=Pc,r=e.length,n,s="value"in Xt?Xt.value:Xt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return lo=s.slice(t,1<n?1-n:void 0)}function uo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Di(){return!0}function jh(){return!1}function Ye(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Di:jh,this.isPropagationStopped=jh,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),e}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=Ye(Jn),hi=ee({},Jn,{view:0,detail:0}),Gw=Ye(hi),Za,el,ls,ga=ee({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ls&&(ls&&t.type==="mousemove"?(Za=t.screenX-ls.screenX,el=t.screenY-ls.screenY):el=Za=0,ls=t),Za)},movementY:function(t){return"movementY"in t?t.movementY:el}}),Sh=Ye(ga),Jw=ee({},ga,{dataTransfer:0}),Qw=Ye(Jw),Yw=ee({},hi,{relatedTarget:0}),tl=Ye(Yw),Xw=ee({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Zw=Ye(Xw),eb=ee({},Jn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tb=Ye(eb),rb=ee({},Jn,{data:0}),kh=Ye(rb),nb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ib={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ob(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ib[t])?!!e[t]:!1}function Rc(){return ob}var ab=ee({},hi,{key:function(t){if(t.key){var e=nb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rc,charCode:function(t){return t.type==="keypress"?uo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lb=Ye(ab),ub=ee({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eh=Ye(ub),cb=ee({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rc}),db=Ye(cb),hb=ee({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),fb=Ye(hb),pb=ee({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mb=Ye(pb),gb=[9,13,27,32],Oc=It&&"CompositionEvent"in window,ks=null;It&&"documentMode"in document&&(ks=document.documentMode);var yb=It&&"TextEvent"in window&&!ks,ag=It&&(!Oc||ks&&8<ks&&11>=ks),Nh=" ",Th=!1;function lg(t,e){switch(t){case"keyup":return gb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ug(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cn=!1;function vb(t,e){switch(t){case"compositionend":return ug(e);case"keypress":return e.which!==32?null:(Th=!0,Nh);case"textInput":return t=e.data,t===Nh&&Th?null:t;default:return null}}function xb(t,e){if(cn)return t==="compositionend"||!Oc&&lg(t,e)?(t=og(),lo=Pc=Xt=null,cn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ag&&e.locale!=="ko"?null:e.data;default:return null}}var wb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ch(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wb[t.type]:e==="textarea"}function cg(t,e,r,n){Bm(n),e=Ro(e,"onChange"),0<e.length&&(r=new Ac("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Es=null,zs=null;function bb(t){bg(t,0)}function ya(t){var e=fn(t);if(Im(e))return t}function _b(t,e){if(t==="change")return e}var dg=!1;if(It){var rl;if(It){var nl="oninput"in document;if(!nl){var Ph=document.createElement("div");Ph.setAttribute("oninput","return;"),nl=typeof Ph.oninput=="function"}rl=nl}else rl=!1;dg=rl&&(!document.documentMode||9<document.documentMode)}function Ah(){Es&&(Es.detachEvent("onpropertychange",hg),zs=Es=null)}function hg(t){if(t.propertyName==="value"&&ya(zs)){var e=[];cg(e,zs,t,kc(t)),qm(bb,e)}}function jb(t,e,r){t==="focusin"?(Ah(),Es=e,zs=r,Es.attachEvent("onpropertychange",hg)):t==="focusout"&&Ah()}function Sb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ya(zs)}function kb(t,e){if(t==="click")return ya(e)}function Eb(t,e){if(t==="input"||t==="change")return ya(e)}function Nb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gt=typeof Object.is=="function"?Object.is:Nb;function Fs(t,e){if(gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Vl.call(e,s)||!gt(t[s],e[s]))return!1}return!0}function Rh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Oh(t,e){var r=Rh(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rh(r)}}function fg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pg(){for(var t=window,e=ko();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ko(t.document)}return e}function Ic(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Tb(t){var e=pg(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&fg(r.ownerDocument.documentElement,r)){if(n!==null&&Ic(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Oh(r,i);var o=Oh(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Cb=It&&"documentMode"in document&&11>=document.documentMode,dn=null,iu=null,Ns=null,ou=!1;function Ih(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ou||dn==null||dn!==ko(n)||(n=dn,"selectionStart"in n&&Ic(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ns&&Fs(Ns,n)||(Ns=n,n=Ro(iu,"onSelect"),0<n.length&&(e=new Ac("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=dn)))}function Mi(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var hn={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionend:Mi("Transition","TransitionEnd")},sl={},mg={};It&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete hn.animationend.animation,delete hn.animationiteration.animation,delete hn.animationstart.animation),"TransitionEvent"in window||delete hn.transitionend.transition);function va(t){if(sl[t])return sl[t];if(!hn[t])return t;var e=hn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in mg)return sl[t]=e[r];return t}var gg=va("animationend"),yg=va("animationiteration"),vg=va("animationstart"),xg=va("transitionend"),wg=new Map,Lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pr(t,e){wg.set(t,e),Jr(e,[t])}for(var il=0;il<Lh.length;il++){var ol=Lh[il],Pb=ol.toLowerCase(),Ab=ol[0].toUpperCase()+ol.slice(1);pr(Pb,"on"+Ab)}pr(gg,"onAnimationEnd");pr(yg,"onAnimationIteration");pr(vg,"onAnimationStart");pr("dblclick","onDoubleClick");pr("focusin","onFocus");pr("focusout","onBlur");pr(xg,"onTransitionEnd");On("onMouseEnter",["mouseout","mouseover"]);On("onMouseLeave",["mouseout","mouseover"]);On("onPointerEnter",["pointerout","pointerover"]);On("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rb=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function Dh(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Pw(n,e,void 0,t),t.currentTarget=null}function bg(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Dh(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Dh(s,a,c),i=l}}}if(No)throw t=tu,No=!1,tu=null,t}function H(t,e){var r=e[du];r===void 0&&(r=e[du]=new Set);var n=t+"__bubble";r.has(n)||(_g(e,t,2,!1),r.add(n))}function al(t,e,r){var n=0;e&&(n|=4),_g(r,t,n,e)}var $i="_reactListening"+Math.random().toString(36).slice(2);function Ws(t){if(!t[$i]){t[$i]=!0,Cm.forEach(function(r){r!=="selectionchange"&&(Rb.has(r)||al(r,!1,t),al(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$i]||(e[$i]=!0,al("selectionchange",!1,e))}}function _g(t,e,r,n){switch(ig(e)){case 1:var s=Hw;break;case 4:s=Kw;break;default:s=Cc}r=s.bind(null,e,r,t),s=void 0,!eu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function ll(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Lr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}qm(function(){var c=i,d=kc(r),h=[];e:{var f=wg.get(t);if(f!==void 0){var p=Ac,g=t;switch(t){case"keypress":if(uo(r)===0)break e;case"keydown":case"keyup":p=lb;break;case"focusin":g="focus",p=tl;break;case"focusout":g="blur",p=tl;break;case"beforeblur":case"afterblur":p=tl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Qw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=db;break;case gg:case yg:case vg:p=Zw;break;case xg:p=fb;break;case"scroll":p=Gw;break;case"wheel":p=mb;break;case"copy":case"cut":case"paste":p=tb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Eh}var x=(e&4)!==0,w=!x&&t==="scroll",y=x?f!==null?f+"Capture":null:f;x=[];for(var m=c,v;m!==null;){v=m;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,y!==null&&(_=$s(m,y),_!=null&&x.push(qs(m,_,v)))),w)break;m=m.return}0<x.length&&(f=new p(f,g,null,r,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==Xl&&(g=r.relatedTarget||r.fromElement)&&(Lr(g)||g[Lt]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Lr(g):null,g!==null&&(w=Qr(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(x=Sh,_="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(x=Eh,_="onPointerLeave",y="onPointerEnter",m="pointer"),w=p==null?f:fn(p),v=g==null?f:fn(g),f=new x(_,m+"leave",p,r,d),f.target=w,f.relatedTarget=v,_=null,Lr(d)===c&&(x=new x(y,m+"enter",g,r,d),x.target=v,x.relatedTarget=w,_=x),w=_,p&&g)t:{for(x=p,y=g,m=0,v=x;v;v=en(v))m++;for(v=0,_=y;_;_=en(_))v++;for(;0<m-v;)x=en(x),m--;for(;0<v-m;)y=en(y),v--;for(;m--;){if(x===y||y!==null&&x===y.alternate)break t;x=en(x),y=en(y)}x=null}else x=null;p!==null&&Mh(h,f,p,x,!1),g!==null&&w!==null&&Mh(h,w,g,x,!0)}}e:{if(f=c?fn(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var j=_b;else if(Ch(f))if(dg)j=Eb;else{j=Sb;var S=jb}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=kb);if(j&&(j=j(t,c))){cg(h,j,r,d);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Kl(f,"number",f.value)}switch(S=c?fn(c):window,t){case"focusin":(Ch(S)||S.contentEditable==="true")&&(dn=S,iu=c,Ns=null);break;case"focusout":Ns=iu=dn=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,Ih(h,r,d);break;case"selectionchange":if(Cb)break;case"keydown":case"keyup":Ih(h,r,d)}var E;if(Oc)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else cn?lg(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(ag&&r.locale!=="ko"&&(cn||k!=="onCompositionStart"?k==="onCompositionEnd"&&cn&&(E=og()):(Xt=d,Pc="value"in Xt?Xt.value:Xt.textContent,cn=!0)),S=Ro(c,k),0<S.length&&(k=new kh(k,t,null,r,d),h.push({event:k,listeners:S}),E?k.data=E:(E=ug(r),E!==null&&(k.data=E)))),(E=yb?vb(t,r):xb(t,r))&&(c=Ro(c,"onBeforeInput"),0<c.length&&(d=new kh("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=E))}bg(h,e)})}function qs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ro(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$s(t,r),i!=null&&n.unshift(qs(t,i,s)),i=$s(t,e),i!=null&&n.push(qs(t,i,s))),t=t.return}return n}function en(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mh(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=$s(r,i),l!=null&&o.unshift(qs(r,l,a))):s||(l=$s(r,i),l!=null&&o.push(qs(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Ob=/\r\n?/g,Ib=/\u0000|\uFFFD/g;function $h(t){return(typeof t=="string"?t:""+t).replace(Ob,`
`).replace(Ib,"")}function Ui(t,e,r){if(e=$h(e),$h(t)!==e&&r)throw Error(N(425))}function Oo(){}var au=null,lu=null;function uu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cu=typeof setTimeout=="function"?setTimeout:void 0,Lb=typeof clearTimeout=="function"?clearTimeout:void 0,Uh=typeof Promise=="function"?Promise:void 0,Db=typeof queueMicrotask=="function"?queueMicrotask:typeof Uh<"u"?function(t){return Uh.resolve(null).then(t).catch(Mb)}:cu;function Mb(t){setTimeout(function(){throw t})}function ul(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Bs(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Bs(e)}function sr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Qn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Qn,Hs="__reactProps$"+Qn,Lt="__reactContainer$"+Qn,du="__reactEvents$"+Qn,$b="__reactListeners$"+Qn,Ub="__reactHandles$"+Qn;function Lr(t){var e=t[bt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Lt]||r[bt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Vh(t);t!==null;){if(r=t[bt])return r;t=Vh(t)}return e}t=r,r=t.parentNode}return null}function fi(t){return t=t[bt]||t[Lt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function xa(t){return t[Hs]||null}var hu=[],pn=-1;function mr(t){return{current:t}}function K(t){0>pn||(t.current=hu[pn],hu[pn]=null,pn--)}function q(t,e){pn++,hu[pn]=t.current,t.current=e}var dr={},Pe=mr(dr),Ve=mr(!1),Fr=dr;function In(t,e){var r=t.type.contextTypes;if(!r)return dr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Be(t){return t=t.childContextTypes,t!=null}function Io(){K(Ve),K(Pe)}function Bh(t,e,r){if(Pe.current!==dr)throw Error(N(168));q(Pe,e),q(Ve,r)}function jg(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(N(108,jw(t)||"Unknown",s));return ee({},r,n)}function Lo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||dr,Fr=Pe.current,q(Pe,t),q(Ve,Ve.current),!0}function zh(t,e,r){var n=t.stateNode;if(!n)throw Error(N(169));r?(t=jg(t,e,Fr),n.__reactInternalMemoizedMergedChildContext=t,K(Ve),K(Pe),q(Pe,t)):K(Ve),q(Ve,r)}var Tt=null,wa=!1,cl=!1;function Sg(t){Tt===null?Tt=[t]:Tt.push(t)}function Vb(t){wa=!0,Sg(t)}function gr(){if(!cl&&Tt!==null){cl=!0;var t=0,e=F;try{var r=Tt;for(F=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Tt=null,wa=!1}catch(s){throw Tt!==null&&(Tt=Tt.slice(t+1)),Jm(Ec,gr),s}finally{F=e,cl=!1}}return null}var mn=[],gn=0,Do=null,Mo=0,et=[],tt=0,Wr=null,Ct=1,Pt="";function Er(t,e){mn[gn++]=Mo,mn[gn++]=Do,Do=t,Mo=e}function kg(t,e,r){et[tt++]=Ct,et[tt++]=Pt,et[tt++]=Wr,Wr=t;var n=Ct;t=Pt;var s=32-pt(n)-1;n&=~(1<<s),r+=1;var i=32-pt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ct=1<<32-pt(e)+s|r<<s|n,Pt=i+t}else Ct=1<<i|r<<s|n,Pt=t}function Lc(t){t.return!==null&&(Er(t,1),kg(t,1,0))}function Dc(t){for(;t===Do;)Do=mn[--gn],mn[gn]=null,Mo=mn[--gn],mn[gn]=null;for(;t===Wr;)Wr=et[--tt],et[tt]=null,Pt=et[--tt],et[tt]=null,Ct=et[--tt],et[tt]=null}var He=null,qe=null,Q=!1,ft=null;function Eg(t,e){var r=rt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Fh(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,He=t,qe=sr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,He=t,qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Wr!==null?{id:Ct,overflow:Pt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=rt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,He=t,qe=null,!0):!1;default:return!1}}function fu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pu(t){if(Q){var e=qe;if(e){var r=e;if(!Fh(t,e)){if(fu(t))throw Error(N(418));e=sr(r.nextSibling);var n=He;e&&Fh(t,e)?Eg(n,r):(t.flags=t.flags&-4097|2,Q=!1,He=t)}}else{if(fu(t))throw Error(N(418));t.flags=t.flags&-4097|2,Q=!1,He=t}}}function Wh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;He=t}function Vi(t){if(t!==He)return!1;if(!Q)return Wh(t),Q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uu(t.type,t.memoizedProps)),e&&(e=qe)){if(fu(t))throw Ng(),Error(N(418));for(;e;)Eg(t,e),e=sr(e.nextSibling)}if(Wh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){qe=sr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}qe=null}}else qe=He?sr(t.stateNode.nextSibling):null;return!0}function Ng(){for(var t=qe;t;)t=sr(t.nextSibling)}function Ln(){qe=He=null,Q=!1}function Mc(t){ft===null?ft=[t]:ft.push(t)}var Bb=Ut.ReactCurrentBatchConfig;function us(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,t))}return t}function Bi(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qh(t){var e=t._init;return e(t._payload)}function Tg(t){function e(y,m){if(t){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function r(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=lr(y,m),y.index=0,y.sibling=null,y}function i(y,m,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,v,_){return m===null||m.tag!==6?(m=yl(v,y.mode,_),m.return=y,m):(m=s(m,v),m.return=y,m)}function l(y,m,v,_){var j=v.type;return j===un?d(y,m,v.props.children,_,v.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ht&&qh(j)===m.type)?(_=s(m,v.props),_.ref=us(y,m,v),_.return=y,_):(_=yo(v.type,v.key,v.props,null,y.mode,_),_.ref=us(y,m,v),_.return=y,_)}function c(y,m,v,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=vl(v,y.mode,_),m.return=y,m):(m=s(m,v.children||[]),m.return=y,m)}function d(y,m,v,_,j){return m===null||m.tag!==7?(m=Br(v,y.mode,_,j),m.return=y,m):(m=s(m,v),m.return=y,m)}function h(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=yl(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Pi:return v=yo(m.type,m.key,m.props,null,y.mode,v),v.ref=us(y,null,m),v.return=y,v;case ln:return m=vl(m,y.mode,v),m.return=y,m;case Ht:var _=m._init;return h(y,_(m._payload),v)}if(ps(m)||ss(m))return m=Br(m,y.mode,v,null),m.return=y,m;Bi(y,m)}return null}function f(y,m,v,_){var j=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:a(y,m,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Pi:return v.key===j?l(y,m,v,_):null;case ln:return v.key===j?c(y,m,v,_):null;case Ht:return j=v._init,f(y,m,j(v._payload),_)}if(ps(v)||ss(v))return j!==null?null:d(y,m,v,_,null);Bi(y,v)}return null}function p(y,m,v,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(v)||null,a(m,y,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Pi:return y=y.get(_.key===null?v:_.key)||null,l(m,y,_,j);case ln:return y=y.get(_.key===null?v:_.key)||null,c(m,y,_,j);case Ht:var S=_._init;return p(y,m,v,S(_._payload),j)}if(ps(_)||ss(_))return y=y.get(v)||null,d(m,y,_,j,null);Bi(m,_)}return null}function g(y,m,v,_){for(var j=null,S=null,E=m,k=m=0,A=null;E!==null&&k<v.length;k++){E.index>k?(A=E,E=null):A=E.sibling;var I=f(y,E,v[k],_);if(I===null){E===null&&(E=A);break}t&&E&&I.alternate===null&&e(y,E),m=i(I,m,k),S===null?j=I:S.sibling=I,S=I,E=A}if(k===v.length)return r(y,E),Q&&Er(y,k),j;if(E===null){for(;k<v.length;k++)E=h(y,v[k],_),E!==null&&(m=i(E,m,k),S===null?j=E:S.sibling=E,S=E);return Q&&Er(y,k),j}for(E=n(y,E);k<v.length;k++)A=p(E,y,k,v[k],_),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?k:A.key),m=i(A,m,k),S===null?j=A:S.sibling=A,S=A);return t&&E.forEach(function(pe){return e(y,pe)}),Q&&Er(y,k),j}function x(y,m,v,_){var j=ss(v);if(typeof j!="function")throw Error(N(150));if(v=j.call(v),v==null)throw Error(N(151));for(var S=j=null,E=m,k=m=0,A=null,I=v.next();E!==null&&!I.done;k++,I=v.next()){E.index>k?(A=E,E=null):A=E.sibling;var pe=f(y,E,I.value,_);if(pe===null){E===null&&(E=A);break}t&&E&&pe.alternate===null&&e(y,E),m=i(pe,m,k),S===null?j=pe:S.sibling=pe,S=pe,E=A}if(I.done)return r(y,E),Q&&Er(y,k),j;if(E===null){for(;!I.done;k++,I=v.next())I=h(y,I.value,_),I!==null&&(m=i(I,m,k),S===null?j=I:S.sibling=I,S=I);return Q&&Er(y,k),j}for(E=n(y,E);!I.done;k++,I=v.next())I=p(E,y,k,I.value,_),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?k:I.key),m=i(I,m,k),S===null?j=I:S.sibling=I,S=I);return t&&E.forEach(function(Ft){return e(y,Ft)}),Q&&Er(y,k),j}function w(y,m,v,_){if(typeof v=="object"&&v!==null&&v.type===un&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Pi:e:{for(var j=v.key,S=m;S!==null;){if(S.key===j){if(j=v.type,j===un){if(S.tag===7){r(y,S.sibling),m=s(S,v.props.children),m.return=y,y=m;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ht&&qh(j)===S.type){r(y,S.sibling),m=s(S,v.props),m.ref=us(y,S,v),m.return=y,y=m;break e}r(y,S);break}else e(y,S);S=S.sibling}v.type===un?(m=Br(v.props.children,y.mode,_,v.key),m.return=y,y=m):(_=yo(v.type,v.key,v.props,null,y.mode,_),_.ref=us(y,m,v),_.return=y,y=_)}return o(y);case ln:e:{for(S=v.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){r(y,m.sibling),m=s(m,v.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else e(y,m);m=m.sibling}m=vl(v,y.mode,_),m.return=y,y=m}return o(y);case Ht:return S=v._init,w(y,m,S(v._payload),_)}if(ps(v))return g(y,m,v,_);if(ss(v))return x(y,m,v,_);Bi(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(r(y,m.sibling),m=s(m,v),m.return=y,y=m):(r(y,m),m=yl(v,y.mode,_),m.return=y,y=m),o(y)):r(y,m)}return w}var Dn=Tg(!0),Cg=Tg(!1),$o=mr(null),Uo=null,yn=null,$c=null;function Uc(){$c=yn=Uo=null}function Vc(t){var e=$o.current;K($o),t._currentValue=e}function mu(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Cn(t,e){Uo=t,$c=yn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($e=!0),t.firstContext=null)}function st(t){var e=t._currentValue;if($c!==t)if(t={context:t,memoizedValue:e,next:null},yn===null){if(Uo===null)throw Error(N(308));yn=t,Uo.dependencies={lanes:0,firstContext:t}}else yn=yn.next=t;return e}var Dr=null;function Bc(t){Dr===null?Dr=[t]:Dr.push(t)}function Pg(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Bc(e)):(r.next=s.next,s.next=r),e.interleaved=r,Dt(t,n)}function Dt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Kt=!1;function zc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ag(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function At(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ir(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,B&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Dt(t,r)}return s=n.interleaved,s===null?(e.next=e,Bc(n)):(e.next=s.next,s.next=e),n.interleaved=e,Dt(t,r)}function co(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Nc(t,r)}}function Hh(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Vo(t,e,r,n){var s=t.updateQueue;Kt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,x=a;switch(f=e,p=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=ee({},h,f);break e;case 2:Kt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Hr|=o,t.lanes=o,t.memoizedState=h}}function Kh(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var pi={},jt=mr(pi),Ks=mr(pi),Gs=mr(pi);function Mr(t){if(t===pi)throw Error(N(174));return t}function Fc(t,e){switch(q(Gs,e),q(Ks,t),q(jt,pi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jl(e,t)}K(jt),q(jt,e)}function Mn(){K(jt),K(Ks),K(Gs)}function Rg(t){Mr(Gs.current);var e=Mr(jt.current),r=Jl(e,t.type);e!==r&&(q(Ks,t),q(jt,r))}function Wc(t){Ks.current===t&&(K(jt),K(Ks))}var Y=mr(0);function Bo(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dl=[];function qc(){for(var t=0;t<dl.length;t++)dl[t]._workInProgressVersionPrimary=null;dl.length=0}var ho=Ut.ReactCurrentDispatcher,hl=Ut.ReactCurrentBatchConfig,qr=0,Z=null,he=null,ge=null,zo=!1,Ts=!1,Js=0,zb=0;function Se(){throw Error(N(321))}function Hc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!gt(t[r],e[r]))return!1;return!0}function Kc(t,e,r,n,s,i){if(qr=i,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ho.current=t===null||t.memoizedState===null?Hb:Kb,t=r(n,s),Ts){i=0;do{if(Ts=!1,Js=0,25<=i)throw Error(N(301));i+=1,ge=he=null,e.updateQueue=null,ho.current=Gb,t=r(n,s)}while(Ts)}if(ho.current=Fo,e=he!==null&&he.next!==null,qr=0,ge=he=Z=null,zo=!1,e)throw Error(N(300));return t}function Gc(){var t=Js!==0;return Js=0,t}function xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Z.memoizedState=ge=t:ge=ge.next=t,ge}function it(){if(he===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=ge===null?Z.memoizedState:ge.next;if(e!==null)ge=e,he=t;else{if(t===null)throw Error(N(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},ge===null?Z.memoizedState=ge=t:ge=ge.next=t}return ge}function Qs(t,e){return typeof e=="function"?e(t):e}function fl(t){var e=it(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=he,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((qr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Z.lanes|=d,Hr|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,gt(n,e.memoizedState)||($e=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Z.lanes|=i,Hr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function pl(t){var e=it(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);gt(i,e.memoizedState)||($e=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Og(){}function Ig(t,e){var r=Z,n=it(),s=e(),i=!gt(n.memoizedState,s);if(i&&(n.memoizedState=s,$e=!0),n=n.queue,Jc(Mg.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ge!==null&&ge.memoizedState.tag&1){if(r.flags|=2048,Ys(9,Dg.bind(null,r,n,s,e),void 0,null),ye===null)throw Error(N(349));qr&30||Lg(r,e,s)}return s}function Lg(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Dg(t,e,r,n){e.value=r,e.getSnapshot=n,$g(e)&&Ug(t)}function Mg(t,e,r){return r(function(){$g(e)&&Ug(t)})}function $g(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!gt(t,r)}catch{return!0}}function Ug(t){var e=Dt(t,1);e!==null&&mt(e,t,1,-1)}function Gh(t){var e=xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:t},e.queue=t,t=t.dispatch=qb.bind(null,Z,t),[e.memoizedState,t]}function Ys(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Vg(){return it().memoizedState}function fo(t,e,r,n){var s=xt();Z.flags|=t,s.memoizedState=Ys(1|e,r,void 0,n===void 0?null:n)}function ba(t,e,r,n){var s=it();n=n===void 0?null:n;var i=void 0;if(he!==null){var o=he.memoizedState;if(i=o.destroy,n!==null&&Hc(n,o.deps)){s.memoizedState=Ys(e,r,i,n);return}}Z.flags|=t,s.memoizedState=Ys(1|e,r,i,n)}function Jh(t,e){return fo(8390656,8,t,e)}function Jc(t,e){return ba(2048,8,t,e)}function Bg(t,e){return ba(4,2,t,e)}function zg(t,e){return ba(4,4,t,e)}function Fg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wg(t,e,r){return r=r!=null?r.concat([t]):null,ba(4,4,Fg.bind(null,e,t),r)}function Qc(){}function qg(t,e){var r=it();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Hc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Hg(t,e){var r=it();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Hc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Kg(t,e,r){return qr&21?(gt(r,e)||(r=Xm(),Z.lanes|=r,Hr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$e=!0),t.memoizedState=r)}function Fb(t,e){var r=F;F=r!==0&&4>r?r:4,t(!0);var n=hl.transition;hl.transition={};try{t(!1),e()}finally{F=r,hl.transition=n}}function Gg(){return it().memoizedState}function Wb(t,e,r){var n=ar(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jg(t))Qg(e,r);else if(r=Pg(t,e,r,n),r!==null){var s=Re();mt(r,t,n,s),Yg(r,e,n)}}function qb(t,e,r){var n=ar(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jg(t))Qg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,gt(a,o)){var l=e.interleaved;l===null?(s.next=s,Bc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Pg(t,e,s,n),r!==null&&(s=Re(),mt(r,t,n,s),Yg(r,e,n))}}function Jg(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function Qg(t,e){Ts=zo=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Yg(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Nc(t,r)}}var Fo={readContext:st,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Hb={readContext:st,useCallback:function(t,e){return xt().memoizedState=[t,e===void 0?null:e],t},useContext:st,useEffect:Jh,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,fo(4194308,4,Fg.bind(null,e,t),r)},useLayoutEffect:function(t,e){return fo(4194308,4,t,e)},useInsertionEffect:function(t,e){return fo(4,2,t,e)},useMemo:function(t,e){var r=xt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=xt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Wb.bind(null,Z,t),[n.memoizedState,t]},useRef:function(t){var e=xt();return t={current:t},e.memoizedState=t},useState:Gh,useDebugValue:Qc,useDeferredValue:function(t){return xt().memoizedState=t},useTransition:function(){var t=Gh(!1),e=t[0];return t=Fb.bind(null,t[1]),xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Z,s=xt();if(Q){if(r===void 0)throw Error(N(407));r=r()}else{if(r=e(),ye===null)throw Error(N(349));qr&30||Lg(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Jh(Mg.bind(null,n,i,t),[t]),n.flags|=2048,Ys(9,Dg.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=xt(),e=ye.identifierPrefix;if(Q){var r=Pt,n=Ct;r=(n&~(1<<32-pt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Js++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=zb++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Kb={readContext:st,useCallback:qg,useContext:st,useEffect:Jc,useImperativeHandle:Wg,useInsertionEffect:Bg,useLayoutEffect:zg,useMemo:Hg,useReducer:fl,useRef:Vg,useState:function(){return fl(Qs)},useDebugValue:Qc,useDeferredValue:function(t){var e=it();return Kg(e,he.memoizedState,t)},useTransition:function(){var t=fl(Qs)[0],e=it().memoizedState;return[t,e]},useMutableSource:Og,useSyncExternalStore:Ig,useId:Gg,unstable_isNewReconciler:!1},Gb={readContext:st,useCallback:qg,useContext:st,useEffect:Jc,useImperativeHandle:Wg,useInsertionEffect:Bg,useLayoutEffect:zg,useMemo:Hg,useReducer:pl,useRef:Vg,useState:function(){return pl(Qs)},useDebugValue:Qc,useDeferredValue:function(t){var e=it();return he===null?e.memoizedState=t:Kg(e,he.memoizedState,t)},useTransition:function(){var t=pl(Qs)[0],e=it().memoizedState;return[t,e]},useMutableSource:Og,useSyncExternalStore:Ig,useId:Gg,unstable_isNewReconciler:!1};function ut(t,e){if(t&&t.defaultProps){e=ee({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function gu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ee({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var _a={isMounted:function(t){return(t=t._reactInternals)?Qr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Re(),s=ar(t),i=At(n,s);i.payload=e,r!=null&&(i.callback=r),e=ir(t,i,s),e!==null&&(mt(e,t,s,n),co(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Re(),s=ar(t),i=At(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=ir(t,i,s),e!==null&&(mt(e,t,s,n),co(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Re(),n=ar(t),s=At(r,n);s.tag=2,e!=null&&(s.callback=e),e=ir(t,s,n),e!==null&&(mt(e,t,n,r),co(e,t,n))}};function Qh(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Fs(r,n)||!Fs(s,i):!0}function Xg(t,e,r){var n=!1,s=dr,i=e.contextType;return typeof i=="object"&&i!==null?i=st(i):(s=Be(e)?Fr:Pe.current,n=e.contextTypes,i=(n=n!=null)?In(t,s):dr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_a,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Yh(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&_a.enqueueReplaceState(e,e.state,null)}function yu(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},zc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=st(i):(i=Be(e)?Fr:Pe.current,s.context=In(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(gu(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_a.enqueueReplaceState(s,s.state,null),Vo(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $n(t,e){try{var r="",n=e;do r+=_w(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ml(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function vu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Jb=typeof WeakMap=="function"?WeakMap:Map;function Zg(t,e,r){r=At(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){qo||(qo=!0,Tu=n),vu(t,e)},r}function ey(t,e,r){r=At(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){vu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){vu(t,e),typeof n!="function"&&(or===null?or=new Set([this]):or.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Xh(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Jb;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=u1.bind(null,t,e,r),e.then(t,t))}function Zh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ef(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=At(-1,1),e.tag=2,ir(r,e,1))),r.lanes|=1),t)}var Qb=Ut.ReactCurrentOwner,$e=!1;function Ae(t,e,r,n){e.child=t===null?Cg(e,null,r,n):Dn(e,t.child,r,n)}function tf(t,e,r,n,s){r=r.render;var i=e.ref;return Cn(e,s),n=Kc(t,e,r,n,i,s),r=Gc(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mt(t,e,s)):(Q&&r&&Lc(e),e.flags|=1,Ae(t,e,n,s),e.child)}function rf(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!sd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,ty(t,e,i,n,s)):(t=yo(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Fs,r(o,n)&&t.ref===e.ref)return Mt(t,e,s)}return e.flags|=1,t=lr(i,n),t.ref=e.ref,t.return=e,e.child=t}function ty(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Fs(i,n)&&t.ref===e.ref)if($e=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&($e=!0);else return e.lanes=t.lanes,Mt(t,e,s)}return xu(t,e,r,n,s)}function ry(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(xn,Fe),Fe|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,q(xn,Fe),Fe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,q(xn,Fe),Fe|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,q(xn,Fe),Fe|=n;return Ae(t,e,s,r),e.child}function ny(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function xu(t,e,r,n,s){var i=Be(r)?Fr:Pe.current;return i=In(e,i),Cn(e,s),r=Kc(t,e,r,n,i,s),n=Gc(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mt(t,e,s)):(Q&&n&&Lc(e),e.flags|=1,Ae(t,e,r,s),e.child)}function nf(t,e,r,n,s){if(Be(r)){var i=!0;Lo(e)}else i=!1;if(Cn(e,s),e.stateNode===null)po(t,e),Xg(e,r,n),yu(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=st(c):(c=Be(r)?Fr:Pe.current,c=In(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Yh(e,o,n,c),Kt=!1;var f=e.memoizedState;o.state=f,Vo(e,n,o,s),l=e.memoizedState,a!==n||f!==l||Ve.current||Kt?(typeof d=="function"&&(gu(e,r,d,n),l=e.memoizedState),(a=Kt||Qh(e,r,a,n,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Ag(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ut(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=st(l):(l=Be(r)?Fr:Pe.current,l=In(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Yh(e,o,n,l),Kt=!1,f=e.memoizedState,o.state=f,Vo(e,n,o,s);var g=e.memoizedState;a!==h||f!==g||Ve.current||Kt?(typeof p=="function"&&(gu(e,r,p,n),g=e.memoizedState),(c=Kt||Qh(e,r,c,n,f,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return wu(t,e,r,n,i,s)}function wu(t,e,r,n,s,i){ny(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&zh(e,r,!1),Mt(t,e,i);n=e.stateNode,Qb.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Dn(e,t.child,null,i),e.child=Dn(e,null,a,i)):Ae(t,e,a,i),e.memoizedState=n.state,s&&zh(e,r,!0),e.child}function sy(t){var e=t.stateNode;e.pendingContext?Bh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Bh(t,e.context,!1),Fc(t,e.containerInfo)}function sf(t,e,r,n,s){return Ln(),Mc(s),e.flags|=256,Ae(t,e,r,n),e.child}var bu={dehydrated:null,treeContext:null,retryLane:0};function _u(t){return{baseLanes:t,cachePool:null,transitions:null}}function iy(t,e,r){var n=e.pendingProps,s=Y.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),q(Y,s&1),t===null)return pu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ka(o,n,0,null),t=Br(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=_u(r),e.memoizedState=bu,t):Yc(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Yb(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=lr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=lr(a,i):(i=Br(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?_u(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=bu,n}return i=t.child,t=i.sibling,n=lr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Yc(t,e){return e=ka({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zi(t,e,r,n){return n!==null&&Mc(n),Dn(e,t.child,null,r),t=Yc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yb(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=ml(Error(N(422))),zi(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=ka({mode:"visible",children:n.children},s,0,null),i=Br(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Dn(e,t.child,null,o),e.child.memoizedState=_u(o),e.memoizedState=bu,i);if(!(e.mode&1))return zi(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(N(419)),n=ml(i,n,void 0),zi(t,e,o,n)}if(a=(o&t.childLanes)!==0,$e||a){if(n=ye,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dt(t,s),mt(n,t,s,-1))}return nd(),n=ml(Error(N(421))),zi(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=c1.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,qe=sr(s.nextSibling),He=e,Q=!0,ft=null,t!==null&&(et[tt++]=Ct,et[tt++]=Pt,et[tt++]=Wr,Ct=t.id,Pt=t.overflow,Wr=e),e=Yc(e,n.children),e.flags|=4096,e)}function of(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),mu(t.return,e,r)}function gl(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function oy(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ae(t,e,n.children,r),n=Y.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&of(t,r,e);else if(t.tag===19)of(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(q(Y,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Bo(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),gl(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Bo(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}gl(e,!0,r,null,i);break;case"together":gl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function po(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Hr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,r=lr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=lr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Xb(t,e,r){switch(e.tag){case 3:sy(e),Ln();break;case 5:Rg(e);break;case 1:Be(e.type)&&Lo(e);break;case 4:Fc(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;q($o,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(q(Y,Y.current&1),e.flags|=128,null):r&e.child.childLanes?iy(t,e,r):(q(Y,Y.current&1),t=Mt(t,e,r),t!==null?t.sibling:null);q(Y,Y.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return oy(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(Y,Y.current),n)break;return null;case 22:case 23:return e.lanes=0,ry(t,e,r)}return Mt(t,e,r)}var ay,ju,ly,uy;ay=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ju=function(){};ly=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Mr(jt.current);var i=null;switch(r){case"input":s=ql(t,s),n=ql(t,n),i=[];break;case"select":s=ee({},s,{value:void 0}),n=ee({},n,{value:void 0}),i=[];break;case"textarea":s=Gl(t,s),n=Gl(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Oo)}Ql(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ds.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ds.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&H("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};uy=function(t,e,r,n){r!==n&&(e.flags|=4)};function cs(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Zb(t,e,r){var n=e.pendingProps;switch(Dc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(e),null;case 1:return Be(e.type)&&Io(),ke(e),null;case 3:return n=e.stateNode,Mn(),K(Ve),K(Pe),qc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Vi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ft!==null&&(Au(ft),ft=null))),ju(t,e),ke(e),null;case 5:Wc(e);var s=Mr(Gs.current);if(r=e.type,t!==null&&e.stateNode!=null)ly(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(N(166));return ke(e),null}if(t=Mr(jt.current),Vi(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[bt]=e,n[Hs]=i,t=(e.mode&1)!==0,r){case"dialog":H("cancel",n),H("close",n);break;case"iframe":case"object":case"embed":H("load",n);break;case"video":case"audio":for(s=0;s<gs.length;s++)H(gs[s],n);break;case"source":H("error",n);break;case"img":case"image":case"link":H("error",n),H("load",n);break;case"details":H("toggle",n);break;case"input":ph(n,i),H("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},H("invalid",n);break;case"textarea":gh(n,i),H("invalid",n)}Ql(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ui(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ui(n.textContent,a,t),s=["children",""+a]):Ds.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&H("scroll",n)}switch(r){case"input":Ai(n),mh(n,i,!0);break;case"textarea":Ai(n),yh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Oo)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Mm(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[bt]=e,t[Hs]=n,ay(t,e,!1,!1),e.stateNode=t;e:{switch(o=Yl(r,n),r){case"dialog":H("cancel",t),H("close",t),s=n;break;case"iframe":case"object":case"embed":H("load",t),s=n;break;case"video":case"audio":for(s=0;s<gs.length;s++)H(gs[s],t);s=n;break;case"source":H("error",t),s=n;break;case"img":case"image":case"link":H("error",t),H("load",t),s=n;break;case"details":H("toggle",t),s=n;break;case"input":ph(t,n),s=ql(t,n),H("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ee({},n,{value:void 0}),H("invalid",t);break;case"textarea":gh(t,n),s=Gl(t,n),H("invalid",t);break;default:s=n}Ql(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Vm(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$m(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ms(t,l):typeof l=="number"&&Ms(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ds.hasOwnProperty(i)?l!=null&&i==="onScroll"&&H("scroll",t):l!=null&&bc(t,i,l,o))}switch(r){case"input":Ai(t),mh(t,n,!1);break;case"textarea":Ai(t),yh(t);break;case"option":n.value!=null&&t.setAttribute("value",""+cr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?kn(t,!!n.multiple,i,!1):n.defaultValue!=null&&kn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Oo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ke(e),null;case 6:if(t&&e.stateNode!=null)uy(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(N(166));if(r=Mr(Gs.current),Mr(jt.current),Vi(e)){if(n=e.stateNode,r=e.memoizedProps,n[bt]=e,(i=n.nodeValue!==r)&&(t=He,t!==null))switch(t.tag){case 3:Ui(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ui(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[bt]=e,e.stateNode=n}return ke(e),null;case 13:if(K(Y),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Q&&qe!==null&&e.mode&1&&!(e.flags&128))Ng(),Ln(),e.flags|=98560,i=!1;else if(i=Vi(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[bt]=e}else Ln(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ke(e),i=!1}else ft!==null&&(Au(ft),ft=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?fe===0&&(fe=3):nd())),e.updateQueue!==null&&(e.flags|=4),ke(e),null);case 4:return Mn(),ju(t,e),t===null&&Ws(e.stateNode.containerInfo),ke(e),null;case 10:return Vc(e.type._context),ke(e),null;case 17:return Be(e.type)&&Io(),ke(e),null;case 19:if(K(Y),i=e.memoizedState,i===null)return ke(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)cs(i,!1);else{if(fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bo(t),o!==null){for(e.flags|=128,cs(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return q(Y,Y.current&1|2),e.child}t=t.sibling}i.tail!==null&&oe()>Un&&(e.flags|=128,n=!0,cs(i,!1),e.lanes=4194304)}else{if(!n)if(t=Bo(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),cs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Q)return ke(e),null}else 2*oe()-i.renderingStartTime>Un&&r!==1073741824&&(e.flags|=128,n=!0,cs(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=oe(),e.sibling=null,r=Y.current,q(Y,n?r&1|2:r&1),e):(ke(e),null);case 22:case 23:return rd(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Fe&1073741824&&(ke(e),e.subtreeFlags&6&&(e.flags|=8192)):ke(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function e1(t,e){switch(Dc(e),e.tag){case 1:return Be(e.type)&&Io(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mn(),K(Ve),K(Pe),qc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wc(e),null;case 13:if(K(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Ln()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(Y),null;case 4:return Mn(),null;case 10:return Vc(e.type._context),null;case 22:case 23:return rd(),null;case 24:return null;default:return null}}var Fi=!1,Ne=!1,t1=typeof WeakSet=="function"?WeakSet:Set,C=null;function vn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(t,e,n)}else r.current=null}function Su(t,e,r){try{r()}catch(n){re(t,e,n)}}var af=!1;function r1(t,e){if(au=Po,t=pg(),Ic(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++c===s&&(a=o),f===i&&++d===n&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(lu={focusedElem:t,selectionRange:r},Po=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,w=g.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:ut(e.type,x),w);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(_){re(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return g=af,af=!1,g}function Cs(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Su(e,r,i)}s=s.next}while(s!==n)}}function ja(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ku(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function cy(t){var e=t.alternate;e!==null&&(t.alternate=null,cy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bt],delete e[Hs],delete e[du],delete e[$b],delete e[Ub])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dy(t){return t.tag===5||t.tag===3||t.tag===4}function lf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Eu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Oo));else if(n!==4&&(t=t.child,t!==null))for(Eu(t,e,r),t=t.sibling;t!==null;)Eu(t,e,r),t=t.sibling}function Nu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Nu(t,e,r),t=t.sibling;t!==null;)Nu(t,e,r),t=t.sibling}var we=null,dt=!1;function Wt(t,e,r){for(r=r.child;r!==null;)hy(t,e,r),r=r.sibling}function hy(t,e,r){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(ma,r)}catch{}switch(r.tag){case 5:Ne||vn(r,e);case 6:var n=we,s=dt;we=null,Wt(t,e,r),we=n,dt=s,we!==null&&(dt?(t=we,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):we.removeChild(r.stateNode));break;case 18:we!==null&&(dt?(t=we,r=r.stateNode,t.nodeType===8?ul(t.parentNode,r):t.nodeType===1&&ul(t,r),Bs(t)):ul(we,r.stateNode));break;case 4:n=we,s=dt,we=r.stateNode.containerInfo,dt=!0,Wt(t,e,r),we=n,dt=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Su(r,e,o),s=s.next}while(s!==n)}Wt(t,e,r);break;case 1:if(!Ne&&(vn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){re(r,e,a)}Wt(t,e,r);break;case 21:Wt(t,e,r);break;case 22:r.mode&1?(Ne=(n=Ne)||r.memoizedState!==null,Wt(t,e,r),Ne=n):Wt(t,e,r);break;default:Wt(t,e,r)}}function uf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new t1),e.forEach(function(n){var s=d1.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ot(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:we=a.stateNode,dt=!1;break e;case 3:we=a.stateNode.containerInfo,dt=!0;break e;case 4:we=a.stateNode.containerInfo,dt=!0;break e}a=a.return}if(we===null)throw Error(N(160));hy(i,o,s),we=null,dt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){re(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fy(e,t),e=e.sibling}function fy(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ot(e,t),vt(t),n&4){try{Cs(3,t,t.return),ja(3,t)}catch(x){re(t,t.return,x)}try{Cs(5,t,t.return)}catch(x){re(t,t.return,x)}}break;case 1:ot(e,t),vt(t),n&512&&r!==null&&vn(r,r.return);break;case 5:if(ot(e,t),vt(t),n&512&&r!==null&&vn(r,r.return),t.flags&32){var s=t.stateNode;try{Ms(s,"")}catch(x){re(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Lm(s,i),Yl(a,o);var c=Yl(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Vm(s,h):d==="dangerouslySetInnerHTML"?$m(s,h):d==="children"?Ms(s,h):bc(s,d,h,c)}switch(a){case"input":Hl(s,i);break;case"textarea":Dm(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?kn(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?kn(s,!!i.multiple,i.defaultValue,!0):kn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hs]=i}catch(x){re(t,t.return,x)}}break;case 6:if(ot(e,t),vt(t),n&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){re(t,t.return,x)}}break;case 3:if(ot(e,t),vt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Bs(e.containerInfo)}catch(x){re(t,t.return,x)}break;case 4:ot(e,t),vt(t);break;case 13:ot(e,t),vt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ed=oe())),n&4&&uf(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Ne=(c=Ne)||d,ot(e,t),Ne=c):ot(e,t),vt(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(C=t,d=t.child;d!==null;){for(h=C=d;C!==null;){switch(f=C,p=f.child,f.tag){case 0:case 11:case 14:case 15:Cs(4,f,f.return);break;case 1:vn(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){re(n,r,x)}}break;case 5:vn(f,f.return);break;case 22:if(f.memoizedState!==null){df(h);continue}}p!==null?(p.return=f,C=p):df(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Um("display",o))}catch(x){re(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){re(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ot(e,t),vt(t),n&4&&uf(t);break;case 21:break;default:ot(e,t),vt(t)}}function vt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(dy(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ms(s,""),n.flags&=-33);var i=lf(t);Nu(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=lf(t);Eu(t,a,o);break;default:throw Error(N(161))}}catch(l){re(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function n1(t,e,r){C=t,py(t)}function py(t,e,r){for(var n=(t.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Fi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ne;a=Fi;var c=Ne;if(Fi=o,(Ne=l)&&!c)for(C=s;C!==null;)o=C,l=o.child,o.tag===22&&o.memoizedState!==null?hf(s):l!==null?(l.return=o,C=l):hf(s);for(;i!==null;)C=i,py(i),i=i.sibling;C=s,Fi=a,Ne=c}cf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):cf(t)}}function cf(t){for(;C!==null;){var e=C;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ne||ja(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ne)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ut(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Kh(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Kh(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Bs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Ne||e.flags&512&&ku(e)}catch(f){re(e,e.return,f)}}if(e===t){C=null;break}if(r=e.sibling,r!==null){r.return=e.return,C=r;break}C=e.return}}function df(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var r=e.sibling;if(r!==null){r.return=e.return,C=r;break}C=e.return}}function hf(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ja(4,e)}catch(l){re(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){re(e,s,l)}}var i=e.return;try{ku(e)}catch(l){re(e,i,l)}break;case 5:var o=e.return;try{ku(e)}catch(l){re(e,o,l)}}}catch(l){re(e,e.return,l)}if(e===t){C=null;break}var a=e.sibling;if(a!==null){a.return=e.return,C=a;break}C=e.return}}var s1=Math.ceil,Wo=Ut.ReactCurrentDispatcher,Xc=Ut.ReactCurrentOwner,nt=Ut.ReactCurrentBatchConfig,B=0,ye=null,ue=null,_e=0,Fe=0,xn=mr(0),fe=0,Xs=null,Hr=0,Sa=0,Zc=0,Ps=null,De=null,ed=0,Un=1/0,Nt=null,qo=!1,Tu=null,or=null,Wi=!1,Zt=null,Ho=0,As=0,Cu=null,mo=-1,go=0;function Re(){return B&6?oe():mo!==-1?mo:mo=oe()}function ar(t){return t.mode&1?B&2&&_e!==0?_e&-_e:Bb.transition!==null?(go===0&&(go=Xm()),go):(t=F,t!==0||(t=window.event,t=t===void 0?16:ig(t.type)),t):1}function mt(t,e,r,n){if(50<As)throw As=0,Cu=null,Error(N(185));di(t,r,n),(!(B&2)||t!==ye)&&(t===ye&&(!(B&2)&&(Sa|=r),fe===4&&Jt(t,_e)),ze(t,n),r===1&&B===0&&!(e.mode&1)&&(Un=oe()+500,wa&&gr()))}function ze(t,e){var r=t.callbackNode;Bw(t,e);var n=Co(t,t===ye?_e:0);if(n===0)r!==null&&wh(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&wh(r),e===1)t.tag===0?Vb(ff.bind(null,t)):Sg(ff.bind(null,t)),Db(function(){!(B&6)&&gr()}),r=null;else{switch(Zm(n)){case 1:r=Ec;break;case 4:r=Qm;break;case 16:r=To;break;case 536870912:r=Ym;break;default:r=To}r=_y(r,my.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function my(t,e){if(mo=-1,go=0,B&6)throw Error(N(327));var r=t.callbackNode;if(Pn()&&t.callbackNode!==r)return null;var n=Co(t,t===ye?_e:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ko(t,n);else{e=n;var s=B;B|=2;var i=yy();(ye!==t||_e!==e)&&(Nt=null,Un=oe()+500,Vr(t,e));do try{a1();break}catch(a){gy(t,a)}while(!0);Uc(),Wo.current=i,B=s,ue!==null?e=0:(ye=null,_e=0,e=fe)}if(e!==0){if(e===2&&(s=ru(t),s!==0&&(n=s,e=Pu(t,s))),e===1)throw r=Xs,Vr(t,0),Jt(t,n),ze(t,oe()),r;if(e===6)Jt(t,n);else{if(s=t.current.alternate,!(n&30)&&!i1(s)&&(e=Ko(t,n),e===2&&(i=ru(t),i!==0&&(n=i,e=Pu(t,i))),e===1))throw r=Xs,Vr(t,0),Jt(t,n),ze(t,oe()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(N(345));case 2:Nr(t,De,Nt);break;case 3:if(Jt(t,n),(n&130023424)===n&&(e=ed+500-oe(),10<e)){if(Co(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Re(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=cu(Nr.bind(null,t,De,Nt),e);break}Nr(t,De,Nt);break;case 4:if(Jt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-pt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=oe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*s1(n/1960))-n,10<n){t.timeoutHandle=cu(Nr.bind(null,t,De,Nt),n);break}Nr(t,De,Nt);break;case 5:Nr(t,De,Nt);break;default:throw Error(N(329))}}}return ze(t,oe()),t.callbackNode===r?my.bind(null,t):null}function Pu(t,e){var r=Ps;return t.current.memoizedState.isDehydrated&&(Vr(t,e).flags|=256),t=Ko(t,e),t!==2&&(e=De,De=r,e!==null&&Au(e)),t}function Au(t){De===null?De=t:De.push.apply(De,t)}function i1(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!gt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jt(t,e){for(e&=~Zc,e&=~Sa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-pt(e),n=1<<r;t[r]=-1,e&=~n}}function ff(t){if(B&6)throw Error(N(327));Pn();var e=Co(t,0);if(!(e&1))return ze(t,oe()),null;var r=Ko(t,e);if(t.tag!==0&&r===2){var n=ru(t);n!==0&&(e=n,r=Pu(t,n))}if(r===1)throw r=Xs,Vr(t,0),Jt(t,e),ze(t,oe()),r;if(r===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Nr(t,De,Nt),ze(t,oe()),null}function td(t,e){var r=B;B|=1;try{return t(e)}finally{B=r,B===0&&(Un=oe()+500,wa&&gr())}}function Kr(t){Zt!==null&&Zt.tag===0&&!(B&6)&&Pn();var e=B;B|=1;var r=nt.transition,n=F;try{if(nt.transition=null,F=1,t)return t()}finally{F=n,nt.transition=r,B=e,!(B&6)&&gr()}}function rd(){Fe=xn.current,K(xn)}function Vr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Lb(r)),ue!==null)for(r=ue.return;r!==null;){var n=r;switch(Dc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Io();break;case 3:Mn(),K(Ve),K(Pe),qc();break;case 5:Wc(n);break;case 4:Mn();break;case 13:K(Y);break;case 19:K(Y);break;case 10:Vc(n.type._context);break;case 22:case 23:rd()}r=r.return}if(ye=t,ue=t=lr(t.current,null),_e=Fe=e,fe=0,Xs=null,Zc=Sa=Hr=0,De=Ps=null,Dr!==null){for(e=0;e<Dr.length;e++)if(r=Dr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Dr=null}return t}function gy(t,e){do{var r=ue;try{if(Uc(),ho.current=Fo,zo){for(var n=Z.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}zo=!1}if(qr=0,ge=he=Z=null,Ts=!1,Js=0,Xc.current=null,r===null||r.return===null){fe=1,Xs=e,ue=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=_e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Zh(o);if(p!==null){p.flags&=-257,ef(p,o,a,i,e),p.mode&1&&Xh(i,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){Xh(i,c,e),nd();break e}l=Error(N(426))}}else if(Q&&a.mode&1){var w=Zh(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ef(w,o,a,i,e),Mc($n(l,a));break e}}i=l=$n(l,a),fe!==4&&(fe=2),Ps===null?Ps=[i]:Ps.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Zg(i,l,e);Hh(i,y);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(or===null||!or.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=ey(i,a,e);Hh(i,_);break e}}i=i.return}while(i!==null)}xy(r)}catch(j){e=j,ue===r&&r!==null&&(ue=r=r.return);continue}break}while(!0)}function yy(){var t=Wo.current;return Wo.current=Fo,t===null?Fo:t}function nd(){(fe===0||fe===3||fe===2)&&(fe=4),ye===null||!(Hr&268435455)&&!(Sa&268435455)||Jt(ye,_e)}function Ko(t,e){var r=B;B|=2;var n=yy();(ye!==t||_e!==e)&&(Nt=null,Vr(t,e));do try{o1();break}catch(s){gy(t,s)}while(!0);if(Uc(),B=r,Wo.current=n,ue!==null)throw Error(N(261));return ye=null,_e=0,fe}function o1(){for(;ue!==null;)vy(ue)}function a1(){for(;ue!==null&&!Rw();)vy(ue)}function vy(t){var e=by(t.alternate,t,Fe);t.memoizedProps=t.pendingProps,e===null?xy(t):ue=e,Xc.current=null}function xy(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=e1(r,e),r!==null){r.flags&=32767,ue=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fe=6,ue=null;return}}else if(r=Zb(r,e,Fe),r!==null){ue=r;return}if(e=e.sibling,e!==null){ue=e;return}ue=e=t}while(e!==null);fe===0&&(fe=5)}function Nr(t,e,r){var n=F,s=nt.transition;try{nt.transition=null,F=1,l1(t,e,r,n)}finally{nt.transition=s,F=n}return null}function l1(t,e,r,n){do Pn();while(Zt!==null);if(B&6)throw Error(N(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(zw(t,i),t===ye&&(ue=ye=null,_e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Wi||(Wi=!0,_y(To,function(){return Pn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=nt.transition,nt.transition=null;var o=F;F=1;var a=B;B|=4,Xc.current=null,r1(t,r),fy(r,t),Tb(lu),Po=!!au,lu=au=null,t.current=r,n1(r),Ow(),B=a,F=o,nt.transition=i}else t.current=r;if(Wi&&(Wi=!1,Zt=t,Ho=s),i=t.pendingLanes,i===0&&(or=null),Dw(r.stateNode),ze(t,oe()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(qo)throw qo=!1,t=Tu,Tu=null,t;return Ho&1&&t.tag!==0&&Pn(),i=t.pendingLanes,i&1?t===Cu?As++:(As=0,Cu=t):As=0,gr(),null}function Pn(){if(Zt!==null){var t=Zm(Ho),e=nt.transition,r=F;try{if(nt.transition=null,F=16>t?16:t,Zt===null)var n=!1;else{if(t=Zt,Zt=null,Ho=0,B&6)throw Error(N(331));var s=B;for(B|=4,C=t.current;C!==null;){var i=C,o=i.child;if(C.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(C=c;C!==null;){var d=C;switch(d.tag){case 0:case 11:case 15:Cs(8,d,i)}var h=d.child;if(h!==null)h.return=d,C=h;else for(;C!==null;){d=C;var f=d.sibling,p=d.return;if(cy(d),d===c){C=null;break}if(f!==null){f.return=p,C=f;break}C=p}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}C=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,C=o;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cs(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,C=y;break e}C=i.return}}var m=t.current;for(C=m;C!==null;){o=C;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,C=v;else e:for(o=m;C!==null;){if(a=C,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ja(9,a)}}catch(j){re(a,a.return,j)}if(a===o){C=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,C=_;break e}C=a.return}}if(B=s,gr(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(ma,t)}catch{}n=!0}return n}finally{F=r,nt.transition=e}}return!1}function pf(t,e,r){e=$n(r,e),e=Zg(t,e,1),t=ir(t,e,1),e=Re(),t!==null&&(di(t,1,e),ze(t,e))}function re(t,e,r){if(t.tag===3)pf(t,t,r);else for(;e!==null;){if(e.tag===3){pf(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(or===null||!or.has(n))){t=$n(r,t),t=ey(e,t,1),e=ir(e,t,1),t=Re(),e!==null&&(di(e,1,t),ze(e,t));break}}e=e.return}}function u1(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Re(),t.pingedLanes|=t.suspendedLanes&r,ye===t&&(_e&r)===r&&(fe===4||fe===3&&(_e&130023424)===_e&&500>oe()-ed?Vr(t,0):Zc|=r),ze(t,e)}function wy(t,e){e===0&&(t.mode&1?(e=Ii,Ii<<=1,!(Ii&130023424)&&(Ii=4194304)):e=1);var r=Re();t=Dt(t,e),t!==null&&(di(t,e,r),ze(t,r))}function c1(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),wy(t,r)}function d1(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(e),wy(t,r)}var by;by=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ve.current)$e=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return $e=!1,Xb(t,e,r);$e=!!(t.flags&131072)}else $e=!1,Q&&e.flags&1048576&&kg(e,Mo,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;po(t,e),t=e.pendingProps;var s=In(e,Pe.current);Cn(e,r),s=Kc(null,e,n,t,s,r);var i=Gc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Be(n)?(i=!0,Lo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zc(e),s.updater=_a,e.stateNode=s,s._reactInternals=e,yu(e,n,t,r),e=wu(null,e,n,!0,i,r)):(e.tag=0,Q&&i&&Lc(e),Ae(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(po(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=f1(n),t=ut(n,t),s){case 0:e=xu(null,e,n,t,r);break e;case 1:e=nf(null,e,n,t,r);break e;case 11:e=tf(null,e,n,t,r);break e;case 14:e=rf(null,e,n,ut(n.type,t),r);break e}throw Error(N(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ut(n,s),xu(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ut(n,s),nf(t,e,n,s,r);case 3:e:{if(sy(e),t===null)throw Error(N(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Ag(t,e),Vo(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$n(Error(N(423)),e),e=sf(t,e,n,r,s);break e}else if(n!==s){s=$n(Error(N(424)),e),e=sf(t,e,n,r,s);break e}else for(qe=sr(e.stateNode.containerInfo.firstChild),He=e,Q=!0,ft=null,r=Cg(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ln(),n===s){e=Mt(t,e,r);break e}Ae(t,e,n,r)}e=e.child}return e;case 5:return Rg(e),t===null&&pu(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,uu(n,s)?o=null:i!==null&&uu(n,i)&&(e.flags|=32),ny(t,e),Ae(t,e,o,r),e.child;case 6:return t===null&&pu(e),null;case 13:return iy(t,e,r);case 4:return Fc(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Dn(e,null,n,r):Ae(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ut(n,s),tf(t,e,n,s,r);case 7:return Ae(t,e,e.pendingProps,r),e.child;case 8:return Ae(t,e,e.pendingProps.children,r),e.child;case 12:return Ae(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,q($o,n._currentValue),n._currentValue=o,i!==null)if(gt(i.value,o)){if(i.children===s.children&&!Ve.current){e=Mt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=At(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),mu(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),mu(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ae(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Cn(e,r),s=st(s),n=n(s),e.flags|=1,Ae(t,e,n,r),e.child;case 14:return n=e.type,s=ut(n,e.pendingProps),s=ut(n.type,s),rf(t,e,n,s,r);case 15:return ty(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ut(n,s),po(t,e),e.tag=1,Be(n)?(t=!0,Lo(e)):t=!1,Cn(e,r),Xg(e,n,s),yu(e,n,s,r),wu(null,e,n,!0,t,r);case 19:return oy(t,e,r);case 22:return ry(t,e,r)}throw Error(N(156,e.tag))};function _y(t,e){return Jm(t,e)}function h1(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(t,e,r,n){return new h1(t,e,r,n)}function sd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function f1(t){if(typeof t=="function")return sd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jc)return 11;if(t===Sc)return 14}return 2}function lr(t,e){var r=t.alternate;return r===null?(r=rt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function yo(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")sd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case un:return Br(r.children,s,i,e);case _c:o=8,s|=8;break;case Bl:return t=rt(12,r,e,s|2),t.elementType=Bl,t.lanes=i,t;case zl:return t=rt(13,r,e,s),t.elementType=zl,t.lanes=i,t;case Fl:return t=rt(19,r,e,s),t.elementType=Fl,t.lanes=i,t;case Rm:return ka(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pm:o=10;break e;case Am:o=9;break e;case jc:o=11;break e;case Sc:o=14;break e;case Ht:o=16,n=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=rt(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Br(t,e,r,n){return t=rt(7,t,n,e),t.lanes=r,t}function ka(t,e,r,n){return t=rt(22,t,n,e),t.elementType=Rm,t.lanes=r,t.stateNode={isHidden:!1},t}function yl(t,e,r){return t=rt(6,t,null,e),t.lanes=r,t}function vl(t,e,r){return e=rt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function p1(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xa(0),this.expirationTimes=Xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xa(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function id(t,e,r,n,s,i,o,a,l){return t=new p1(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=rt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zc(i),t}function m1(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ln,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function jy(t){if(!t)return dr;t=t._reactInternals;e:{if(Qr(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var r=t.type;if(Be(r))return jg(t,r,e)}return e}function Sy(t,e,r,n,s,i,o,a,l){return t=id(r,n,!0,t,s,i,o,a,l),t.context=jy(null),r=t.current,n=Re(),s=ar(r),i=At(n,s),i.callback=e??null,ir(r,i,s),t.current.lanes=s,di(t,s,n),ze(t,n),t}function Ea(t,e,r,n){var s=e.current,i=Re(),o=ar(s);return r=jy(r),e.context===null?e.context=r:e.pendingContext=r,e=At(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ir(s,e,o),t!==null&&(mt(t,s,o,i),co(t,s,o)),o}function Go(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function od(t,e){mf(t,e),(t=t.alternate)&&mf(t,e)}function g1(){return null}var ky=typeof reportError=="function"?reportError:function(t){console.error(t)};function ad(t){this._internalRoot=t}Na.prototype.render=ad.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Ea(t,e,null,null)};Na.prototype.unmount=ad.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Kr(function(){Ea(null,t,null,null)}),e[Lt]=null}};function Na(t){this._internalRoot=t}Na.prototype.unstable_scheduleHydration=function(t){if(t){var e=rg();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Gt.length&&e!==0&&e<Gt[r].priority;r++);Gt.splice(r,0,t),r===0&&sg(t)}};function ld(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ta(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gf(){}function y1(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Go(o);i.call(c)}}var o=Sy(e,n,t,0,null,!1,!1,"",gf);return t._reactRootContainer=o,t[Lt]=o.current,Ws(t.nodeType===8?t.parentNode:t),Kr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Go(l);a.call(c)}}var l=id(t,0,!1,null,null,!1,!1,"",gf);return t._reactRootContainer=l,t[Lt]=l.current,Ws(t.nodeType===8?t.parentNode:t),Kr(function(){Ea(e,l,r,n)}),l}function Ca(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Go(o);a.call(l)}}Ea(e,o,t,s)}else o=y1(r,e,t,s,n);return Go(o)}eg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ms(e.pendingLanes);r!==0&&(Nc(e,r|1),ze(e,oe()),!(B&6)&&(Un=oe()+500,gr()))}break;case 13:Kr(function(){var n=Dt(t,1);if(n!==null){var s=Re();mt(n,t,1,s)}}),od(t,1)}};Tc=function(t){if(t.tag===13){var e=Dt(t,134217728);if(e!==null){var r=Re();mt(e,t,134217728,r)}od(t,134217728)}};tg=function(t){if(t.tag===13){var e=ar(t),r=Dt(t,e);if(r!==null){var n=Re();mt(r,t,e,n)}od(t,e)}};rg=function(){return F};ng=function(t,e){var r=F;try{return F=t,e()}finally{F=r}};Zl=function(t,e,r){switch(e){case"input":if(Hl(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=xa(n);if(!s)throw Error(N(90));Im(n),Hl(n,s)}}}break;case"textarea":Dm(t,r);break;case"select":e=r.value,e!=null&&kn(t,!!r.multiple,e,!1)}};Fm=td;Wm=Kr;var v1={usingClientEntryPoint:!1,Events:[fi,fn,xa,Bm,zm,td]},ds={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x1={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ut.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Km(t),t===null?null:t.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||g1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qi.isDisabled&&qi.supportsFiber)try{ma=qi.inject(x1),_t=qi}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v1;Qe.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ld(e))throw Error(N(200));return m1(t,e,null,r)};Qe.createRoot=function(t,e){if(!ld(t))throw Error(N(299));var r=!1,n="",s=ky;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=id(t,1,!1,null,null,r,!1,n,s),t[Lt]=e.current,Ws(t.nodeType===8?t.parentNode:t),new ad(e)};Qe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Km(e),t=t===null?null:t.stateNode,t};Qe.flushSync=function(t){return Kr(t)};Qe.hydrate=function(t,e,r){if(!Ta(e))throw Error(N(200));return Ca(null,t,e,!0,r)};Qe.hydrateRoot=function(t,e,r){if(!ld(t))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=ky;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Sy(e,null,t,1,r??null,s,!1,i,o),t[Lt]=e.current,Ws(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Na(e)};Qe.render=function(t,e,r){if(!Ta(e))throw Error(N(200));return Ca(null,t,e,!1,r)};Qe.unmountComponentAtNode=function(t){if(!Ta(t))throw Error(N(40));return t._reactRootContainer?(Kr(function(){Ca(null,null,t,!1,function(){t._reactRootContainer=null,t[Lt]=null})}),!0):!1};Qe.unstable_batchedUpdates=td;Qe.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ta(r))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Ca(t,e,r,!1,n)};Qe.version="18.3.1-next-f1338f8080-20240426";function Ey(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ey)}catch(t){console.error(t)}}Ey(),Em.exports=Qe;var w1=Em.exports,yf=w1;Ul.createRoot=yf.createRoot,Ul.hydrateRoot=yf.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zs(){return Zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zs.apply(this,arguments)}var er;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(er||(er={}));const vf="popstate";function b1(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return Ru("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Jo(s)}return j1(e,r,null,t)}function ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ud(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _1(){return Math.random().toString(36).substr(2,8)}function xf(t,e){return{usr:t.state,key:t.key,idx:e}}function Ru(t,e,r,n){return r===void 0&&(r=null),Zs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yn(e):e,{state:r,key:e&&e.key||n||_1()})}function Jo(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Yn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function j1(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=er.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Zs({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=er.Pop;let w=d(),y=w==null?null:w-c;c=w,l&&l({action:a,location:x.location,delta:y})}function f(w,y){a=er.Push;let m=Ru(x.location,w,y);c=d()+1;let v=xf(m,c),_=x.createHref(m);try{o.pushState(v,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&l&&l({action:a,location:x.location,delta:1})}function p(w,y){a=er.Replace;let m=Ru(x.location,w,y);c=d();let v=xf(m,c),_=x.createHref(m);o.replaceState(v,"",_),i&&l&&l({action:a,location:x.location,delta:0})}function g(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof w=="string"?w:Jo(w);return m=m.replace(/ $/,"%20"),ce(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let x={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(vf,h),l=w,()=>{s.removeEventListener(vf,h),l=null}},createHref(w){return e(s,w)},createURL:g,encodeLocation(w){let y=g(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(w){return o.go(w)}};return x}var wf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wf||(wf={}));function S1(t,e,r){return r===void 0&&(r="/"),k1(t,e,r)}function k1(t,e,r,n){let s=typeof e=="string"?Yn(e):e,i=cd(s.pathname||"/",r);if(i==null)return null;let o=Ny(t);E1(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=$1(i);a=L1(o[l],c)}return a}function Ny(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ce(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=ur([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(ce(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ny(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:O1(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Ty(i.path))s(i,o,l)}),e}function Ty(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Ty(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function E1(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:I1(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const N1=/^:[\w-]+$/,T1=3,C1=2,P1=1,A1=10,R1=-2,bf=t=>t==="*";function O1(t,e){let r=t.split("/"),n=r.length;return r.some(bf)&&(n+=R1),e&&(n+=C1),r.filter(s=>!bf(s)).reduce((s,i)=>s+(N1.test(i)?T1:i===""?P1:A1),n)}function I1(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function L1(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=D1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ur([i,h.pathname]),pathnameBase:F1(ur([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=ur([i,h.pathnameBase]))}return o}function D1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=M1(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let x=a[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function M1(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ud(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function $1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ud(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const U1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V1=t=>U1.test(t);function B1(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Yn(t):t,i;if(r)if(V1(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),ud(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=_f(r.substring(1),"/"):i=_f(r,e)}else i=e;return{pathname:i,search:W1(n),hash:q1(s)}}function _f(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function xl(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z1(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Cy(t,e){let r=z1(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Py(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Yn(t):(s=Zs({},t),ce(!s.pathname||!s.pathname.includes("?"),xl("?","pathname","search",s)),ce(!s.pathname||!s.pathname.includes("#"),xl("#","pathname","hash",s)),ce(!s.search||!s.search.includes("#"),xl("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=B1(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ur=t=>t.join("/").replace(/\/\/+/g,"/"),F1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),W1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,q1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function H1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ay=["post","put","patch","delete"];new Set(Ay);const K1=["get",...Ay];new Set(K1);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ei(){return ei=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ei.apply(this,arguments)}const dd=b.createContext(null),G1=b.createContext(null),Yr=b.createContext(null),Pa=b.createContext(null),Vt=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Ry=b.createContext(null);function J1(t,e){let{relative:r}=e===void 0?{}:e;mi()||ce(!1);let{basename:n,navigator:s}=b.useContext(Yr),{hash:i,pathname:o,search:a}=Iy(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:ur([n,o])),s.createHref({pathname:l,search:a,hash:i})}function mi(){return b.useContext(Pa)!=null}function yr(){return mi()||ce(!1),b.useContext(Pa).location}function Oy(t){b.useContext(Yr).static||b.useLayoutEffect(t)}function Bt(){let{isDataRoute:t}=b.useContext(Vt);return t?c_():Q1()}function Q1(){mi()||ce(!1);let t=b.useContext(dd),{basename:e,future:r,navigator:n}=b.useContext(Yr),{matches:s}=b.useContext(Vt),{pathname:i}=yr(),o=JSON.stringify(Cy(s,r.v7_relativeSplatPath)),a=b.useRef(!1);return Oy(()=>{a.current=!0}),b.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=Py(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ur([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,i,t])}const Y1=b.createContext(null);function X1(t){let e=b.useContext(Vt).outlet;return e&&b.createElement(Y1.Provider,{value:t},e)}function hd(){let{matches:t}=b.useContext(Vt),e=t[t.length-1];return e?e.params:{}}function Iy(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(Yr),{matches:s}=b.useContext(Vt),{pathname:i}=yr(),o=JSON.stringify(Cy(s,n.v7_relativeSplatPath));return b.useMemo(()=>Py(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function Z1(t,e){return e_(t,e)}function e_(t,e,r,n){mi()||ce(!1);let{navigator:s}=b.useContext(Yr),{matches:i}=b.useContext(Vt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=yr(),d;if(e){var h;let w=typeof e=="string"?Yn(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||ce(!1),d=w}else d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=S1(t,{pathname:p}),x=i_(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:ur([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:ur([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return e&&x?b.createElement(Pa.Provider,{value:{location:ei({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:er.Pop}},x):x}function t_(){let t=u_(),e=H1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:s},r):null,null)}const r_=b.createElement(t_,null);class n_ extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(Vt.Provider,{value:this.props.routeContext},b.createElement(Ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s_(t){let{routeContext:e,match:r,children:n}=t,s=b.useContext(dd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Vt.Provider,{value:e},n)}function i_(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ce(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,g=!1,x=null,w=null;r&&(p=a&&h.route.id?a[h.route.id]:void 0,x=h.route.errorElement||r_,l&&(c<0&&f===0?(d_("route-fallback"),g=!0,w=null):c===f&&(g=!0,w=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),m=()=>{let v;return p?v=x:g?v=w:h.route.Component?v=b.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,b.createElement(s_,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(n_,{location:r.location,revalidation:r.revalidation,component:x,error:p,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var Ly=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ly||{}),Dy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Dy||{});function o_(t){let e=b.useContext(dd);return e||ce(!1),e}function a_(t){let e=b.useContext(G1);return e||ce(!1),e}function l_(t){let e=b.useContext(Vt);return e||ce(!1),e}function My(t){let e=l_(),r=e.matches[e.matches.length-1];return r.route.id||ce(!1),r.route.id}function u_(){var t;let e=b.useContext(Ry),r=a_(),n=My();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function c_(){let{router:t}=o_(Ly.UseNavigateStable),e=My(Dy.UseNavigateStable),r=b.useRef(!1);return Oy(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ei({fromRouteId:e},i)))},[t,e])}const jf={};function d_(t,e,r){jf[t]||(jf[t]=!0)}function h_(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function $y(t){return X1(t.context)}function se(t){ce(!1)}function f_(t){let{basename:e="/",children:r=null,location:n,navigationType:s=er.Pop,navigator:i,static:o=!1,future:a}=t;mi()&&ce(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:i,static:o,future:ei({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Yn(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=n,x=b.useMemo(()=>{let w=cd(d,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:g},navigationType:s}},[l,d,h,f,p,g,s]);return x==null?null:b.createElement(Yr.Provider,{value:c},b.createElement(Pa.Provider,{children:r,value:x}))}function p_(t){let{children:e,location:r}=t;return Z1(Ou(e),r)}new Promise(()=>{});function Ou(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,s)=>{if(!b.isValidElement(n))return;let i=[...e,s];if(n.type===b.Fragment){r.push.apply(r,Ou(n.props.children,i));return}n.type!==se&&ce(!1),!n.props.index||!n.props.children||ce(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ou(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iu.apply(this,arguments)}function m_(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function g_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function y_(t,e){return t.button===0&&(!e||e==="_self")&&!g_(t)}function Lu(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function v_(t,e){let r=Lu(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}const x_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],w_="6";try{window.__reactRouterVersion=w_}catch{}const b_="startTransition",Sf=uw[b_];function __(t){let{basename:e,children:r,future:n,window:s}=t,i=b.useRef();i.current==null&&(i.current=b1({window:s,v5Compat:!0}));let o=i.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=b.useCallback(h=>{c&&Sf?Sf(()=>l(h)):l(h)},[l,c]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>h_(n),[n]),b.createElement(f_,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const j_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z=b.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=m_(e,x_),{basename:p}=b.useContext(Yr),g,x=!1;if(typeof c=="string"&&S_.test(c)&&(g=c,j_))try{let v=new URL(window.location.href),_=c.startsWith("//")?new URL(v.protocol+c):new URL(c),j=cd(_.pathname,p);_.origin===v.origin&&j!=null?c=j+_.search+_.hash:x=!0}catch{}let w=J1(c,{relative:s}),y=k_(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function m(v){n&&n(v),v.defaultPrevented||y(v)}return b.createElement("a",Iu({},f,{href:g||w,onClick:x||i?n:m,ref:r,target:l}))});var kf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kf||(kf={}));var Ef;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ef||(Ef={}));function k_(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Bt(),c=yr(),d=Iy(t,{relative:o});return b.useCallback(h=>{if(y_(h,r)){h.preventDefault();let f=n!==void 0?n:Jo(c)===Jo(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,n,s,r,t,i,o,a])}function E_(t){let e=b.useRef(Lu(t)),r=b.useRef(!1),n=yr(),s=b.useMemo(()=>v_(n.search,r.current?null:e.current),[n.search]),i=Bt(),o=b.useCallback((a,l)=>{const c=Lu(typeof a=="function"?a(s):a);r.current=!0,i("?"+c,l)},[i,s]);return[s,o]}const fd=b.createContext({});function pd(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Aa=b.createContext(null),md=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class N_ extends b.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function T_({children:t,isPresent:e}){const r=b.useId(),n=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=b.useContext(md);return b.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!n.current||!o||!a)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),u.jsx(N_,{isPresent:e,childRef:n,sizeRef:s,children:b.cloneElement(t,{ref:n})})}const C_=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=pd(P_),l=b.useId(),c=b.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;n&&n()},[a,n]),d=b.useMemo(()=>({id:l,initial:e,isPresent:r,custom:s,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),c]:[r,c]);return b.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[r]),b.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),o==="popLayout"&&(t=u.jsx(T_,{isPresent:r,children:t})),u.jsx(Aa.Provider,{value:d,children:t})};function P_(){return new Map}function Uy(t=!0){const e=b.useContext(Aa);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,i=b.useId();b.useEffect(()=>{t&&s(i)},[t]);const o=b.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const Hi=t=>t.key||"";function Nf(t){const e=[];return b.Children.forEach(t,r=>{b.isValidElement(r)&&e.push(r)}),e}const gd=typeof window<"u",Vy=gd?b.useLayoutEffect:b.useEffect,Vn=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=Uy(o),c=b.useMemo(()=>Nf(t),[t]),d=o&&!a?[]:c.map(Hi),h=b.useRef(!0),f=b.useRef(c),p=pd(()=>new Map),[g,x]=b.useState(c),[w,y]=b.useState(c);Vy(()=>{h.current=!1,f.current=c;for(let _=0;_<w.length;_++){const j=Hi(w[_]);d.includes(j)?p.delete(j):p.get(j)!==!0&&p.set(j,!1)}},[w,d.length,d.join("-")]);const m=[];if(c!==g){let _=[...c];for(let j=0;j<w.length;j++){const S=w[j],E=Hi(S);d.includes(E)||(_.splice(j,0,S),m.push(S))}i==="wait"&&m.length&&(_=m),y(Nf(_)),x(c);return}const{forceRender:v}=b.useContext(fd);return u.jsx(u.Fragment,{children:w.map(_=>{const j=Hi(_),S=o&&!a?!1:c===w||d.includes(j),E=()=>{if(p.has(j))p.set(j,!0);else return;let k=!0;p.forEach(A=>{A||(k=!1)}),k&&(v==null||v(),y(f.current),o&&(l==null||l()),n&&n())};return u.jsx(C_,{isPresent:S,initial:!h.current||r?void 0:!1,custom:S?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:S?void 0:E,children:_},j)})})},Ke=t=>t;let By=Ke;function yd(t){let e;return()=>(e===void 0&&(e=t()),e)}const Bn=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},Rt=t=>t*1e3,Ot=t=>t/1e3,A_={useManualTiming:!1};function R_(t){let e=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const p=h&&n?e:r;return d&&i.add(c),p.has(c)||p.add(c),c},cancel:c=>{r.delete(c),i.delete(c)},process:c=>{if(o=c,n){s=!0;return}n=!0,[e,r]=[r,e],e.forEach(a),e.clear(),n=!1,s&&(s=!1,l.process(c))}};return l}const Ki=["read","resolveKeyframes","update","preRender","render","postRender"],O_=40;function zy(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Ki.reduce((y,m)=>(y[m]=R_(i),y),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:f}=o,p=()=>{const y=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(y-s.timestamp,O_),1),s.timestamp=y,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(p))},g=()=>{r=!0,n=!0,s.isProcessing||t(p)};return{schedule:Ki.reduce((y,m)=>{const v=o[m];return y[m]=(_,j=!1,S=!1)=>(r||g(),v.schedule(_,j,S)),y},{}),cancel:y=>{for(let m=0;m<Ki.length;m++)o[Ki[m]].cancel(y)},state:s,steps:o}}const{schedule:G,cancel:hr,state:be,steps:wl}=zy(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ke,!0),Fy=b.createContext({strict:!1}),Tf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zn={};for(const t in Tf)zn[t]={isEnabled:e=>Tf[t].some(r=>!!e[r])};function I_(t){for(const e in t)zn[e]={...zn[e],...t[e]}}const L_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qo(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||L_.has(t)}let Wy=t=>!Qo(t);function D_(t){t&&(Wy=e=>e.startsWith("on")?!Qo(e):t(e))}try{D_(require("@emotion/is-prop-valid").default)}catch{}function M_(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(Wy(s)||r===!0&&Qo(s)||!e&&!Qo(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function $_(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Ra=b.createContext({});function ti(t){return typeof t=="string"||Array.isArray(t)}function Oa(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const vd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xd=["initial",...vd];function Ia(t){return Oa(t.animate)||xd.some(e=>ti(t[e]))}function qy(t){return!!(Ia(t)||t.variants)}function U_(t,e){if(Ia(t)){const{initial:r,animate:n}=t;return{initial:r===!1||ti(r)?r:void 0,animate:ti(n)?n:void 0}}return t.inherit!==!1?e:{}}function V_(t){const{initial:e,animate:r}=U_(t,b.useContext(Ra));return b.useMemo(()=>({initial:e,animate:r}),[Cf(e),Cf(r)])}function Cf(t){return Array.isArray(t)?t.join(" "):t}const B_=Symbol.for("motionComponentSymbol");function wn(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function z_(t,e,r){return b.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):wn(r)&&(r.current=n))},[e])}const wd=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),F_="framerAppearId",Hy="data-"+wd(F_),{schedule:bd}=zy(queueMicrotask,!1),Ky=b.createContext({});function W_(t,e,r,n,s){var i,o;const{visualElement:a}=b.useContext(Ra),l=b.useContext(Fy),c=b.useContext(Aa),d=b.useContext(md).reducedMotion,h=b.useRef(null);n=n||l.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:a,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=b.useContext(Ky);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&q_(h.current,r,s,p);const g=b.useRef(!1);b.useInsertionEffect(()=>{f&&g.current&&f.update(r,c)});const x=r[Hy],w=b.useRef(!!x&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return Vy(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),bd.render(f.render),w.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,x)}),w.current=!1))}),f}function q_(t,e,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Gy(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&wn(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:c})}function Gy(t){if(t)return t.options.allowProjection!==!1?t.projection:Gy(t.parent)}function H_({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:s}){var i,o;t&&I_(t);function a(c,d){let h;const f={...b.useContext(md),...c,layoutId:K_(c)},{isStatic:p}=f,g=V_(c),x=n(c,p);if(!p&&gd){G_();const w=J_(f);h=w.MeasureLayout,g.visualElement=W_(s,x,f,e,w.ProjectionNode)}return u.jsxs(Ra.Provider,{value:g,children:[h&&g.visualElement?u.jsx(h,{visualElement:g.visualElement,...f}):null,r(s,c,z_(x,g.visualElement,d),x,p,g.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=b.forwardRef(a);return l[B_]=s,l}function K_({layoutId:t}){const e=b.useContext(fd).id;return e&&t!==void 0?e+"-"+t:t}function G_(t,e){b.useContext(Fy).strict}function J_(t){const{drag:e,layout:r}=zn;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Q_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _d(t){return typeof t!="string"||t.includes("-")?!1:!!(Q_.indexOf(t)>-1||/[A-Z]/u.test(t))}function Pf(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function jd(t,e,r,n){if(typeof e=="function"){const[s,i]=Pf(n);e=e(r!==void 0?r:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Pf(n);e=e(r!==void 0?r:t.custom,s,i)}return e}const Du=t=>Array.isArray(t),Y_=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),X_=t=>Du(t)?t[t.length-1]||0:t,Ce=t=>!!(t&&t.getVelocity);function vo(t){const e=Ce(t)?t.get():t;return Y_(e)?e.toValue():e}function Z_({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},n,s,i){const o={latestValues:ej(n,s,i,t),renderState:e()};return r&&(o.onMount=a=>r({props:n,current:a,...o}),o.onUpdate=a=>r(a)),o}const Jy=t=>(e,r)=>{const n=b.useContext(Ra),s=b.useContext(Aa),i=()=>Z_(t,e,n,s);return r?i():pd(i)};function ej(t,e,r,n){const s={},i=n(t,{});for(const f in i)s[f]=vo(i[f]);let{initial:o,animate:a}=t;const l=Ia(t),c=qy(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Oa(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const g=jd(t,f[p]);if(g){const{transitionEnd:x,transition:w,...y}=g;for(const m in y){let v=y[m];if(Array.isArray(v)){const _=d?v.length-1:0;v=v[_]}v!==null&&(s[m]=v)}for(const m in x)s[m]=x[m]}}}return s}const Xn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xr=new Set(Xn),Qy=t=>e=>typeof e=="string"&&e.startsWith(t),Yy=Qy("--"),tj=Qy("var(--"),Sd=t=>tj(t)?rj.test(t.split("/*")[0].trim()):!1,rj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xy=(t,e)=>e&&typeof t=="number"?e.transform(t):t,$t=(t,e,r)=>r>e?e:r<t?t:r,Zn={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ri={...Zn,transform:t=>$t(0,1,t)},Gi={...Zn,default:1},gi=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),qt=gi("deg"),St=gi("%"),D=gi("px"),nj=gi("vh"),sj=gi("vw"),Af={...St,parse:t=>St.parse(t)/100,transform:t=>St.transform(t*100)},ij={borderWidth:D,borderTopWidth:D,borderRightWidth:D,borderBottomWidth:D,borderLeftWidth:D,borderRadius:D,radius:D,borderTopLeftRadius:D,borderTopRightRadius:D,borderBottomRightRadius:D,borderBottomLeftRadius:D,width:D,maxWidth:D,height:D,maxHeight:D,top:D,right:D,bottom:D,left:D,padding:D,paddingTop:D,paddingRight:D,paddingBottom:D,paddingLeft:D,margin:D,marginTop:D,marginRight:D,marginBottom:D,marginLeft:D,backgroundPositionX:D,backgroundPositionY:D},oj={rotate:qt,rotateX:qt,rotateY:qt,rotateZ:qt,scale:Gi,scaleX:Gi,scaleY:Gi,scaleZ:Gi,skew:qt,skewX:qt,skewY:qt,distance:D,translateX:D,translateY:D,translateZ:D,x:D,y:D,z:D,perspective:D,transformPerspective:D,opacity:ri,originX:Af,originY:Af,originZ:D},Rf={...Zn,transform:Math.round},kd={...ij,...oj,zIndex:Rf,size:D,fillOpacity:ri,strokeOpacity:ri,numOctaves:Rf},aj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lj=Xn.length;function uj(t,e,r){let n="",s=!0;for(let i=0;i<lj;i++){const o=Xn[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||r){const c=Xy(a,kd[o]);if(!l){s=!1;const d=aj[o]||o;n+=`${d}(${c}) `}r&&(e[o]=c)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function Ed(t,e,r){const{style:n,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Xr.has(l)){o=!0;continue}else if(Yy(l)){s[l]=c;continue}else{const d=Xy(c,kd[l]);l.startsWith("origin")?(a=!0,i[l]=d):n[l]=d}}if(e.transform||(o||r?n.transform=uj(e,t.transform,r):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;n.transformOrigin=`${l} ${c} ${d}`}}const cj={offset:"stroke-dashoffset",array:"stroke-dasharray"},dj={offset:"strokeDashoffset",array:"strokeDasharray"};function hj(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?cj:dj;t[i.offset]=D.transform(-n);const o=D.transform(e),a=D.transform(r);t[i.array]=`${o} ${a}`}function Of(t,e,r){return typeof t=="string"?t:D.transform(e+r*t)}function fj(t,e,r){const n=Of(e,t.x,t.width),s=Of(r,t.y,t.height);return`${n} ${s}`}function Nd(t,{attrX:e,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(Ed(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:g}=t;f.transform&&(g&&(p.transform=f.transform),delete f.transform),g&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=fj(g,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),o!==void 0&&hj(f,o,a,l,!1)}const Td=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Zy=()=>({...Td(),attrs:{}}),Cd=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ev(t,{style:e,vars:r},n,s){Object.assign(t.style,e,s&&s.getProjectionStyles(n));for(const i in r)t.style.setProperty(i,r[i])}const tv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rv(t,e,r,n){ev(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(tv.has(s)?s:wd(s),e.attrs[s])}const Yo={};function pj(t){Object.assign(Yo,t)}function nv(t,{layout:e,layoutId:r}){return Xr.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Yo[t]||t==="opacity")}function Pd(t,e,r){var n;const{style:s}=t,i={};for(const o in s)(Ce(s[o])||e.style&&Ce(e.style[o])||nv(o,t)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function sv(t,e,r){const n=Pd(t,e,r);for(const s in t)if(Ce(t[s])||Ce(e[s])){const i=Xn.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}function mj(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const If=["x","y","width","height","cx","cy","r"],gj={useVisualState:Jy({scrapeMotionValuesFromProps:sv,createRenderState:Zy,onUpdate:({props:t,prevProps:e,current:r,renderState:n,latestValues:s})=>{if(!r)return;let i=!!t.drag;if(!i){for(const a in s)if(Xr.has(a)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let a=0;a<If.length;a++){const l=If[a];t[l]!==e[l]&&(o=!0)}o&&G.read(()=>{mj(r,n),G.render(()=>{Nd(n,s,Cd(r.tagName),t.transformTemplate),rv(r,n)})})}})},yj={useVisualState:Jy({scrapeMotionValuesFromProps:Pd,createRenderState:Td})};function iv(t,e,r){for(const n in e)!Ce(e[n])&&!nv(n,r)&&(t[n]=e[n])}function vj({transformTemplate:t},e){return b.useMemo(()=>{const r=Td();return Ed(r,e,t),Object.assign({},r.vars,r.style)},[e])}function xj(t,e){const r=t.style||{},n={};return iv(n,r,t),Object.assign(n,vj(t,e)),n}function wj(t,e){const r={},n=xj(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}function bj(t,e,r,n){const s=b.useMemo(()=>{const i=Zy();return Nd(i,e,Cd(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};iv(i,t.style,t),s.style={...i,...s.style}}return s}function _j(t=!1){return(r,n,s,{latestValues:i},o)=>{const l=(_d(r)?bj:wj)(n,i,o,r),c=M_(n,typeof r=="string",t),d=r!==b.Fragment?{...c,...l,ref:s}:{},{children:h}=n,f=b.useMemo(()=>Ce(h)?h.get():h,[h]);return b.createElement(r,{...d,children:f})}}function jj(t,e){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={..._d(n)?gj:yj,preloadedFeatures:t,useRender:_j(s),createVisualElement:e,Component:n};return H_(o)}}function ov(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function La(t,e,r){const n=t.getProps();return jd(n,e,r!==void 0?r:n.custom,t)}const Sj=yd(()=>window.ScrollTimeline!==void 0);class kj{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(s=>{if(Sj()&&s.attachTimeline)return s.attachTimeline(e);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Ej extends kj{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function Ad(t,e){return t?t[e]||t.default||t:void 0}const Mu=2e4;function av(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Mu;)e+=r,n=t.next(e);return e>=Mu?1/0:e}function Rd(t){return typeof t=="function"}function Lf(t,e){t.timeline=e,t.onfinish=null}const Od=t=>Array.isArray(t)&&typeof t[0]=="number",Nj={linearEasing:void 0};function Tj(t,e){const r=yd(t);return()=>{var n;return(n=Nj[e])!==null&&n!==void 0?n:r()}}const Xo=Tj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lv=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let i=0;i<s;i++)n+=t(Bn(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function uv(t){return!!(typeof t=="function"&&Xo()||!t||typeof t=="string"&&(t in $u||Xo())||Od(t)||Array.isArray(t)&&t.every(uv))}const ys=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,$u={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ys([0,.65,.55,1]),circOut:ys([.55,0,1,.45]),backIn:ys([.31,.01,.66,-.59]),backOut:ys([.33,1.53,.69,.99])};function cv(t,e){if(t)return typeof t=="function"&&Xo()?lv(t,e):Od(t)?ys(t):Array.isArray(t)?t.map(r=>cv(r,e)||$u.easeOut):$u[t]}const lt={x:!1,y:!1};function dv(){return lt.x||lt.y}function Cj(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function hv(t,e){const r=Cj(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function Df(t){return e=>{e.pointerType==="touch"||dv()||t(e)}}function Pj(t,e,r={}){const[n,s,i]=hv(t,r),o=Df(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const d=Df(h=>{c(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return n.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const fv=(t,e)=>e?t===e?!0:fv(t,e.parentElement):!1,Id=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Aj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Rj(t){return Aj.has(t.tagName)||t.tabIndex!==-1}const vs=new WeakSet;function Mf(t){return e=>{e.key==="Enter"&&t(e)}}function bl(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Oj=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=Mf(()=>{if(vs.has(r))return;bl(r,"down");const s=Mf(()=>{bl(r,"up")}),i=()=>bl(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function $f(t){return Id(t)&&!dv()}function Ij(t,e,r={}){const[n,s,i]=hv(t,r),o=a=>{const l=a.currentTarget;if(!$f(a)||vs.has(l))return;vs.add(l);const c=e(a),d=(p,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!$f(p)||!vs.has(l))&&(vs.delete(l),typeof c=="function"&&c(p,{success:g}))},h=p=>{d(p,r.useGlobalTarget||fv(l,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(a=>{!Rj(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(r.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",c=>Oj(c,s),s)}),i}function Lj(t){return t==="x"||t==="y"?lt[t]?null:(lt[t]=!0,()=>{lt[t]=!1}):lt.x||lt.y?null:(lt.x=lt.y=!0,()=>{lt.x=lt.y=!1})}const pv=new Set(["width","height","top","left","right","bottom",...Xn]);let xo;function Dj(){xo=void 0}const kt={now:()=>(xo===void 0&&kt.set(be.isProcessing||A_.useManualTiming?be.timestamp:performance.now()),xo),set:t=>{xo=t,queueMicrotask(Dj)}};function Ld(t,e){t.indexOf(e)===-1&&t.push(e)}function Dd(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class Md{constructor(){this.subscriptions=[]}add(e){return Ld(this.subscriptions,e),()=>Dd(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function mv(t,e){return e?t*(1e3/e):0}const Uf=30,Mj=t=>!isNaN(parseFloat(t));class $j{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=kt.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=kt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Mj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Md);const n=this.events[e].add(r);return e==="change"?()=>{n(),G.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=kt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Uf)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Uf);return mv(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ni(t,e){return new $j(t,e)}function Uj(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ni(r))}function Vj(t,e){const r=La(t,e);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const a=X_(i[o]);Uj(t,o,a)}}function Bj(t){return!!(Ce(t)&&t.add)}function Uu(t,e){const r=t.getValue("willChange");if(Bj(r))return r.add(e)}function gv(t){return t.props[Hy]}const yv=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,zj=1e-7,Fj=12;function Wj(t,e,r,n,s){let i,o,a=0;do o=e+(r-e)/2,i=yv(o,n,s)-t,i>0?r=o:e=o;while(Math.abs(i)>zj&&++a<Fj);return o}function yi(t,e,r,n){if(t===e&&r===n)return Ke;const s=i=>Wj(i,0,1,t,r);return i=>i===0||i===1?i:yv(s(i),e,n)}const vv=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xv=t=>e=>1-t(1-e),wv=yi(.33,1.53,.69,.99),$d=xv(wv),bv=vv($d),_v=t=>(t*=2)<1?.5*$d(t):.5*(2-Math.pow(2,-10*(t-1))),Ud=t=>1-Math.sin(Math.acos(t)),jv=xv(Ud),Sv=vv(Ud),kv=t=>/^0[^.\s]+$/u.test(t);function qj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kv(t):!0}const Rs=t=>Math.round(t*1e5)/1e5,Vd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Hj(t){return t==null}const Kj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bd=(t,e)=>r=>!!(typeof r=="string"&&Kj.test(r)&&r.startsWith(t)||e&&!Hj(r)&&Object.prototype.hasOwnProperty.call(r,e)),Ev=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,a]=n.match(Vd);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Gj=t=>$t(0,255,t),_l={...Zn,transform:t=>Math.round(Gj(t))},$r={test:Bd("rgb","red"),parse:Ev("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+_l.transform(t)+", "+_l.transform(e)+", "+_l.transform(r)+", "+Rs(ri.transform(n))+")"};function Jj(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Vu={test:Bd("#"),parse:Jj,transform:$r.transform},bn={test:Bd("hsl","hue"),parse:Ev("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+St.transform(Rs(e))+", "+St.transform(Rs(r))+", "+Rs(ri.transform(n))+")"},Ee={test:t=>$r.test(t)||Vu.test(t)||bn.test(t),parse:t=>$r.test(t)?$r.parse(t):bn.test(t)?bn.parse(t):Vu.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?$r.transform(t):bn.transform(t)},Qj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yj(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Vd))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(Qj))===null||r===void 0?void 0:r.length)||0)>0}const Nv="number",Tv="color",Xj="var",Zj="var(",Vf="${}",eS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function si(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(eS,l=>(Ee.test(l)?(n.color.push(i),s.push(Tv),r.push(Ee.parse(l))):l.startsWith(Zj)?(n.var.push(i),s.push(Xj),r.push(l)):(n.number.push(i),s.push(Nv),r.push(parseFloat(l))),++i,Vf)).split(Vf);return{values:r,split:a,indexes:n,types:s}}function Cv(t){return si(t).values}function Pv(t){const{split:e,types:r}=si(t),n=e.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],s[o]!==void 0){const a=r[o];a===Nv?i+=Rs(s[o]):a===Tv?i+=Ee.transform(s[o]):i+=s[o]}return i}}const tS=t=>typeof t=="number"?0:t;function rS(t){const e=Cv(t);return Pv(t)(e.map(tS))}const fr={test:Yj,parse:Cv,createTransformer:Pv,getAnimatableNone:rS},nS=new Set(["brightness","contrast","saturate","opacity"]);function sS(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(Vd)||[];if(!n)return t;const s=r.replace(n,"");let i=nS.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const iS=/\b([a-z-]*)\(.*?\)/gu,Bu={...fr,getAnimatableNone:t=>{const e=t.match(iS);return e?e.map(sS).join(" "):t}},oS={...kd,color:Ee,backgroundColor:Ee,outlineColor:Ee,fill:Ee,stroke:Ee,borderColor:Ee,borderTopColor:Ee,borderRightColor:Ee,borderBottomColor:Ee,borderLeftColor:Ee,filter:Bu,WebkitFilter:Bu},zd=t=>oS[t];function Av(t,e){let r=zd(t);return r!==Bu&&(r=fr),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const aS=new Set(["auto","none","0"]);function lS(t,e,r){let n=0,s;for(;n<t.length&&!s;){const i=t[n];typeof i=="string"&&!aS.has(i)&&si(i).values.length&&(s=t[n]),n++}if(s&&r)for(const i of e)t[i]=Av(r,s)}const Bf=t=>t===Zn||t===D,zf=(t,e)=>parseFloat(t.split(", ")[e]),Ff=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return zf(s[1],e);{const i=n.match(/^matrix\((.+)\)$/u);return i?zf(i[1],t):0}},uS=new Set(["x","y","z"]),cS=Xn.filter(t=>!uS.has(t));function dS(t){const e=[];return cS.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Fn={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Ff(4,13),y:Ff(5,14)};Fn.translateX=Fn.x;Fn.translateY=Fn.y;const zr=new Set;let zu=!1,Fu=!1;function Rv(){if(Fu){const t=Array.from(zr).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=dS(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var a;(a=n.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Fu=!1,zu=!1,zr.forEach(t=>t.complete()),zr.clear()}function Ov(){zr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fu=!0)})}function hS(){Ov(),Rv()}class Fd{constructor(e,r,n,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(zr.add(this),zu||(zu=!0,G.read(Ov),G.resolveKeyframes(Rv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&r){const l=n.readValue(r,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),zr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,zr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Iv=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),fS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pS(t){const e=fS.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function Lv(t,e,r=1){const[n,s]=pS(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return Iv(o)?parseFloat(o):o}return Sd(s)?Lv(s,e,r+1):s}const Dv=t=>e=>e.test(t),mS={test:t=>t==="auto",parse:t=>t},Mv=[Zn,D,St,qt,sj,nj,mS],Wf=t=>Mv.find(Dv(t));class $v extends Fd{constructor(e,r,n,s,i){super(e,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Sd(c))){const d=Lv(c,r.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!pv.has(n)||e.length!==2)return;const[s,i]=e,o=Wf(s),a=Wf(i);if(o!==a)if(Bf(o)&&Bf(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)qj(e[s])&&n.push(s);n.length&&lS(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Fn[n](r.measureViewportBox(),window.getComputedStyle(r.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{r.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const qf=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fr.test(t)||t==="0")&&!t.startsWith("url("));function gS(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function yS(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=qf(s,e),a=qf(i,e);return!o||!a?!1:gS(t)||(r==="spring"||Rd(r))&&n}const vS=t=>t!==null;function Da(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(vS),i=e&&r!=="loop"&&e%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const xS=40;class Uv{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=kt.now(),this.options={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>xS?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&hS(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=kt.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!yS(e,n,s,i))if(o)this.options.duration=0;else{l&&l(Da(e,this.options,r)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,r);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const X=(t,e,r)=>t+(e-t)*r;function jl(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function wS({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,o=0;if(!e)s=i=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;s=jl(l,a,t+1/3),i=jl(l,a,t),o=jl(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Zo(t,e){return r=>r>0?e:t}const Sl=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},bS=[Vu,$r,bn],_S=t=>bS.find(e=>e.test(t));function Hf(t){const e=_S(t);if(!e)return!1;let r=e.parse(t);return e===bn&&(r=wS(r)),r}const Kf=(t,e)=>{const r=Hf(t),n=Hf(e);if(!r||!n)return Zo(t,e);const s={...r};return i=>(s.red=Sl(r.red,n.red,i),s.green=Sl(r.green,n.green,i),s.blue=Sl(r.blue,n.blue,i),s.alpha=X(r.alpha,n.alpha,i),$r.transform(s))},jS=(t,e)=>r=>e(t(r)),vi=(...t)=>t.reduce(jS),Wu=new Set(["none","hidden"]);function SS(t,e){return Wu.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function kS(t,e){return r=>X(t,e,r)}function Wd(t){return typeof t=="number"?kS:typeof t=="string"?Sd(t)?Zo:Ee.test(t)?Kf:TS:Array.isArray(t)?Vv:typeof t=="object"?Ee.test(t)?Kf:ES:Zo}function Vv(t,e){const r=[...t],n=r.length,s=t.map((i,o)=>Wd(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function ES(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=Wd(t[s])(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function NS(t,e){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(r=t.values[a])!==null&&r!==void 0?r:0;n[i]=l,s[o]++}return n}const TS=(t,e)=>{const r=fr.createTransformer(e),n=si(t),s=si(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Wu.has(t)&&!s.values.length||Wu.has(e)&&!n.values.length?SS(t,e):vi(Vv(NS(n,s),s.values),r):Zo(t,e)};function Bv(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?X(t,e,r):Wd(t)(t,e)}const CS=5;function zv(t,e,r){const n=Math.max(e-CS,0);return mv(r-t(n),e-n)}const te={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kl=.001;function PS({duration:t=te.duration,bounce:e=te.bounce,velocity:r=te.velocity,mass:n=te.mass}){let s,i,o=1-e;o=$t(te.minDamping,te.maxDamping,o),t=$t(te.minDuration,te.maxDuration,Ot(t)),o<1?(s=c=>{const d=c*o,h=d*t,f=d-r,p=qu(c,o),g=Math.exp(-h);return kl-f/p*g},i=c=>{const h=c*o*t,f=h*r+r,p=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-h),x=qu(Math.pow(c,2),o);return(-s(c)+kl>0?-1:1)*((f-p)*g)/x}):(s=c=>{const d=Math.exp(-c*t),h=(c-r)*t+1;return-kl+d*h},i=c=>{const d=Math.exp(-c*t),h=(r-c)*(t*t);return d*h});const a=5/t,l=RS(s,i,a);if(t=Rt(t),isNaN(l))return{stiffness:te.stiffness,damping:te.damping,duration:t};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:t}}}const AS=12;function RS(t,e,r){let n=r;for(let s=1;s<AS;s++)n=n-t(n)/e(n);return n}function qu(t,e){return t*Math.sqrt(1-e*e)}const OS=["duration","bounce"],IS=["stiffness","damping","mass"];function Gf(t,e){return e.some(r=>t[r]!==void 0)}function LS(t){let e={velocity:te.velocity,stiffness:te.stiffness,damping:te.damping,mass:te.mass,isResolvedFromDuration:!1,...t};if(!Gf(t,IS)&&Gf(t,OS))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*$t(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:te.mass,stiffness:s,damping:i}}else{const r=PS(t);e={...e,...r,mass:te.mass},e.isResolvedFromDuration=!0}return e}function Fv(t=te.visualDuration,e=te.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=LS({...r,velocity:-Ot(r.velocity||0)}),g=f||0,x=c/(2*Math.sqrt(l*d)),w=o-i,y=Ot(Math.sqrt(l/d)),m=Math.abs(w)<5;n||(n=m?te.restSpeed.granular:te.restSpeed.default),s||(s=m?te.restDelta.granular:te.restDelta.default);let v;if(x<1){const j=qu(y,x);v=S=>{const E=Math.exp(-x*y*S);return o-E*((g+x*y*w)/j*Math.sin(j*S)+w*Math.cos(j*S))}}else if(x===1)v=j=>o-Math.exp(-y*j)*(w+(g+y*w)*j);else{const j=y*Math.sqrt(x*x-1);v=S=>{const E=Math.exp(-x*y*S),k=Math.min(j*S,300);return o-E*((g+x*y*w)*Math.sinh(k)+j*w*Math.cosh(k))/j}}const _={calculatedDuration:p&&h||null,next:j=>{const S=v(j);if(p)a.done=j>=h;else{let E=0;x<1&&(E=j===0?Rt(g):zv(v,j,S));const k=Math.abs(E)<=n,A=Math.abs(o-S)<=s;a.done=k&&A}return a.value=a.done?o:S,a},toString:()=>{const j=Math.min(av(_),Mu),S=lv(E=>_.next(j*E).value,j,30);return j+"ms "+S}};return _}function Jf({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=k=>a!==void 0&&k<a||l!==void 0&&k>l,g=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let x=r*e;const w=h+x,y=o===void 0?w:o(w);y!==w&&(x=y-h);const m=k=>-x*Math.exp(-k/n),v=k=>y+m(k),_=k=>{const A=m(k),I=v(k);f.done=Math.abs(A)<=c,f.value=f.done?y:I};let j,S;const E=k=>{p(f.value)&&(j=k,S=Fv({keyframes:[f.value,g(f.value)],velocity:zv(v,k,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return E(0),{calculatedDuration:null,next:k=>{let A=!1;return!S&&j===void 0&&(A=!0,_(k),E(k)),j!==void 0&&k>=j?S.next(k-j):(!A&&_(k),f)}}}const DS=yi(.42,0,1,1),MS=yi(0,0,.58,1),Wv=yi(.42,0,.58,1),$S=t=>Array.isArray(t)&&typeof t[0]!="number",US={linear:Ke,easeIn:DS,easeInOut:Wv,easeOut:MS,circIn:Ud,circInOut:Sv,circOut:jv,backIn:$d,backInOut:bv,backOut:wv,anticipate:_v},Qf=t=>{if(Od(t)){By(t.length===4);const[e,r,n,s]=t;return yi(e,r,n,s)}else if(typeof t=="string")return US[t];return t};function VS(t,e,r){const n=[],s=r||Bv,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ke:e;a=vi(l,a)}n.push(a)}return n}function BS(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(By(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=VS(e,n,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Bn(t[h],t[h+1],d);return a[h](f)};return r?d=>c($t(t[0],t[i-1],d)):c}function zS(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=Bn(0,e,n);t.push(X(r,1,s))}}function FS(t){const e=[0];return zS(e,t.length-1),e}function WS(t,e){return t.map(r=>r*e)}function qS(t,e){return t.map(()=>e||Wv).splice(0,t.length-1)}function ea({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=$S(n)?n.map(Qf):Qf(n),i={done:!1,value:e[0]},o=WS(r&&r.length===e.length?r:FS(e),t),a=BS(o,e,{ease:Array.isArray(s)?s:qS(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const HS=t=>{const e=({timestamp:r})=>t(r);return{start:()=>G.update(e,!0),stop:()=>hr(e),now:()=>be.isProcessing?be.timestamp:kt.now()}},KS={decay:Jf,inertia:Jf,tween:ea,keyframes:ea,spring:Fv},GS=t=>t/100;class qd extends Uv{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Fd,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Rd(r)?r:KS[r]||ea;let l,c;a!==ea&&typeof e[0]!="number"&&(l=vi(GS,Bv(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=av(d));const{calculatedDuration:h}=d,f=h+s,p=f*(n+1)-s;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:g,repeatDelay:x,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-f*(this.speed>=0?1:-1),m=this.speed>=0?y<0:y>d;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let v=this.currentTime,_=i;if(p){const k=Math.min(this.currentTime,d)/h;let A=Math.floor(k),I=k%1;!I&&k>=1&&(I=1),I===1&&A--,A=Math.min(A,p+1),!!(A%2)&&(g==="reverse"?(I=1-I,x&&(I-=x/h)):g==="mirror"&&(_=o)),v=$t(0,1,I)*h}const j=m?{done:!1,value:l[0]}:_.next(v);a&&(j.value=a(j.value));let{done:S}=j;!m&&c!==null&&(S=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return E&&s!==void 0&&(j.value=Da(l,this.options,s)),w&&w(j.value),E&&this.finish(),j}get duration(){const{resolved:e}=this;return e?Ot(e.calculatedDuration):0}get time(){return Ot(this.currentTime)}set time(e){e=Rt(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Ot(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=HS,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const JS=new Set(["opacity","clipPath","filter","transform"]);function QS(t,e,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:r};l&&(c.offset=l);const d=cv(a,s);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const YS=yd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ta=10,XS=2e4;function ZS(t){return Rd(t.type)||t.type==="spring"||!uv(t.ease)}function ek(t,e){const r=new qd({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const s=[];let i=0;for(;!n.done&&i<XS;)n=r.sample(i),s.push(n.value),i+=ta;return{times:void 0,keyframes:s,duration:i-ta,ease:"linear"}}const qv={anticipate:_v,backInOut:bv,circInOut:Sv};function tk(t){return t in qv}class Yf extends Uv{constructor(e){super(e);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new $v(i,(o,a)=>this.onKeyframesResolved(o,a),r,n,s),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:n=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&Xo()&&tk(i)&&(i=qv[i]),ZS(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:g,...x}=this.options,w=ek(e,x);e=w.keyframes,e.length===1&&(e[1]=e[0]),n=w.duration,s=w.times,i=w.ease,o="keyframes"}const d=QS(a.owner.current,l,e,{...this.options,duration:n,times:s,ease:i});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(Lf(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(Da(e,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return Ot(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return Ot(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Rt(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return Ke;const{animation:n}=r;Lf(n,e)}return Ke}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:s,type:i,ease:o,times:a}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:f,...p}=this.options,g=new qd({...p,keyframes:n,duration:s,type:i,ease:o,times:a,isGenerator:!0}),x=Rt(this.time);c.setWithVelocity(g.sample(x-ta).value,g.sample(x).value,ta)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=r.owner.getProps();return YS()&&n&&JS.has(n)&&!l&&!c&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const rk={type:"spring",stiffness:500,damping:25,restSpeed:10},nk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),sk={type:"keyframes",duration:.8},ik={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ok=(t,{keyframes:e})=>e.length>2?sk:Xr.has(t)?t.startsWith("scale")?nk(e[1]):rk:ik;function ak({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Hd=(t,e,r,n={},s,i)=>o=>{const a=Ad(n,t)||{},l=a.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Rt(l);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};ak(a)||(d={...d,...ok(t,d)}),d.duration&&(d.duration=Rt(d.duration)),d.repeatDelay&&(d.repeatDelay=Rt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=Da(d.keyframes,a);if(f!==void 0)return G.update(()=>{d.onUpdate(f),d.onComplete()}),new Ej([])}return!i&&Yf.supports(d)?new Yf(d):new qd(d)};function lk({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function Hv(t,e,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;n&&(o=n);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),p=l[h];if(p===void 0||d&&lk(d,h))continue;const g={delay:r,...Ad(o||{},h)};let x=!1;if(window.MotionHandoffAnimation){const y=gv(t);if(y){const m=window.MotionHandoffAnimation(y,h,G);m!==null&&(g.startTime=m,x=!0)}}Uu(t,h),f.start(Hd(h,f,p,t.shouldReduceMotion&&pv.has(h)?{type:!1}:g,t,x));const w=f.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{G.update(()=>{a&&Vj(t,a)})}),c}function Hu(t,e,r={}){var n;const s=La(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const o=s?()=>Promise.all(Hv(t,s,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return uk(t,e,d+c,h,f,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(r.delay)])}function uk(t,e,r=0,n=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*n,l=s===1?(c=0)=>c*n:(c=0)=>a-c*n;return Array.from(t.variantChildren).sort(ck).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(Hu(c,e,{...i,delay:r+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function ck(t,e){return t.sortNodePosition(e)}function dk(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>Hu(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=Hu(t,e,r);else{const s=typeof e=="function"?La(t,e,r.custom):e;n=Promise.all(Hv(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const hk=xd.length;function Kv(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Kv(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<hk;r++){const n=xd[r],s=t.props[n];(ti(s)||s===!1)&&(e[n]=s)}return e}const fk=[...vd].reverse(),pk=vd.length;function mk(t){return e=>Promise.all(e.map(({animation:r,options:n})=>dk(t,r,n)))}function gk(t){let e=mk(t),r=Xf(),n=!0;const s=l=>(c,d)=>{var h;const f=La(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:g,...x}=f;c={...c,...x,...g}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=Kv(t.parent)||{},h=[],f=new Set;let p={},g=1/0;for(let w=0;w<pk;w++){const y=fk[w],m=r[y],v=c[y]!==void 0?c[y]:d[y],_=ti(v),j=y===l?m.isActive:null;j===!1&&(g=w);let S=v===d[y]&&v!==c[y]&&_;if(S&&n&&t.manuallyAnimateOnMount&&(S=!1),m.protectedKeys={...p},!m.isActive&&j===null||!v&&!m.prevProp||Oa(v)||typeof v=="boolean")continue;const E=yk(m.prevProp,v);let k=E||y===l&&m.isActive&&!S&&_||w>g&&_,A=!1;const I=Array.isArray(v)?v:[v];let pe=I.reduce(s(y),{});j===!1&&(pe={});const{prevResolvedValues:Ft={}}=m,wr={...Ft,...pe},ns=de=>{k=!0,f.has(de)&&(A=!0,f.delete(de)),m.needsAnimating[de]=!0;const T=t.getValue(de);T&&(T.liveStyle=!1)};for(const de in wr){const T=pe[de],$=Ft[de];if(p.hasOwnProperty(de))continue;let U=!1;Du(T)&&Du($)?U=!ov(T,$):U=T!==$,U?T!=null?ns(de):f.add(de):T!==void 0&&f.has(de)?ns(de):m.protectedKeys[de]=!0}m.prevProp=v,m.prevResolvedValues=pe,m.isActive&&(p={...p,...pe}),n&&t.blockInitialAnimation&&(k=!1),k&&(!(S&&E)||A)&&h.push(...I.map(de=>({animation:de,options:{type:y}})))}if(f.size){const w={};f.forEach(y=>{const m=t.getBaseTarget(y),v=t.getValue(y);v&&(v.liveStyle=!0),w[y]=m??null}),h.push({animation:w})}let x=!!h.length;return n&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(h):Promise.resolve()}function a(l,c){var d;if(r[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),r[l].isActive=c;const h=o(l);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Xf(),n=!0}}}function yk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ov(e,t):!1}function jr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xf(){return{animate:jr(!0),whileInView:jr(),whileHover:jr(),whileTap:jr(),whileDrag:jr(),whileFocus:jr(),exit:jr()}}class vr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vk extends vr{constructor(e){super(e),e.animationState||(e.animationState=gk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Oa(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let xk=0;class wk extends vr{constructor(){super(...arguments),this.id=xk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const bk={animation:{Feature:vk},exit:{Feature:wk}};function ii(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function xi(t){return{point:{x:t.pageX,y:t.pageY}}}const _k=t=>e=>Id(e)&&t(e,xi(e));function Os(t,e,r,n){return ii(t,e,_k(r),n)}const Zf=(t,e)=>Math.abs(t-e);function jk(t,e){const r=Zf(t.x,e.x),n=Zf(t.y,e.y);return Math.sqrt(r**2+n**2)}class Gv{constructor(e,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Nl(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=jk(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:g}=h,{timestamp:x}=be;this.history.push({...g,timestamp:x});const{onStart:w,onMove:y}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=El(f,this.transformPagePoint),G.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Nl(h.type==="pointercancel"?this.lastMoveEventInfo:El(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,w),g&&g(h,w)},!Id(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=xi(e),a=El(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=be;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=r;d&&d(e,Nl(a,this.history)),this.removeListeners=vi(Os(this.contextWindow,"pointermove",this.handlePointerMove),Os(this.contextWindow,"pointerup",this.handlePointerUp),Os(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hr(this.updatePoint)}}function El(t,e){return e?{point:e(t.point)}:t}function ep(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Nl({point:t},e){return{point:t,delta:ep(t,Jv(e)),offset:ep(t,Sk(e)),velocity:kk(e,.1)}}function Sk(t){return t[0]}function Jv(t){return t[t.length-1]}function kk(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=Jv(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>Rt(e)));)r--;if(!n)return{x:0,y:0};const i=Ot(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Qv=1e-4,Ek=1-Qv,Nk=1+Qv,Yv=.01,Tk=0-Yv,Ck=0+Yv;function Je(t){return t.max-t.min}function Pk(t,e,r){return Math.abs(t-e)<=r}function tp(t,e,r,n=.5){t.origin=n,t.originPoint=X(e.min,e.max,t.origin),t.scale=Je(r)/Je(e),t.translate=X(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Ek&&t.scale<=Nk||isNaN(t.scale))&&(t.scale=1),(t.translate>=Tk&&t.translate<=Ck||isNaN(t.translate))&&(t.translate=0)}function Is(t,e,r,n){tp(t.x,e.x,r.x,n?n.originX:void 0),tp(t.y,e.y,r.y,n?n.originY:void 0)}function rp(t,e,r){t.min=r.min+e.min,t.max=t.min+Je(e)}function Ak(t,e,r){rp(t.x,e.x,r.x),rp(t.y,e.y,r.y)}function np(t,e,r){t.min=e.min-r.min,t.max=t.min+Je(e)}function Ls(t,e,r){np(t.x,e.x,r.x),np(t.y,e.y,r.y)}function Rk(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?X(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?X(r,t,n.max):Math.min(t,r)),t}function sp(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Ok(t,{top:e,left:r,bottom:n,right:s}){return{x:sp(t.x,r,s),y:sp(t.y,e,n)}}function ip(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Ik(t,e){return{x:ip(t.x,e.x),y:ip(t.y,e.y)}}function Lk(t,e){let r=.5;const n=Je(t),s=Je(e);return s>n?r=Bn(e.min,e.max-n,t.min):n>s&&(r=Bn(t.min,t.max-s,e.min)),$t(0,1,r)}function Dk(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Ku=.35;function Mk(t=Ku){return t===!1?t=0:t===!0&&(t=Ku),{x:op(t,"left","right"),y:op(t,"top","bottom")}}function op(t,e,r){return{min:ap(t,e),max:ap(t,r)}}function ap(t,e){return typeof t=="number"?t:t[e]||0}const lp=()=>({translate:0,scale:1,origin:0,originPoint:0}),_n=()=>({x:lp(),y:lp()}),up=()=>({min:0,max:0}),ie=()=>({x:up(),y:up()});function Ze(t){return[t("x"),t("y")]}function Xv({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function $k({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Uk(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Tl(t){return t===void 0||t===1}function Gu({scale:t,scaleX:e,scaleY:r}){return!Tl(t)||!Tl(e)||!Tl(r)}function Tr(t){return Gu(t)||Zv(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Zv(t){return cp(t.x)||cp(t.y)}function cp(t){return t&&t!=="0%"}function ra(t,e,r){const n=t-r,s=e*n;return r+s}function dp(t,e,r,n,s){return s!==void 0&&(t=ra(t,s,n)),ra(t,r,n)+e}function Ju(t,e=0,r=1,n,s){t.min=dp(t.min,e,r,n,s),t.max=dp(t.max,e,r,n,s)}function e0(t,{x:e,y:r}){Ju(t.x,e.translate,e.scale,e.originPoint),Ju(t.y,r.translate,r.scale,r.originPoint)}const hp=.999999999999,fp=1.0000000000001;function Vk(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Sn(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,e0(t,o)),n&&Tr(i.latestValues)&&Sn(t,i.latestValues))}e.x<fp&&e.x>hp&&(e.x=1),e.y<fp&&e.y>hp&&(e.y=1)}function jn(t,e){t.min=t.min+e,t.max=t.max+e}function pp(t,e,r,n,s=.5){const i=X(t.min,t.max,s);Ju(t,e,r,i,n)}function Sn(t,e){pp(t.x,e.x,e.scaleX,e.scale,e.originX),pp(t.y,e.y,e.scaleY,e.scale,e.originY)}function t0(t,e){return Xv(Uk(t.getBoundingClientRect(),e))}function Bk(t,e,r){const n=t0(t,r),{scroll:s}=e;return s&&(jn(n.x,s.offset.x),jn(n.y,s.offset.y)),n}const r0=({current:t})=>t?t.ownerDocument.defaultView:null,zk=new WeakMap;class Fk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ie(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(xi(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Lj(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ze(w=>{let y=this.getAxisMotionValue(w).get()||0;if(St.test(y)){const{projection:m}=this.visualElement;if(m&&m.layout){const v=m.layout.layoutBox[w];v&&(y=Je(v)*(parseFloat(y)/100))}}this.originPoint[w]=y}),g&&G.postRender(()=>g(d,h)),Uu(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:w}=h;if(p&&this.currentDirection===null){this.currentDirection=Wk(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),x&&x(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Ze(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Gv(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:r0(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&G.postRender(()=>i(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!Ji(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=Rk(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;r&&wn(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=Ok(s.layoutBox,r):this.constraints=!1,this.elastic=Mk(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ze(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Dk(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!wn(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Bk(n,s.root,this.visualElement.getTransformPagePoint());let o=Ik(s.layout.layoutBox,i);if(r){const a=r($k(o));this.hasMutatedConstraints=!!a,a&&(o=Xv(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ze(d=>{if(!Ji(d,r,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:n?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Uu(this.visualElement,e),n.start(Hd(e,n,0,r,this.visualElement,!1))}stopAnimation(){Ze(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ze(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ze(r=>{const{drag:n}=this.getProps();if(!Ji(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(e[r]-X(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!wn(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ze(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=Lk({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ze(o=>{if(!Ji(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(X(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;zk.set(this.visualElement,this);const e=this.visualElement.current,r=Os(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();wn(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),G.read(n);const o=ii(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ze(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ku,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Ji(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Wk(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class qk extends vr{constructor(e){super(e),this.removeGroupControls=Ke,this.removeListeners=Ke,this.controls=new Fk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ke}unmount(){this.removeGroupControls(),this.removeListeners()}}const mp=t=>(e,r)=>{t&&G.postRender(()=>t(e,r))};class Hk extends vr{constructor(){super(...arguments),this.removePointerDownListener=Ke}onPointerDown(e){this.session=new Gv(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:r0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:mp(e),onStart:mp(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&G.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Os(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gp(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const hs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(D.test(t))t=parseFloat(t);else return t;const r=gp(t,e.target.x),n=gp(t,e.target.y);return`${r}% ${n}%`}},Kk={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=fr.parse(t);if(s.length>5)return n;const i=fr.createTransformer(t),o=typeof s[0]!="number"?1:0,a=r.x.scale*e.x,l=r.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=X(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class Gk extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;pj(Jk),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),wo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||G.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),bd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function n0(t){const[e,r]=Uy(),n=b.useContext(fd);return u.jsx(Gk,{...t,layoutGroup:n,switchLayoutGroup:b.useContext(Ky),isPresent:e,safeToRemove:r})}const Jk={borderRadius:{...hs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hs,borderTopRightRadius:hs,borderBottomLeftRadius:hs,borderBottomRightRadius:hs,boxShadow:Kk};function Qk(t,e,r){const n=Ce(t)?t:ni(t);return n.start(Hd("",n,e,r)),n.animation}function Yk(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Xk=(t,e)=>t.depth-e.depth;class Zk{constructor(){this.children=[],this.isDirty=!1}add(e){Ld(this.children,e),this.isDirty=!0}remove(e){Dd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Xk),this.isDirty=!1,this.children.forEach(e)}}function eE(t,e){const r=kt.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&(hr(n),t(i-e))};return G.read(n,!0),()=>hr(n)}const s0=["TopLeft","TopRight","BottomLeft","BottomRight"],tE=s0.length,yp=t=>typeof t=="string"?parseFloat(t):t,vp=t=>typeof t=="number"||D.test(t);function rE(t,e,r,n,s,i){s?(t.opacity=X(0,r.opacity!==void 0?r.opacity:1,nE(n)),t.opacityExit=X(e.opacity!==void 0?e.opacity:1,0,sE(n))):i&&(t.opacity=X(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<tE;o++){const a=`border${s0[o]}Radius`;let l=xp(e,a),c=xp(r,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||vp(l)===vp(c)?(t[a]=Math.max(X(yp(l),yp(c),n),0),(St.test(c)||St.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||r.rotate)&&(t.rotate=X(e.rotate||0,r.rotate||0,n))}function xp(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nE=i0(0,.5,jv),sE=i0(.5,.95,Ke);function i0(t,e,r){return n=>n<t?0:n>e?1:r(Bn(t,e,n))}function wp(t,e){t.min=e.min,t.max=e.max}function Xe(t,e){wp(t.x,e.x),wp(t.y,e.y)}function bp(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _p(t,e,r,n,s){return t-=e,t=ra(t,1/r,n),s!==void 0&&(t=ra(t,1/s,n)),t}function iE(t,e=0,r=1,n=.5,s,i=t,o=t){if(St.test(e)&&(e=parseFloat(e),e=X(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=X(i.min,i.max,n);t===i&&(a-=e),t.min=_p(t.min,e,r,a,s),t.max=_p(t.max,e,r,a,s)}function jp(t,e,[r,n,s],i,o){iE(t,e[r],e[n],e[s],e.scale,i,o)}const oE=["x","scaleX","originX"],aE=["y","scaleY","originY"];function Sp(t,e,r,n){jp(t.x,e,oE,r?r.x:void 0,n?n.x:void 0),jp(t.y,e,aE,r?r.y:void 0,n?n.y:void 0)}function kp(t){return t.translate===0&&t.scale===1}function o0(t){return kp(t.x)&&kp(t.y)}function Ep(t,e){return t.min===e.min&&t.max===e.max}function lE(t,e){return Ep(t.x,e.x)&&Ep(t.y,e.y)}function Np(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function a0(t,e){return Np(t.x,e.x)&&Np(t.y,e.y)}function Tp(t){return Je(t.x)/Je(t.y)}function Cp(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class uE{constructor(){this.members=[]}add(e){Ld(this.members,e),e.scheduleRender()}remove(e){if(Dd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cE(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const Cr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},xs=typeof window<"u"&&window.MotionDebug!==void 0,Cl=["","X","Y","Z"],dE={visibility:"hidden"},Pp=1e3;let hE=0;function Pl(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function l0(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=gv(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",G,!(s||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&l0(n)}function u0({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=hE++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xs&&(Cr.totalNodes=Cr.resolvedTargetDeltas=Cr.recalculatedProjection=0),this.nodes.forEach(mE),this.nodes.forEach(wE),this.nodes.forEach(bE),this.nodes.forEach(gE),xs&&window.MotionDebug.record(Cr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Zk)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Md),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Yk(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=eE(f,250),wo.hasAnimatedSinceResize&&(wo.hasAnimatedSinceResize=!1,this.nodes.forEach(Rp))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||EE,{onLayoutAnimationStart:w,onLayoutAnimationComplete:y}=d.getProps(),m=!this.targetLayout||!a0(this.targetLayout,g)||p,v=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,v);const _={...Ad(x,"layout"),onPlay:w,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||Rp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_E),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&l0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ap);return}this.isUpdating||this.nodes.forEach(vE),this.isUpdating=!1,this.nodes.forEach(xE),this.nodes.forEach(fE),this.nodes.forEach(pE),this.clearAllSnapshots();const a=kt.now();be.delta=$t(0,1e3/60,a-be.timestamp),be.timestamp=a,be.isProcessing=!0,wl.update.process(be),wl.preRender.process(be),wl.render.process(be),be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yE),this.sharedNodes.forEach(jE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,G.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){G.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ie(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!o0(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Tr(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),NE(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return ie();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(TE))){const{scroll:d}=this.root;d&&(jn(l.x,d.offset.x),jn(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=ie();if(Xe(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Xe(l,o),jn(l.x,h.offset.x),jn(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=ie();Xe(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Sn(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Tr(d.latestValues)&&Sn(l,d.latestValues)}return Tr(this.latestValues)&&Sn(l,this.latestValues),l}removeTransform(o){const a=ie();Xe(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Tr(c.latestValues))continue;Gu(c.latestValues)&&c.updateSnapshot();const d=ie(),h=c.measurePageBox();Xe(d,h),Sp(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Tr(this.latestValues)&&Sp(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=be.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ie(),this.relativeTargetOrigin=ie(),Ls(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Xe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ie(),this.targetWithTransforms=ie()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ak(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xe(this.target,this.layout.layoutBox),e0(this.target,this.targetDelta)):Xe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ie(),this.relativeTargetOrigin=ie(),Ls(this.relativeTargetOrigin,this.target,p.target),Xe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xs&&Cr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Gu(this.parent.latestValues)||Zv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===be.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Xe(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Vk(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ie());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bp(this.prevProjectionDelta.x,this.projectionDelta.x),bp(this.prevProjectionDelta.y,this.projectionDelta.y)),Is(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!Cp(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),xs&&Cr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_n(),this.projectionDelta=_n(),this.projectionDeltaWithTransform=_n()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=_n();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ie(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,x=p!==g,w=this.getStack(),y=!w||w.members.length<=1,m=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(kE));this.animationProgress=0;let v;this.mixTargetDelta=_=>{const j=_/1e3;Op(h.x,o.x,j),Op(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ls(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SE(this.relativeTarget,this.relativeTargetOrigin,f,j),v&&lE(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=ie()),Xe(v,this.relativeTarget)),x&&(this.animationValues=d,rE(d,c,this.latestValues,j,m,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=G.update(()=>{wo.hasAnimatedSinceResize=!0,this.currentAnimation=Qk(0,Pp,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Pp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&c0(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ie();const h=Je(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Je(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Xe(a,l),Sn(a,d),Is(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uE),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Pl("z",o,c,this.animationValues);for(let d=0;d<Cl.length;d++)Pl(`rotate${Cl[d]}`,o,c,this.animationValues),Pl(`skew${Cl[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return dE;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=vo(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=vo(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Tr(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=cE(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in Yo){if(f[x]===void 0)continue;const{correct:w,applyTo:y}=Yo[x],m=c.transform==="none"?f[x]:w(f[x],h);if(y){const v=y.length;for(let _=0;_<v;_++)c[y[_]]=m}else c[x]=m}return this.options.layoutId&&(c.pointerEvents=h===this?vo(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Ap),this.root.sharedNodes.clear()}}}function fE(t){t.updateLayout()}function pE(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,o=r.source!==t.layout.source;i==="size"?Ze(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],p=Je(f);f.min=n[h].min,f.max=f.min+p}):c0(i,r.layoutBox,n)&&Ze(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],p=Je(n[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=_n();Is(a,n,r.layoutBox);const l=_n();o?Is(l,t.applyTransform(s,!0),r.measuredBox):Is(l,n,r.layoutBox);const c=!o0(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const g=ie();Ls(g,r.layoutBox,f.layoutBox);const x=ie();Ls(x,n,p.layoutBox),a0(g,x)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function mE(t){xs&&Cr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function gE(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function yE(t){t.clearSnapshot()}function Ap(t){t.clearMeasurements()}function vE(t){t.isLayoutDirty=!1}function xE(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Rp(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wE(t){t.resolveTargetDelta()}function bE(t){t.calcProjection()}function _E(t){t.resetSkewAndRotation()}function jE(t){t.removeLeadSnapshot()}function Op(t,e,r){t.translate=X(e.translate,0,r),t.scale=X(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Ip(t,e,r,n){t.min=X(e.min,r.min,n),t.max=X(e.max,r.max,n)}function SE(t,e,r,n){Ip(t.x,e.x,r.x,n),Ip(t.y,e.y,r.y,n)}function kE(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const EE={duration:.45,ease:[.4,0,.1,1]},Lp=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Dp=Lp("applewebkit/")&&!Lp("chrome/")?Math.round:Ke;function Mp(t){t.min=Dp(t.min),t.max=Dp(t.max)}function NE(t){Mp(t.x),Mp(t.y)}function c0(t,e,r){return t==="position"||t==="preserve-aspect"&&!Pk(Tp(e),Tp(r),.2)}function TE(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const CE=u0({attachResizeListener:(t,e)=>ii(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Al={current:void 0},d0=u0({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Al.current){const t=new CE({});t.mount(window),t.setOptions({layoutScroll:!0}),Al.current=t}return Al.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),PE={pan:{Feature:Hk},drag:{Feature:qk,ProjectionNode:d0,MeasureLayout:n0}};function $p(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&G.postRender(()=>i(e,xi(e)))}class AE extends vr{mount(){const{current:e}=this.node;e&&(this.unmount=Pj(e,r=>($p(this.node,r,"Start"),n=>$p(this.node,n,"End"))))}unmount(){}}class RE extends vr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vi(ii(this.node.current,"focus",()=>this.onFocus()),ii(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Up(t,e,r){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&G.postRender(()=>i(e,xi(e)))}class OE extends vr{mount(){const{current:e}=this.node;e&&(this.unmount=Ij(e,r=>(Up(this.node,r,"Start"),(n,{success:s})=>Up(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qu=new WeakMap,Rl=new WeakMap,IE=t=>{const e=Qu.get(t.target);e&&e(t)},LE=t=>{t.forEach(IE)};function DE({root:t,...e}){const r=t||document;Rl.has(r)||Rl.set(r,{});const n=Rl.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(LE,{root:t,...e})),n[s]}function ME(t,e,r){const n=DE(e);return Qu.set(t,r),n.observe(t),()=>{Qu.delete(t),n.unobserve(t)}}const $E={some:0,all:1};class UE extends vr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:$E[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return ME(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(VE(e,r))&&this.startObserver()}unmount(){}}function VE({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const BE={inView:{Feature:UE},tap:{Feature:OE},focus:{Feature:RE},hover:{Feature:AE}},zE={layout:{ProjectionNode:d0,MeasureLayout:n0}},Yu={current:null},h0={current:!1};function FE(){if(h0.current=!0,!!gd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yu.current=t.matches;t.addListener(e),e()}else Yu.current=!1}const WE=[...Mv,Ee,fr],qE=t=>WE.find(Dv(t)),Vp=new WeakMap;function HE(t,e,r){for(const n in e){const s=e[n],i=r[n];if(Ce(s))t.addValue(n,s);else if(Ce(i))t.addValue(n,ni(s,{owner:t}));else if(i!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,ni(o!==void 0?o:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const Bp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class KE{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=kt.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,G.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Ia(r),this.isVariantNode=qy(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in f){const g=f[p];l[p]!==void 0&&Ce(g)&&g.set(l[p],!1)}}mount(e){this.current=e,Vp.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),h0.current||FE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Vp.delete(this.current),this.projection&&this.projection.unmount(),hr(this.notifyUpdate),hr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Xr.has(e),s=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&G.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zn){const r=zn[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ie()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Bp.length;n++){const s=Bp[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=HE(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=ni(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Iv(s)||kv(s))?s=parseFloat(s):!qE(s)&&fr.test(r)&&(s=Av(e,r)),this.setBaseTarget(e,Ce(s)?s.get():s)),Ce(s)?s.get():s}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=jd(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(s=o[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ce(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Md),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class f0 extends KE{constructor(){super(...arguments),this.KeyframeResolver=$v}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ce(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function GE(t){return window.getComputedStyle(t)}class JE extends f0{constructor(){super(...arguments),this.type="html",this.renderInstance=ev}readValueFromInstance(e,r){if(Xr.has(r)){const n=zd(r);return n&&n.default||0}else{const n=GE(e),s=(Yy(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return t0(e,r)}build(e,r,n){Ed(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Pd(e,r,n)}}class QE extends f0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ie}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Xr.has(r)){const n=zd(r);return n&&n.default||0}return r=tv.has(r)?r:wd(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return sv(e,r,n)}build(e,r,n){Nd(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,s){rv(e,r,n,s)}mount(e){this.isSVGTag=Cd(e.tagName),super.mount(e)}}const YE=(t,e)=>_d(t)?new QE(e):new JE(e,{allowProjection:t!==b.Fragment}),XE=jj({...bk,...BE,...PE,...zE},YE),Ue=$_(XE);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),O=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>b.createElement("svg",{ref:d,...ZE,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${e2(t)}`,a].join(" "),...c},[...e.map(([h,f])=>b.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=O("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=O("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=O("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=O("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=O("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=O("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=O("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=O("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=O("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=O("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=O("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=O("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=O("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=O("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=O("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=O("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=O("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=O("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=O("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=O("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=O("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=O("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=O("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=O("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=O("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=O("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=O("MessageSquareDashed",[["path",{d:"M3 6V5c0-1.1.9-2 2-2h2",key:"9usibi"}],["path",{d:"M11 3h3",key:"1c3ji7"}],["path",{d:"M18 3h1c1.1 0 2 .9 2 2",key:"19esxn"}],["path",{d:"M21 9v2",key:"p14lih"}],["path",{d:"M21 15c0 1.1-.9 2-2 2h-1",key:"1fo1j8"}],["path",{d:"M14 17h-3",key:"1w4p2m"}],["path",{d:"m7 17-4 4v-5",key:"ph9x1h"}],["path",{d:"M3 12v-2",key:"856n1q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=O("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=O("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=O("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=O("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=O("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=O("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=O("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=O("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=O("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=O("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=O("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=O("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=O("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=O("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=O("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=O("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=O("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=O("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=O("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=O("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=O("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=O("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=O("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=O("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=O("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=O("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=O("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=O("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),j0=b.createContext(void 0);function P2({children:t}){const[e,r]=b.useState(()=>{const d=localStorage.getItem("gabo-cart");return d?JSON.parse(d):[]}),[n,s]=b.useState(!1);b.useEffect(()=>{localStorage.setItem("gabo-cart",JSON.stringify(e))},[e]);const i=d=>{e.find(h=>h.id===d.id)||(r([...e,d]),s(!0))},o=d=>{r(e.filter(h=>h.id!==d))},a=()=>r([]),l=()=>s(d=>!d),c=e.reduce((d,h)=>d+h.price,0);return u.jsx(j0.Provider,{value:{cart:e,addToCart:i,removeFromCart:o,clearCart:a,total:c,isCartOpen:n,toggleCart:l},children:t})}function ji(){const t=b.useContext(j0);if(!t)throw new Error("useCart must be used within CartProvider");return t}function A2(){const{isCartOpen:t,toggleCart:e,cart:r,removeFromCart:n,total:s}=ji(),i=Bt();return u.jsx(Vn,{children:t&&u.jsxs(u.Fragment,{children:[u.jsx(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 z-[60] bg-black/60 backdrop-blur-sm"}),u.jsxs(Ue.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 z-[70] h-full w-[85vw] sm:w-96 max-w-md bg-black border-l border-white/10 shadow-2xl flex flex-col text-white",children:[u.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-black/50 backdrop-blur-xl",children:[u.jsxs("h2",{className:"text-xl font-black italic flex items-center gap-2 text-white",children:["TU ",u.jsx("span",{className:"text-neon-green",children:"CARRITO"})]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-white",children:u.jsx(_i,{size:20})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-black",children:r.length===0?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-50 space-y-4",children:[u.jsx(b0,{size:48,className:"text-gray-400"}),u.jsx("p",{className:"font-bold text-gray-400",children:"El carrito est vaco"}),u.jsx("button",{onClick:e,className:"text-neon-green uppercase font-bold text-sm hover:underline",children:"Volver a la tienda"})]}):r.map(o=>u.jsxs(Ue.div,{layout:!0,className:"flex gap-4 bg-white/5 p-4 rounded-2xl border border-white/5 group relative",children:[u.jsx(z,{to:`/curso-info/${o.id}`,onClick:e,className:"absolute inset-0 z-0"}),u.jsx("img",{src:o.image,alt:o.title,className:"w-20 h-20 object-cover rounded-xl z-10 relative pointer-events-none group-hover:scale-105 transition-transform"}),u.jsxs("div",{className:"flex-1 flex flex-col justify-between z-10 relative pointer-events-none",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-sm leading-tight mb-1 text-white",children:o.title}),u.jsx("p",{className:"text-xs text-neon-green font-bold uppercase",children:"Curso Online"})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("span",{className:"font-bold text-white",children:["$",o.price]})})]}),u.jsx("button",{onClick:a=>{a.stopPropagation(),n(o.id)},className:"relative z-20 text-gray-400 hover:text-red-500 transition-colors self-end",children:u.jsx(bi,{size:16})})]},o.id))}),r.length>0&&u.jsxs("div",{className:"p-6 border-t border-white/10 bg-black/90 backdrop-blur-xl space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-end",children:[u.jsx("span",{className:"text-gray-400 text-sm font-bold uppercase tracking-wider",children:"Subtotal"}),u.jsxs("span",{className:"text-3xl font-black text-white",children:["$",s]})]}),u.jsxs("button",{onClick:()=>{e(),i("/checkout")},className:"w-full bg-neon-green text-black font-black py-4 rounded-xl uppercase tracking-wider hover:bg-[#2bff00] shadow-[0_0_20px_rgba(57,255,20,0.3)] flex items-center justify-center gap-2 transition-transform active:scale-95",children:["Tramitar Pedido ",u.jsx(Et,{strokeWidth:3,size:18})]})]})]})]})})}function R2(){const[t,e]=b.useState(!1),[r,n]=b.useState(!0),s=yr();Bt();const{toggleCart:i,cart:o}=ji(),[a,l]=b.useState(null),[c,d]=b.useState(null);b.useEffect(()=>{const f=()=>e(window.scrollY>20);return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]),b.useEffect(()=>{const f=window.document.documentElement;f.classList.remove("light","dark"),f.classList.add(r?"dark":"light")},[r]),b.useEffect(()=>{const f=p=>{p.preventDefault(),d(p)};return window.addEventListener("beforeinstallprompt",f),()=>window.removeEventListener("beforeinstallprompt",f)},[]);const h=async()=>{if(!c)return;c.prompt();const{outcome:f}=await c.userChoice;f==="accepted"&&d(null)};return u.jsxs("div",{className:"min-h-screen font-sans bg-background text-foreground selection:bg-neon-green/30",children:[u.jsx(A2,{}),u.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-black/80 backdrop-blur-xl border-b border-white/10 py-3":"bg-transparent py-6"}`,children:u.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between",children:[u.jsxs(z,{to:"/",className:"flex items-center gap-1 group",children:[u.jsx("span",{className:"text-3xl font-black tracking-tighter italic bg-gradient-to-r from-neon-orange to-red-500 bg-clip-text text-transparent group-hover:scale-105 transition-transform",children:"GABO"}),u.jsx("span",{className:"bg-foreground text-background dark:bg-white dark:text-black px-2 py-0.5 rounded-sm font-bold text-sm tracking-widest uppercase transform -skew-x-12 ml-1 transition-colors",children:"MASTERMIND"})]}),u.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[u.jsx(z,{to:"/",className:"text-sm font-bold uppercase tracking-widest text-muted-foreground hover:text-neon-green transition-colors",children:"Inicio"}),u.jsx(z,{to:"/cursos",className:"text-sm font-bold uppercase tracking-widest text-muted-foreground hover:text-neon-green transition-colors",children:"Academia"}),u.jsx(z,{to:"/my-courses",className:"text-sm font-bold uppercase tracking-widest text-muted-foreground hover:text-neon-green transition-colors",children:"Mis Cursos"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[u.jsx("button",{onClick:()=>n(!r),className:"p-2 hover:bg-secondary rounded-full transition-colors text-foreground",children:r?u.jsx(v2,{size:18}):u.jsx(S2,{size:18})}),c&&u.jsx("button",{onClick:h,className:"p-2 hover:bg-secondary rounded-full transition-colors text-neon-green",children:u.jsx(a2,{size:18})}),u.jsxs("button",{onClick:i,className:"relative p-2 hover:bg-secondary rounded-full transition-colors text-foreground",children:[u.jsx(b0,{size:18}),o.length>0&&u.jsx("span",{className:"absolute -top-1 -right-1 bg-neon-green text-black text-[10px] font-bold w-4 h-4 flex items-center justify-center rounded-full animate-bounce",children:o.length})]}),u.jsx(z,{to:"/login",className:"hidden md:block p-2 hover:bg-secondary rounded-full transition-colors text-muted-foreground hover:text-foreground",children:u.jsx(qn,{size:18})})]})]})}),u.jsx("main",{className:"pt-0",children:u.jsx($y,{})}),u.jsx("div",{className:"md:hidden fixed bottom-2 left-1/2 -translate-x-1/2 w-[95%] max-w-sm z-50",children:u.jsxs("div",{className:"ios-blur rounded-3xl border border-white/10 p-2 flex justify-between items-center shadow-2xl shadow-neon-green/10",children:[u.jsxs(z,{to:"/",className:`relative flex flex-col items-center justify-center w-16 h-14 rounded-2xl transition-all ${s.pathname==="/"?"bg-white/10":""}`,children:[u.jsx($a,{size:22,className:s.pathname==="/"?"text-neon-green":"text-gray-500",strokeWidth:2}),u.jsx("span",{className:`text-[10px] uppercase font-bold mt-1 ${s.pathname==="/"?"text-white":"text-gray-600"}`,children:"Inicio"})]}),u.jsxs(z,{to:"/cursos",className:`relative flex flex-col items-center justify-center w-16 h-14 rounded-2xl transition-all ${s.pathname==="/cursos"?"bg-white/10":""}`,children:[u.jsx(Ma,{size:22,className:s.pathname==="/cursos"?"text-neon-green":"text-gray-500",strokeWidth:2}),u.jsx("span",{className:`text-[10px] uppercase font-bold mt-1 ${s.pathname==="/cursos"?"text-white":"text-gray-600"}`,children:"Tienda"})]}),u.jsxs(z,{to:"/my-courses",className:`relative flex flex-col items-center justify-center w-16 h-14 rounded-2xl transition-all ${s.pathname==="/my-courses"?"bg-white/10":""}`,children:[u.jsx(yt,{size:22,className:s.pathname==="/my-courses"?"text-neon-green":"text-gray-500",strokeWidth:2}),u.jsx("span",{className:`text-[10px] uppercase font-bold mt-1 ${s.pathname==="/my-courses"?"text-white":"text-gray-600"}`,children:"Cursos"})]}),u.jsxs(z,{to:"/login",className:`relative flex flex-col items-center justify-center w-16 h-14 rounded-2xl transition-all ${s.pathname==="/login"?"bg-white/10":""}`,children:[u.jsx(qn,{size:22,className:s.pathname==="/login"?"text-neon-green":"text-gray-500",strokeWidth:2}),u.jsx("span",{className:`text-[10px] uppercase font-bold mt-1 ${s.pathname==="/login"?"text-white":"text-gray-600"}`,children:a?"Perfil":"Entrar"})]})]})})]})}const O2=[{icon:d2,label:"Dashboard",path:"/admin"},{icon:s2,label:"Analytics",path:"/admin/analytics"},{icon:yt,label:"Cursos",path:"/admin/courses"},{icon:Qd,label:"Usuarios",path:"/admin/users"},{icon:Jd,label:"Comentarios",path:"/admin/comments"},{icon:x0,label:"Herramientas",path:"/admin/tools"},{icon:$a,label:"Home Config",path:"/admin/home-config"},{icon:y2,label:"Popup Banner",path:"/admin/popup-config"},{icon:_2,label:"Configuracin",path:"/admin/settings"}];function I2(){const t=yr();Bt();const[e,r]=b.useState(!1),[n,s]=b.useState(()=>sessionStorage.getItem("admin_secret_auth")==="true"),[i,o]=b.useState(""),[a,l]=b.useState(!1),c=d=>{d.preventDefault(),i==="millonario0000"?(s(!0),sessionStorage.setItem("admin_secret_auth","true"),l(!1)):l(!0)};return n?u.jsxs("div",{className:"min-h-screen bg-black text-white font-sans flex text-sm relative",children:[u.jsx("button",{onClick:()=>r(!0),className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-white/10 rounded-full backdrop-blur-md",children:u.jsx(g2,{size:24})}),u.jsx(Vn,{children:e&&u.jsx(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1),className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-40 lg:hidden"})}),u.jsxs("div",{className:`
                fixed lg:sticky top-0 h-screen w-64 bg-gradient-to-b from-orange-950 to-black border-r border-orange-500/20 flex flex-col z-50 transition-transform duration-300
                ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
            `,children:[u.jsxs("div",{className:"p-8 flex items-center justify-between border-b border-orange-500/20",children:[u.jsxs("h2",{className:"text-2xl font-black italic tracking-tighter text-white",children:["GABO ",u.jsx("span",{className:"text-neon-orange",children:"ADMIN"})]}),u.jsx("button",{onClick:()=>r(!1),className:"lg:hidden text-orange-400 hover:text-orange-300",children:u.jsx(_i,{size:24})})]}),u.jsx("nav",{className:"flex-1 px-4 space-y-2 overflow-y-auto py-4",children:O2.map(d=>{const h=t.pathname===d.path||d.path!=="/admin"&&t.pathname.startsWith(d.path);return u.jsxs(z,{to:d.path,onClick:()=>r(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${h?"bg-neon-orange text-black font-bold shadow-[0_0_15px_rgba(255,107,0,0.4)]":"text-orange-200 hover:bg-orange-900/30 hover:text-white"}`,children:[u.jsx(d.icon,{size:18}),u.jsx("span",{children:d.label})]},d.path)})}),u.jsxs("div",{className:"p-4 border-t border-orange-500/20",children:[u.jsxs("button",{onClick:()=>{sessionStorage.removeItem("admin_secret_auth"),s(!1)},className:"flex items-center gap-3 px-4 py-3 text-red-500 hover:text-red-400 transition-colors w-full text-left",children:[u.jsx(p2,{size:18}),u.jsx("span",{children:"Cerrar Sesin"})]}),u.jsxs(z,{to:"/",className:"flex items-center gap-3 px-4 py-3 text-gray-500 hover:text-white transition-colors",children:[u.jsx($a,{size:18}),u.jsx("span",{children:"Ir a Web"})]})]})]}),u.jsx("main",{className:"flex-1 p-4 lg:p-8 overflow-y-auto h-screen bg-black relative",children:u.jsx($y,{})})]}):u.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-6 font-sans",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("div",{className:"w-20 h-20 bg-neon-green/10 rounded-full flex items-center justify-center mx-auto mb-6 ring-1 ring-neon-green/30",children:u.jsx(Gr,{size:32,className:"text-neon-green"})}),u.jsxs("h1",{className:"text-3xl font-black text-white italic tracking-tighter mb-2",children:["GABO ",u.jsx("span",{className:"text-neon-green",children:"ADMIN"})]}),u.jsx("p",{className:"text-gray-500 text-sm font-medium uppercase tracking-widest",children:"Acceso Restringido"})]}),u.jsxs("form",{onSubmit:c,className:"space-y-4",children:[u.jsx("div",{className:"relative",children:u.jsx("input",{type:"password",value:i,onChange:d=>o(d.target.value),placeholder:"Contrasea Maestra",className:"w-full bg-white/5 border border-white/10 focus:border-neon-green rounded-xl px-6 py-4 text-white placeholder:text-gray-600 outline-none text-center font-mono tracking-widest text-lg transition-all",autoFocus:!0})}),a&&u.jsx("p",{className:"text-red-500 text-xs text-center font-bold uppercase animate-pulse",children:"Contrasea Incorrecta"}),u.jsxs("button",{type:"submit",className:"w-full bg-neon-green text-black font-black text-lg py-4 rounded-xl flex items-center justify-center gap-2 hover:bg-[#2bff00] hover:scale-[1.02] transition-all uppercase tracking-wide shadow-lg shadow-neon-green/20",children:["Desbloquear ",u.jsx(Et,{size:20,strokeWidth:3})]}),u.jsx(z,{to:"/",className:"block text-center text-gray-600 hover:text-white text-xs uppercase font-bold mt-8 transition-colors",children:"Volver al Sitio"})]})]})})}const Fp={heroTitle:"LIMITLESS POTENTIAL",heroSubtitle:"EL SISTEMA PROHIBIDO PARA DESBLOQUEAR TU MXIMO NIVEL DE CONSCIENCIA Y RIQUEZA.",heroImage:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?q=80&w=2574&auto=format&fit=crop",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",videoCover:"https://images.unsplash.com/photo-1478720568477-152d9b164e63?q=80&w=2000&auto=format&fit=crop"},S0=b.createContext(void 0);function L2({children:t}){const[e,r]=b.useState(()=>{const i=localStorage.getItem("gabo-site-settings");return i?JSON.parse(i):Fp});b.useEffect(()=>{localStorage.setItem("gabo-site-settings",JSON.stringify(e))},[e]);const n=i=>{r(o=>({...o,...i}))},s=()=>r(Fp);return u.jsx(S0.Provider,{value:{settings:e,updateSettings:n,resetSettings:s},children:t})}function Ua(){const t=b.useContext(S0);if(t===void 0)throw new Error("useSettings must be used within a SettingsProvider");return t}function D2(){const{settings:t}=Ua(),e=b.useRef(null),r=()=>{var n;(n=e.current)==null||n.scrollIntoView({behavior:"smooth"})};return u.jsxs("div",{className:"font-sans text-foreground bg-background transition-colors duration-300",children:[u.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 z-0 select-none pointer-events-none",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transition-all duration-1000",style:{backgroundImage:`url(${t.heroImage})`}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background via-background/80 to-transparent z-10"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-transparent to-transparent z-10"})]}),u.jsx("div",{className:"relative z-20 max-w-7xl mx-auto px-6 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:u.jsxs(Ue.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-secondary border border-border mb-8 animate-pulse",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),u.jsx("span",{className:"text-xs font-bold tracking-widest uppercase text-foreground",children:"Nueva Generacin 2025"})]}),u.jsx("h1",{className:"text-5xl md:text-8xl font-black italic tracking-tighter leading-[0.9] mb-8 text-foreground",children:t.heroTitle}),u.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground font-medium mb-12 max-w-2xl leading-relaxed",children:t.heroSubtitle}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[u.jsx(z,{to:"/cursos",className:"group relative px-8 py-5 bg-foreground text-background font-black text-xl uppercase tracking-widest rounded-sm overflow-hidden transform hover:-translate-y-1 transition-all shadow-[8px_8px_0px_0px_var(--neon-green)] hover:shadow-[12px_12px_0px_0px_var(--neon-green)]",children:u.jsxs("span",{className:"relative z-10 flex items-center gap-3",children:["Empezar Ahora ",u.jsx(Et,{className:"group-hover:translate-x-1 transition-transform",strokeWidth:3})]})}),u.jsxs("button",{onClick:r,className:"flex items-center gap-4 px-8 py-5 group text-foreground hover:text-neon-green transition-colors",children:[u.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-current flex items-center justify-center group-hover:bg-neon-green/10",children:u.jsx(na,{fill:"currentColor",size:20})}),u.jsx("span",{className:"font-bold text-sm tracking-widest uppercase",children:"Ver Trailer"})]})]})]})})]}),u.jsx("section",{ref:e,className:"py-24 bg-secondary/30 relative",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-sm font-bold uppercase tracking-[0.3em] text-neon-green mb-4",children:"Masterclass Exclusiva"}),u.jsx("h3",{className:"text-4xl md:text-5xl font-black italic text-foreground",children:"QU ES GABO MASTERMIND?"})]}),u.jsx("div",{className:"relative aspect-video rounded-3xl overflow-hidden shadow-2xl border border-white/10 group",children:u.jsx("iframe",{className:"w-full h-full",src:t.videoUrl,title:"Trailer",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})}),u.jsx("section",{className:"py-24 bg-background relative overflow-hidden",children:u.jsx("div",{className:"max-w-7xl mx-auto px-6",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[1,2,3].map(n=>u.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-border relative group hover:scale-[1.02] transition-transform",children:[u.jsx(w2,{className:"absolute top-8 right-8 text-neon-green/20",size:40}),u.jsx("div",{className:"flex items-center gap-2 mb-4",children:[1,2,3,4,5].map(s=>u.jsx(_0,{size:16,className:"text-neon-orange",fill:"currentColor"},s))}),u.jsx("p",{className:"text-muted-foreground text-lg mb-6 leading-relaxed",children:'"Este sistema cambi mi forma de ver los negocios. Pas de 0 a 10k en 3 meses aplicando solo la fase 1."'}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-12 h-12 rounded-full bg-secondary flex items-center justify-center font-bold text-foreground",children:["U",n]}),u.jsxs("div",{children:[u.jsxs("div",{className:"font-bold text-foreground",children:["Usuario xito ",n]}),u.jsx("div",{className:"text-xs font-bold text-neon-green uppercase",children:"Alumno Verificado"})]})]})]},n))})})}),u.jsx("section",{className:"py-32 flex items-center justify-center bg-foreground text-background text-center px-6",children:u.jsxs("div",{className:"max-w-4xl",children:[u.jsx("h2",{className:"text-5xl md:text-7xl font-black italic mb-8 tracking-tighter",children:"NO MS EXCUSAS."}),u.jsx(z,{to:"/cursos",className:"inline-block bg-background text-foreground font-black text-2xl px-12 py-6 rounded-full hover:scale-105 transition-transform",children:"NETE A LA LITE"})]})})]})}var Yd={},sa={},Xu=function(t,e){return Xu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Xu(t,e)};function k0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Xu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ia=function(){return ia=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ia.apply(this,arguments)};function es(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function E0(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function N0(t,e){return function(r,n){e(r,n,t)}}function T0(t,e,r,n,s,i){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),h,f=!1,p=r.length-1;p>=0;p--){var g={};for(var x in n)g[x]=x==="access"?{}:n[x];for(var x in n.access)g.access[x]=n.access[x];g.addInitializer=function(y){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(y||null))};var w=(0,r[p])(a==="accessor"?{get:d.get,set:d.set}:d[l],g);if(a==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(h=o(w.get))&&(d.get=h),(h=o(w.set))&&(d.set=h),(h=o(w.init))&&s.unshift(h)}else(h=o(w))&&(a==="field"?s.unshift(h):d[l]=h)}c&&Object.defineProperty(c,n.name,d),f=!0}function C0(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function P0(t){return typeof t=="symbol"?t:"".concat(t)}function A0(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function R0(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function P(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function O0(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Va=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function I0(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Va(e,t,r)}function oa(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xd(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function L0(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Xd(arguments[e]));return t}function D0(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function M0(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Hn(t){return this instanceof Hn?(this.v=t,this):new Hn(t)}function $0(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(g){return Promise.resolve(g).then(p,h)}}function a(p,g){n[p]&&(s[p]=function(x){return new Promise(function(w,y){i.push([p,x,w,y])>1||l(p,x)})},g&&(s[p]=g(s[p])))}function l(p,g){try{c(n[p](g))}catch(x){f(i[0][3],x)}}function c(p){p.value instanceof Hn?Promise.resolve(p.value.v).then(d,h):f(i[0][2],p)}function d(p){l("next",p)}function h(p){l("throw",p)}function f(p,g){p(g),i.shift(),i.length&&l(i[0][0],i[0][1])}}function U0(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Hn(t[s](o)),done:!1}:i?i(o):o}:i}}function V0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof oa=="function"?oa(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function B0(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var M2=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Zu=function(t){return Zu=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Zu(t)};function z0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Zu(t),n=0;n<r.length;n++)r[n]!=="default"&&Va(e,t,r[n]);return M2(e,t),e}function F0(t){return t&&t.__esModule?t:{default:t}}function W0(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function q0(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function H0(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function K0(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var $2=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function G0(t){function e(i){t.error=t.hasError?new $2(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function J0(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const U2={__extends:k0,__assign:ia,__rest:es,__decorate:E0,__param:N0,__esDecorate:T0,__runInitializers:C0,__propKey:P0,__setFunctionName:A0,__metadata:R0,__awaiter:P,__generator:O0,__createBinding:Va,__exportStar:I0,__values:oa,__read:Xd,__spread:L0,__spreadArrays:D0,__spreadArray:M0,__await:Hn,__asyncGenerator:$0,__asyncDelegator:U0,__asyncValues:V0,__makeTemplateObject:B0,__importStar:z0,__importDefault:F0,__classPrivateFieldGet:W0,__classPrivateFieldSet:q0,__classPrivateFieldIn:H0,__addDisposableResource:K0,__disposeResources:G0,__rewriteRelativeImportExtension:J0},V2=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:K0,get __assign(){return ia},__asyncDelegator:U0,__asyncGenerator:$0,__asyncValues:V0,__await:Hn,__awaiter:P,__classPrivateFieldGet:W0,__classPrivateFieldIn:H0,__classPrivateFieldSet:q0,__createBinding:Va,__decorate:E0,__disposeResources:G0,__esDecorate:T0,__exportStar:I0,__extends:k0,__generator:O0,__importDefault:F0,__importStar:z0,__makeTemplateObject:B0,__metadata:R0,__param:N0,__propKey:P0,__read:Xd,__rest:es,__rewriteRelativeImportExtension:J0,__runInitializers:C0,__setFunctionName:A0,__spread:L0,__spreadArray:M0,__spreadArrays:D0,__values:oa,default:U2},Symbol.toStringTag,{value:"Module"})),B2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Ba=class extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}},Q0=class extends Ba{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},ec=class extends Ba{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},tc=class extends Ba{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var aa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(aa||(aa={}));class z2{constructor(e,{headers:r={},customFetch:n,region:s=aa.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=B2(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return P(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:c,signal:d,timeout:h}=n;let f={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(f["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let x;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",x=c):typeof c=="string"?(f["Content-Type"]="text/plain",x=c):typeof FormData<"u"&&c instanceof FormData?x=c:(f["Content-Type"]="application/json",x=JSON.stringify(c)):x=c;let w=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(w=o.signal,d.addEventListener("abort",()=>o.abort())):w=o.signal);const y=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:x,signal:w}).catch(j=>{throw new Q0(j)}),m=y.headers.get("x-relay-error");if(m&&m==="true")throw new ec(y);if(!y.ok)throw new tc(y);let v=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield y.json():v==="application/octet-stream"||v==="application/pdf"?_=yield y.blob():v==="text/event-stream"?_=y:v==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof tc||a instanceof ec?a.context:void 0}}finally{i&&clearTimeout(i)}})}}const F2=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return aa},FunctionsClient:z2,FunctionsError:Ba,FunctionsFetchError:Q0,FunctionsHttpError:tc,FunctionsRelayError:ec},Symbol.toStringTag,{value:"Module"})),Y0=ui(F2);var Te={};const ts=ui(V2);var Qi={},Yi={},Xi={},Zi={},eo={},to={},Wp;function X0(){if(Wp)return to;Wp=1,Object.defineProperty(to,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return to.default=t,to}var qp;function Z0(){if(qp)return eo;qp=1,Object.defineProperty(eo,"__esModule",{value:!0});const e=ts.__importDefault(X0());let r=class{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,h,f;let p=null,g=null,x=null,w=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const j=await l.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?g=j:g=JSON.parse(j))}const v=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&_&&_.length>1&&(x=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,x=null,w=406,y="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const v=await l.text();try{p=JSON.parse(v),Array.isArray(p)&&l.status===404&&(g=[],p=null,w=200,y="OK")}catch{l.status===404&&v===""?(w=204,y="No Content"):p={message:v}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,w=200,y="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:g,count:x,status:w,statusText:y}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,d,h,f,p,g;let x="";const w=l==null?void 0:l.cause;if(w){const y=(c=w==null?void 0:w.message)!==null&&c!==void 0?c:"",m=(d=w==null?void 0:w.code)!==null&&d!==void 0?d:"";x=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,x+=`

Caused by: ${(f=w==null?void 0:w.name)!==null&&f!==void 0?f:"Error"}: ${y}`,m&&(x+=` (${m})`),w!=null&&w.stack&&(x+=`
${w.stack}`)}else x=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(g=l==null?void 0:l.name)!==null&&g!==void 0?g:"FetchError"}: ${l==null?void 0:l.message}`,details:x,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}};return eo.default=r,eo}var Hp;function ex(){if(Hp)return Zi;Hp=1,Object.defineProperty(Zi,"__esModule",{value:!0});const e=ts.__importDefault(Z0());let r=class extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return Zi.default=r,Zi}var Kp;function Zd(){if(Kp)return Xi;Kp=1,Object.defineProperty(Xi,"__esModule",{value:!0});const e=ts.__importDefault(ex()),r=new RegExp("[,()]");let n=class extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${c}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}};return Xi.default=n,Xi}var Gp;function tx(){if(Gp)return Yi;Gp=1,Object.defineProperty(Yi,"__esModule",{value:!0});const e=ts.__importDefault(Zd());let r=class{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return Yi.default=r,Yi}var Jp;function W2(){if(Jp)return Qi;Jp=1,Object.defineProperty(Qi,"__esModule",{value:!0});const t=ts,e=t.__importDefault(tx()),r=t.__importDefault(Zd());let n=class rx{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new rx(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let p;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([x,w])=>w!==void 0).map(([x,w])=>[x,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([x,w])=>{f.searchParams.append(x,w)})):(h="POST",p=o);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new r.default({method:h,url:f,headers:g,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return Qi.default=n,Qi}Object.defineProperty(Te,"__esModule",{value:!0});Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const rs=ts,nx=rs.__importDefault(W2());Te.PostgrestClient=nx.default;const sx=rs.__importDefault(tx());Te.PostgrestQueryBuilder=sx.default;const ix=rs.__importDefault(Zd());Te.PostgrestFilterBuilder=ix.default;const ox=rs.__importDefault(ex());Te.PostgrestTransformBuilder=ox.default;const ax=rs.__importDefault(Z0());Te.PostgrestBuilder=ax.default;const lx=rs.__importDefault(X0());Te.PostgrestError=lx.default;Te.default={PostgrestClient:nx.default,PostgrestQueryBuilder:sx.default,PostgrestFilterBuilder:ix.default,PostgrestTransformBuilder:ox.default,PostgrestBuilder:ax.default,PostgrestError:lx.default};class ux{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const q2="2.87.1",H2=`realtime-js/${q2}`,cx="1.0.0",K2="2.0.0",Qp=cx,rc=1e4,G2=1e3,J2=100;var Or;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Or||(Or={}));var ae;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ae||(ae={}));var ht;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ht||(ht={}));var nc;(function(t){t.websocket="websocket"})(nc||(nc={}));var Ir;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ir||(Ir={}));class Q2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",c=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let g=new DataView(p),x=0;g.setUint8(x++,this.KINDS.userBroadcastPush),g.setUint8(x++,l.length),g.setUint8(x++,a.length),g.setUint8(x++,o.length),g.setUint8(x++,c.length),g.setUint8(x++,h.length),g.setUint8(x++,r),Array.from(l,y=>g.setUint8(x++,y.charCodeAt(0))),Array.from(a,y=>g.setUint8(x++,y.charCodeAt(0))),Array.from(o,y=>g.setUint8(x++,y.charCodeAt(0))),Array.from(c,y=>g.setUint8(x++,y.charCodeAt(0))),Array.from(h,y=>g.setUint8(x++,y.charCodeAt(0)));var w=new Uint8Array(p.byteLength+n.byteLength);return w.set(new Uint8Array(p),0),w.set(new Uint8Array(n),p.byteLength),w.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+s));l=l+s;const d=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,g={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(g.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class dx{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(W||(W={}));const Yp=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Y2(o,t,e,s),i),{}):{}},Y2=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?hx(i,o):sc(o)},hx=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return tN(e,r)}switch(t){case W.bool:return X2(e);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return Z2(e);case W.json:case W.jsonb:return eN(e);case W.timestamp:return rN(e);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return sc(e);default:return sc(e)}},sc=t=>t,X2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Z2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},eN=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},tN=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>hx(e,a))}return t},rN=t=>typeof t=="string"?t.replace(" ","T"):t,fx=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ol{constructor(e,r,n={},s=rc){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ic;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ic||(ic={}));let px=class bo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bo.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=bo.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=bo.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(w=>w.presence_ref),p=h.map(w=>w.presence_ref),g=d.filter(w=>p.indexOf(w.presence_ref)<0),x=h.filter(w=>f.indexOf(w.presence_ref)<0);g.length>0&&(a[c]=g),x.length>0&&(l[c]=x)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var oc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(oc||(oc={}));var An;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(An||(An={}));var wt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(wt||(wt={}));const nN=ae;let mx=class ws{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ol(this,ht.join,this.params,this.timeout),this.rejoinTimer=new dx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ae.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ht.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new px(this),this.broadcastEndpointURL=fx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ae.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[An.PRESENCE]&&this.bindings[An.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(wt.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(wt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(wt.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(g=x==null?void 0:x.length)!==null&&g!==void 0?g:0,y=[];for(let m=0;m<w;m++){const v=x[m],{filter:{event:_,schema:j,table:S,filter:E}}=v,k=p&&p[m];if(k&&k.event===_&&ws.isFilterValueEqual(k.schema,j)&&ws.isFilterValueEqual(k.table,S)&&ws.isFilterValueEqual(k.filter,E))y.push(Object.assign(Object.assign({},v),{id:k.id}));else{this.unsubscribe(),this.state=ae.errored,e==null||e(wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(wt.SUBSCRIBED);return}}).receive("error",p=>{this.state=ae.errored,e==null||e(wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ae.joined&&e===An.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ae.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ht.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ol(this,ht.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ae.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ol(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>J2){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=ht;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,x,w;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(x=p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,x,w,y,m,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,j=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(m=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:x,table:w,commit_timestamp:y,type:m,errors:v}=g;f=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:y,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(g))}p.callback(f,n)})}_isClosed(){return this.state===ae.closed}_isJoined(){return this.state===ae.joined}_isJoining(){return this.state===ae.joining}_isLeaving(){return this.state===ae.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ws.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ht.close,{},e)}_onError(e){this._on(ht.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ae.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Yp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Yp(e.columns,e.old_record)),r}};const Il=()=>{},ro={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sN=[1e3,2e3,5e3,1e4],iN=1e4,oN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let aN=class{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rc,this.transport=null,this.heartbeatIntervalMs=ro.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Il,this.ref=0,this.reconnectTimer=null,this.vsn=Qp,this.logger=Il,this.conn=null,this.sendBuffer=[],this.serializer=new Q2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${nc.websocket}`,this.httpEndpoint=fx(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ux.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Or.connecting:return Ir.Connecting;case Or.open:return Ir.Open;case Or.closing:return Ir.Closing;default:return Ir.Closed}}isConnected(){return this.connectionState()===Ir.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new mx(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(G2,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ro.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Or.open||this.conn.readyState===Or.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ht.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([oN],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:H2};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ht.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new dx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ro.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,c,d,h,f,p;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:rc,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ro.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Il,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Qp,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:g=>sN[g-1]||iN,this.vsn){case cx:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(g,x)=>x(JSON.stringify(g)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(g,x)=>x(JSON.parse(g));break;case K2:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const lN=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:nN,get REALTIME_LISTEN_TYPES(){return An},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return oc},get REALTIME_PRESENCE_LISTEN_EVENTS(){return ic},get REALTIME_SUBSCRIBE_STATES(){return wt},RealtimeChannel:mx,RealtimeClient:aN,RealtimePresence:px,WebSocketFactory:ux},Symbol.toStringTag,{value:"Module"})),gx=ui(lN);class Si extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function J(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class yx extends Si{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class la extends Si{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const eh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),uN=()=>Response,ac=t=>{if(Array.isArray(t))return t.map(r=>ac(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ac(n)}),e},cN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},dN=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Ll=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},hN=(t,e,r)=>P(void 0,void 0,void 0,function*(){const n=yield uN();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new yx(Ll(s),i,o))}).catch(s=>{e(new la(Ll(s),s))}):e(new la(Ll(t),t))}),fN=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(cN(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ki(t,e,r,n,s,i){return P(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,fN(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>hN(l,a,n))})})}function ai(t,e,r,n){return P(this,void 0,void 0,function*(){return ki(t,"GET",e,r,n)})}function ct(t,e,r,n,s){return P(this,void 0,void 0,function*(){return ki(t,"POST",e,n,s,r)})}function lc(t,e,r,n,s){return P(this,void 0,void 0,function*(){return ki(t,"PUT",e,n,s,r)})}function pN(t,e,r,n){return P(this,void 0,void 0,function*(){return ki(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function th(t,e,r,n,s){return P(this,void 0,void 0,function*(){return ki(t,"DELETE",e,n,s,r)})}class mN{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return P(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(J(e))return{data:null,error:e};throw e}})}}var vx;class gN{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[vx]="BlobDownloadBuilder",this.promise=null}asStream(){return new mN(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return P(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(J(e))return{data:null,error:e};throw e}})}}vx=Symbol.toStringTag;const yN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vN{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=eh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return P(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Xp),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(e=="PUT"?lc:ct)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}})}upload(e,r,n){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return P(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Xp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield lc(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(J(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return P(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ct(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Si("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}update(e,r,n){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return P(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}copy(e,r,n){return P(this,void 0,void 0,function*(){try{return{data:{path:(yield ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return P(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ct(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return P(this,void 0,void 0,function*(){try{const s=yield ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>ai(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new gN(l,this.shouldThrowOnError)}info(e){return P(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ai(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ac(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}exists(e){return P(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield pN(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n)&&n instanceof la){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return P(this,void 0,void 0,function*(){try{return{data:yield th(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}list(e,r,n){return P(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},yN),r),{prefix:e||""});return{data:yield ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}listV2(e,r){return P(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ct(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const xx="2.87.1",wx={"X-Client-Info":`storage-js/${xx}`};class xN{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wx),r),this.fetch=eh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return P(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ai(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}getBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}createBucket(e){return P(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ct(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return P(this,void 0,void 0,function*(){try{return{data:yield lc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}emptyBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield th(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var li=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function wN(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function bN(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function _N(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=wN(t.baseUrl,n,s),l=await bN(t.auth),c=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!c.ok){const p=h?f:void 0,g=p==null?void 0:p.error;throw new li((g==null?void 0:g.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:c.status,headers:c.headers,data:f}}}}function no(t){return t.join("")}var jN=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:no(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${no(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${no(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${no(t.namespace)}`}),!0}catch(e){if(e instanceof li&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof li&&r.status===409)return;throw r}}};function tn(t){return t.join("")}var SN=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${tn(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${tn(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${tn(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${tn(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${tn(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${tn(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof li&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof li&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},kN=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=_N({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new jN(this.client,e),this.tableOps=new SN(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class bx{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wx),r),this.fetch=eh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}listBuckets(e){return P(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ai(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield th(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}from(e){if(!dN(e))throw new Si("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new kN({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>P(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,o){const a=i[o];return typeof a!="function"?a:(...l)=>P(this,void 0,void 0,function*(){try{return{data:yield a.apply(i,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}})}})}}const rh={"X-Client-Info":`storage-js/${xx}`,"Content-Type":"application/json"};class nh extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Me(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class _o extends nh{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _x extends nh{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var uc;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(uc||(uc={}));const za=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),EN=()=>Response,jx=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},NN=t=>Array.from(new Float32Array(t)),TN=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},Zp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),CN=(t,e,r)=>P(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new _o(Zp(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new _o(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new _o(a,s,o))}}else e(new _x(Zp(t),t))}),PN=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(jx(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function AN(t,e,r,n,s,i){return P(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,PN(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>CN(l,a,n))})})}function We(t,e,r,n,s){return P(this,void 0,void 0,function*(){return AN(t,"POST",e,n,s,r)})}class Sx{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rh),r),this.fetch=za(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return P(this,void 0,void 0,function*(){try{return{data:(yield We(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}getIndex(e,r){return P(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}listIndexes(e){return P(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return P(this,void 0,void 0,function*(){try{return{data:(yield We(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Me(n))return{data:null,error:n};throw n}})}}class kx{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rh),r),this.fetch=za(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return P(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield We(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}getVectors(e){return P(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}listVectors(e){return P(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield We(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}queryVectors(e){return P(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}deleteVectors(e){return P(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield We(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}}class Ex{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rh),r),this.fetch=za(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return P(this,void 0,void 0,function*(){try{return{data:(yield We(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}getBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}listBuckets(){return P(this,arguments,void 0,function*(e={}){try{return{data:yield We(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:(yield We(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}}class Nx extends Ex{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Tx(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return P(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return P(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return P(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return P(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class Tx extends Sx{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return P(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return P(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return P(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return P(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Cx(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Cx extends kx{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return P(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return P(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return P(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return P(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return P(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class RN extends xN{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new vN(this.url,this.headers,e,this.fetch)}get vectors(){return new Nx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bx(this.url+"/iceberg",this.headers,this.fetch)}}const ON=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:bx,StorageApiError:yx,StorageClient:RN,StorageError:Si,StorageUnknownError:la,StorageVectorsApiError:_o,StorageVectorsClient:Nx,StorageVectorsError:nh,get StorageVectorsErrorCode(){return uc},StorageVectorsUnknownError:_x,VectorBucketApi:Ex,VectorBucketScope:Tx,VectorDataApi:kx,VectorIndexApi:Sx,VectorIndexScope:Cx,isPlainObject:jx,isStorageError:J,isStorageVectorsError:Me,normalizeToFloat32:NN,resolveFetch:za,resolveResponse:EN,validateVectorDimension:TN},Symbol.toStringTag,{value:"Module"})),IN=ui(ON);var Px={},Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.version=void 0;Fa.version="2.87.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=Fa;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Px);var Ax={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=s=>s?(...i)=>s(...i):(...i)=>fetch(...i);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const n=(s,i,o)=>{const a=(0,t.resolveFetch)(o),l=(0,t.resolveHeadersConstructor)();return async(c,d)=>{var h;const f=(h=await i())!==null&&h!==void 0?h:s;let p=new l(d==null?void 0:d.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),a(c,Object.assign(Object.assign({},d),{headers:p}))}};t.fetchWithAuth=n})(Ax);var xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.isBrowser=void 0;xr.uuid=LN;xr.ensureTrailingSlash=Rx;xr.applySettingDefaults=MN;xr.validateSupabaseUrl=$N;function LN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}function Rx(t){return t.endsWith("/")?t:t+"/"}const DN=()=>typeof window<"u";xr.isBrowser=DN;function MN(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function $N(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Rx(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Wa={};const Ox="2.87.1",on=30*1e3,cc=3,Dl=cc*on,UN="http://localhost:9999",VN="supabase.auth.token",BN={"X-Client-Info":`gotrue-js/${Ox}`},dc="X-Supabase-Api-Version",Ix={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,FN=10*60*1e3;let Kn=class extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function R(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let Lx=class extends Kn{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function Dx(t){return R(t)&&t.name==="AuthApiError"}let Qt=class extends Kn{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},zt=class extends Kn{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}},Le=class extends zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Mx(t){return R(t)&&t.name==="AuthSessionMissingError"}let Pr=class extends zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},bs=class extends zt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},_s=class extends zt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function $x(t){return R(t)&&t.name==="AuthImplicitGrantRedirectError"}let hc=class extends zt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ua=class extends zt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function jo(t){return R(t)&&t.name==="AuthRetryableFetchError"}let fc=class extends zt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function WN(t){return R(t)&&t.name==="AuthWeakPasswordError"}let ca=class extends zt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const da="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),em=` 	
\r=`.split(""),qN=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<em.length;e+=1)t[em[e].charCodeAt(0)]=-2;for(let e=0;e<da.length;e+=1)t[da[e].charCodeAt(0)]=e;return t})();function tm(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(da[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(da[n]),e.queuedBits-=6}}function Ux(t,e,r){const n=qN[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function rm(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{GN(o,n,r)};for(let o=0;o<t.length;o+=1)Ux(t.charCodeAt(o),s,i);return e.join("")}function HN(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function KN(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}HN(n,e)}}function GN(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Rn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Ux(t.charCodeAt(s),r,n);return new Uint8Array(e)}function JN(t){const e=[];return KN(t,r=>e.push(r)),new Uint8Array(e)}function Ur(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>tm(s,r,n)),tm(null,r,n),e.join("")}function QN(t){return Math.round(Date.now()/1e3)+t}function YN(){return Symbol("auth-callback")}const xe=()=>typeof window<"u"&&typeof document<"u",Sr={tested:!1,writable:!1},Vx=()=>{if(!xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sr.tested)return Sr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Sr.tested=!0,Sr.writable=!0}catch{Sr.tested=!0,Sr.writable=!1}return Sr.writable};function XN(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Bx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ZN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",an=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},kr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ve=async(t,e)=>{await t.removeItem(e)};class qa{constructor(){this.promise=new qa.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}qa.promiseConstructor=Promise;function Ml(t){const e=t.split(".");if(e.length!==3)throw new ca("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!zN.test(e[n]))throw new ca("JWT not in base64url format");return{header:JSON.parse(rm(e[0])),payload:JSON.parse(rm(e[1])),signature:Rn(e[2]),raw:{header:e[0],payload:e[1]}}}async function eT(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function tT(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function rT(t){return("0"+t.toString(16)).substr(-2)}function nT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,rT).join("")}async function sT(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function iT(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await sT(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rn(t,e,r=!1){const n=nT();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await an(t,`${e}-code-verifier`,s);const i=await iT(n);return[i,n===i?"plain":"s256"]}const oT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aT(t){const e=t.headers.get(dc);if(!e||!e.match(oT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function lT(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function uT(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function nn(t){if(!cT.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $l(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dT(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function nm(t){return JSON.parse(JSON.stringify(t))}const Ar=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hT=[502,503,504];async function sm(t){var e;if(!ZN(t))throw new ua(Ar(t),0);if(hT.includes(t.status))throw new ua(Ar(t),t.status);let r;try{r=await t.json()}catch(i){throw new Qt(Ar(i),i)}let n;const s=aT(t);if(s&&s.getTime()>=Ix["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new fc(Ar(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Le}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new fc(Ar(r),t.status,r.weak_password.reasons);throw new Lx(Ar(r),t.status||500,n)}const fT=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function L(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[dc]||(i[dc]=Ix["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await pT(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function pT(t,e,r,n,s,i){const o=fT(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new ua(Ar(l),0)}if(a.ok||await sm(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await sm(l)}}function at(t){var e;let r=null;yT(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=QN(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function im(t){const e=at(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Yt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function mT(t){return{data:t,error:null}}function gT(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=es(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function om(t){return t}function yT(t){return t.access_token&&t.refresh_token&&t.expires_in}const So=["global","local","others"];let sh=class{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Bx(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=So[0]){if(So.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${So.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Yt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=es(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:gT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(R(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Yt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:om});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);c[`${w}Page`]=x}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(R(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){nn(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Yt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){nn(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Yt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){nn(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Yt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){nn(e.userId);try{const{data:r,error:n}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteFactor(e){nn(e.userId),nn(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:om});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);c[`${w}Page`]=x}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(R(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}};function am(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Rr={debug:!!(globalThis&&Vx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ih extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let zx=class extends ih{};class vT extends ih{}async function Fx(t,e,r){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new zx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Rr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const lm={};async function xT(t,e,r){var n;const s=(n=lm[t])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([s.catch(()=>null),e>=0?new Promise((o,a)=>{setTimeout(()=>{a(new vT(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return lm[t]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await s,null;throw o}),await i}function wT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Wx(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function bT(t){return parseInt(t,16)}function _T(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function jT(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Wx(t.address),g=d?`${d}://${n}`:n,x=t.statement?`${t.statement}
`:"",w=`${g} wants you to sign in with your Ethereum account:
${p}

${x}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let m=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);m+=`
- ${v}`}y+=m}return`${w}
${y}`}class le extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class ha extends le{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function ST({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new le({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new le({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new le({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new le({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new le({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new le({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new le({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new le({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(qx(o)){if(i.rp.id!==o)return new le({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new le({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function kT({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new le({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new le({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(qx(n)){if(r.rpId!==n)return new le({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ET{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const NT=new ET;function TT(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=es(t,["challenge","user","excludeCredentials"]),i=Rn(e).buffer,o=Object.assign(Object.assign({},r),{id:Rn(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Rn(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function CT(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=es(t,["challenge","allowCredentials"]),s=Rn(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Rn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function PT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ur(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ur(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function AT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ur(new Uint8Array(s.authenticatorData)),clientDataJSON:Ur(new Uint8Array(s.clientDataJSON)),signature:Ur(new Uint8Array(s.signature)),userHandle:s.userHandle?Ur(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function qx(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function um(){var t,e;return!!(xe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function RT(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ha("Browser returned unexpected credential type",e)}:{data:null,error:new ha("Empty credential response",e)}}catch(e){return{data:null,error:ST({error:e,options:t})}}}async function OT(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ha("Browser returned unexpected credential type",e)}:{data:null,error:new ha("Empty credential response",e)}}catch(e){return{data:null,error:kT({error:e,options:t})}}}const IT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},LT={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fa(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=fa(a,o):n[i]=fa(o)}else n[i]=o}return n}function DT(t,e){return fa(IT,t,e||{})}function MT(t,e){return fa(LT,t,e||{})}class $T{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??NT.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=DT(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await RT({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=MT(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await OT(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new Qt("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Kn("rpId is required for WebAuthn authentication")};try{if(!um())return{data:null,error:new Qt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new Qt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Kn("rpId is required for WebAuthn registration")};try{if(!um())return{data:null,error:new Qt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new Qt("Unexpected error in register",o)}}}}wT();const UT={url:UN,storageKey:VN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:BN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function cm(t,e,r){return await r()}const sn={};let oh=class pc{get jwks(){var e,r;return(r=(e=sn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){sn[this.storageKey]=Object.assign(Object.assign({},sn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=sn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){sn[this.storageKey]=Object.assign(Object.assign({},sn[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},UT),e);if(this.storageKey=i.storageKey,this.instanceID=(r=pc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,pc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&xe()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new sh({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Bx(i.fetch),this.lock=i.lock||cm,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&xe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Fx:this.lock=cm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $T(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Vx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=am(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=am(this.memoryStorage)),xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ox}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(xe()&&(r=XN(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),xe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),$x(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return R(r)?this._returnResult({error:r}):this._returnResult({error:new Qt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:at}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await rn(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:at})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:at})}else throw new bs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await ve(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:im})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:im})}else throw new bs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Pr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,c,d,h,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:x,wallet:w,statement:y,options:m}=e;let v;if(xe())if(typeof w=="object")v=w;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")v=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=w}const _=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),j=await v.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Wx(j[0]);let E=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const A=await v.request({method:"eth_chainId"});E=bT(A)}const k={domain:_.host,address:S,statement:y,uri:_.href,version:"1",chainId:E,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=jT(k),g=await v.request({method:"personal_sign",params:[_T(p),S]})}try{const{data:x,error:w}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:at});if(w)throw w;if(!x||!x.session||!x.user){const y=new Pr;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(R(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var r,n,s,i,o,a,l,c,d,h,f,p;let g,x;if("message"in e)g=e.message,x=e.signature;else{const{chain:w,wallet:y,statement:m,options:v}=e;let _;if(xe())if(typeof y=="object")_=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const j=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),m?{statement:m}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),x=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:w,error:y}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ur(x)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:at});if(y)throw y;if(!w||!w.session||!w.user){const m=new Pr;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:y})}catch(w){if(R(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const r=await kr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:at});if(await ve(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Pr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:at}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new Pr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await rn(this.storage,this.storageKey));const{error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new bs("You must provide either an email or phone number.")}catch(a){if(await ve(this.storage,`${this.storageKey}-code-verifier`),R(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:at});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await rn(this.storage,this.storageKey));const c=await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:mT});return!((i=c.data)===null||i===void 0)&&i.url&&xe()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await ve(this.storage,`${this.storageKey}-code-verifier`),R(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Le;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(R(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await L(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await L(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new bs("You must provide either an email or phone number and a type")}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await kr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Dl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await kr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=$l()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=dT(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Yt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Le}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Yt})})}catch(r){if(R(r))return Mx(r)&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Le;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await rn(this.storage,this.storageKey));const{data:c,error:d}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Yt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await ve(this.storage,`${this.storageKey}-code-verifier`),R(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Le;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Ml(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(R(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Le;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!xe())throw new _s("No browser detected.");if(e.error||e.error_description||e.error_code)throw new _s(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new hc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _s("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new hc("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new _s("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=on&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(n){if(R(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await kr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Dx(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=YN(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await rn(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return xe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(R(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:d}=e,h=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:at}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Pr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(await ve(this.storage,`${this.storageKey}-code-verifier`),R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await tT(async s=>(s>0&&await eT(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:at})),(s,i)=>{const o=200*Math.pow(2,s);return i&&jo(i)&&Date.now()+o-n<on})}catch(n){if(this._debug(r,"error",n),R(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),xe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await kr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await kr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await an(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:$l()}else if(s&&!s.user&&!s.user){const o=await kr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ve(this.storage,this.storageKey+"-user"),await an(this.storage,this.storageKey,s)):s.user=$l()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Dl;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Dl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),jo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Le;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new qa;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Le;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),R(i)){const o={data:null,error:i};return jo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ve(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await an(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=nm(s);await an(this.storage,this.storageKey,i)}else{const s=nm(r);await an(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ve(this.storage,this.storageKey),await ve(this.storage,this.storageKey+"-code-verifier"),await ve(this.storage,this.storageKey+"-user"),this.userStorage&&await ve(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),on);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/on);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${on}ms, refresh threshold is ${cc} ticks`),s<=cc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ih)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await rn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await L(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?PT(e.webauthn.credential_response):AT(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:TT(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:CT(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ml(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await L(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Le})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Le});const o=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&xe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Le});const o=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&xe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await L(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Le})})}catch(e){if(R(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await L(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Le})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+FN>s)return n;const{data:i,error:o}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Ml(n);r!=null&&r.allowExpired||lT(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=uT(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,JN(`${a}.${l}`)))throw new ca("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}};oh.nextInstanceID={};const VT=sh,BT=oh,zT=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:VT,AuthApiError:Lx,AuthClient:BT,AuthError:Kn,AuthImplicitGrantRedirectError:_s,AuthInvalidCredentialsError:bs,AuthInvalidJwtError:ca,AuthInvalidTokenResponseError:Pr,AuthPKCEGrantCodeExchangeError:hc,AuthRetryableFetchError:ua,AuthSessionMissingError:Le,AuthUnknownError:Qt,AuthWeakPasswordError:fc,CustomAuthError:zt,GoTrueAdminApi:sh,GoTrueClient:oh,NavigatorLockAcquireTimeoutError:zx,SIGN_OUT_SCOPES:So,isAuthApiError:Dx,isAuthError:R,isAuthImplicitGrantRedirectError:$x,isAuthRetryableFetchError:jo,isAuthSessionMissingError:Mx,isAuthWeakPasswordError:WN,lockInternals:Rr,navigatorLock:Fx,processLock:xT},Symbol.toStringTag,{value:"Module"})),Hx=ui(zT);Object.defineProperty(Wa,"__esModule",{value:!0});Wa.SupabaseAuthClient=void 0;const FT=Hx;class WT extends FT.AuthClient{constructor(e){super(e)}}Wa.SupabaseAuthClient=WT;Object.defineProperty(sa,"__esModule",{value:!0});const qT=Y0,HT=Te,KT=gx,GT=IN,so=Px,JT=Ax,dm=xr,QT=Wa;let YT=class{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=(0,dm.validateSupabaseUrl)(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:so.DEFAULT_DB_OPTIONS,realtime:so.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},so.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:so.DEFAULT_GLOBAL_OPTIONS},d=(0,dm.applySettingDefaults)(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=(0,JT.fetchWithAuth)(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new HT.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new GT.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new qT.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c,throwOnError:d},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QT.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:c,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new KT.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};sa.default=YT;(function(t){var e=Zr&&Zr.__createBinding||(Object.create?function(d,h,f,p){p===void 0&&(p=f);var g=Object.getOwnPropertyDescriptor(h,f);(!g||("get"in g?!h.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,p,g)}:function(d,h,f,p){p===void 0&&(p=f),d[p]=h[f]}),r=Zr&&Zr.__exportStar||function(d,h){for(var f in d)f!=="default"&&!Object.prototype.hasOwnProperty.call(h,f)&&e(h,d,f)},n=Zr&&Zr.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const s=n(sa);r(Hx,t);var i=Te;Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=Y0;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(gx,t);var a=sa;Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return n(a).default}});const l=(d,h,f)=>new s.default(d,h,f);t.createClient=l;function c(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const h=d.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}c()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Yd);const Kx=fm(Yd),XT=hm({__proto__:null,default:Kx},[Yd]),{PostgrestError:GC,FunctionsHttpError:JC,FunctionsFetchError:QC,FunctionsRelayError:YC,FunctionsError:XC,FunctionRegion:ZC,SupabaseClient:eP,createClient:ZT,GoTrueAdminApi:tP,GoTrueClient:rP,AuthAdminApi:nP,AuthClient:sP,navigatorLock:iP,NavigatorLockAcquireTimeoutError:oP,lockInternals:aP,processLock:lP,SIGN_OUT_SCOPES:uP,AuthError:cP,AuthApiError:dP,AuthUnknownError:hP,CustomAuthError:fP,AuthSessionMissingError:pP,AuthInvalidTokenResponseError:mP,AuthInvalidCredentialsError:gP,AuthImplicitGrantRedirectError:yP,AuthPKCEGrantCodeExchangeError:vP,AuthRetryableFetchError:xP,AuthWeakPasswordError:wP,AuthInvalidJwtError:bP,isAuthError:_P,isAuthApiError:jP,isAuthSessionMissingError:SP,isAuthImplicitGrantRedirectError:kP,isAuthRetryableFetchError:EP,isAuthWeakPasswordError:NP,RealtimePresence:TP,RealtimeChannel:CP,RealtimeClient:PP,REALTIME_LISTEN_TYPES:AP,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:RP,REALTIME_PRESENCE_LISTEN_EVENTS:OP,REALTIME_SUBSCRIBE_STATES:IP,REALTIME_CHANNEL_STATES:LP}=Kx||XT,eC="https://wklwafctsrkfiwhqeidb.supabase.co",tC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndrbHdhZmN0c3JrZml3aHFlaWRiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyOTY3NzYsImV4cCI6MjA4MDg3Mjc3Nn0.hUqBji2PE3kgB4oKKkQRe_4f585voi1BK6wywdZmmLc",M=ZT(eC,tC);function rC(){const[t,e]=b.useState([]),[r,n]=b.useState(!0);b.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:i,error:o}=await M.from("lessons").select(`
          id,
          title,
          description,
          duration,
          video_url,
          course:courses (
            id,
            title,
            image_url
          )
        `).eq("is_free",!0).order("created_at",{ascending:!1});if(o)throw o;const a=(i==null?void 0:i.map(l=>({id:l.id,title:l.title,description:l.description,duration:l.duration,video_url:l.video_url,course:l.course})))||[];e(a)}catch(i){console.error("Error fetching free lessons:",i)}finally{n(!1)}};return r?u.jsx("div",{className:"min-h-screen pt-32 pb-20 flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-neon-green"})}):u.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-white mb-4",children:["Clases ",u.jsx("span",{className:"text-neon-green",children:"Abiertas"})]}),u.jsxs("p",{className:"text-gray-400 text-lg",children:["Explora nuestras lecciones gratuitas. ",t.length," ",t.length===1?"leccin disponible":"lecciones disponibles","."]})]}),t.length===0?u.jsxs("div",{className:"text-center py-16 bg-white/5 rounded-2xl border border-white/10",children:[u.jsx(Gr,{className:"mx-auto text-gray-600 mb-4",size:64}),u.jsx("p",{className:"text-gray-500 text-lg",children:"No hay lecciones gratuitas disponibles an"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(i=>u.jsxs(z,{to:`/curso/${i.course.id}?lesson=${i.id}`,className:"group bg-white/5 border border-white/10 rounded-2xl overflow-hidden hover:border-neon-green/50 transition-all hover:scale-[1.02] active:scale-95",children:[u.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-gray-800 to-black overflow-hidden",children:[i.course.image_url?u.jsx("img",{src:i.course.image_url,alt:i.course.title,className:"w-full h-full object-cover opacity-50 group-hover:opacity-70 transition-opacity"}):null,u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-16 h-16 bg-neon-green/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:u.jsx(yt,{className:"text-neon-green",size:32})})}),u.jsx("div",{className:"absolute top-3 right-3 bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:"GRATIS"})]}),u.jsxs("div",{className:"p-5",children:[u.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2",children:i.course.title}),u.jsx("h3",{className:"font-bold text-lg text-white mb-2 group-hover:text-neon-green transition-colors",children:i.title}),i.description&&u.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-3",children:i.description}),u.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/10",children:[i.duration&&u.jsxs("div",{className:"flex items-center gap-1 text-gray-500 text-sm",children:[u.jsx(p0,{size:14}),u.jsxs("span",{children:[i.duration," min"]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-neon-green font-bold text-sm",children:["Ver Ahora",u.jsx(yt,{size:16})]})]})]})]},i.id))})]})})}function nC(){const{addToCart:t,cart:e}=ji(),[r,n]=b.useState([]),[s,i]=b.useState(!0),[o,a]=b.useState("academy");b.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:c,error:d}=await M.from("courses").select("*").order("created_at",{ascending:!1});if(d)throw d;n(c||[])}catch(c){console.error("Error fetching courses:",c)}finally{i(!1)}};return s?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-neon-green"})}):u.jsx("div",{className:"min-h-screen pt-32 px-4 pb-24",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("h1",{className:"text-5xl font-black italic mb-8 text-center",children:["ACADEMIA ",u.jsx("span",{className:"text-neon-green",children:"PRO"})]}),u.jsxs("div",{className:"flex justify-center gap-4 mb-12",children:[u.jsx("button",{onClick:()=>a("academy"),className:`px-8 py-4 rounded-2xl font-bold uppercase tracking-wider transition-all ${o==="academy"?"bg-neon-green text-black shadow-[0_0_20px_rgba(57,255,20,0.3)]":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:"Cursos"}),u.jsx("button",{onClick:()=>a("free"),className:`px-8 py-4 rounded-2xl font-bold uppercase tracking-wider transition-all ${o==="free"?"bg-neon-green text-black shadow-[0_0_20px_rgba(57,255,20,0.3)]":"bg-white/5 text-gray-400 hover:bg-white/10"}`,children:"Clases Abiertas "})]}),o==="free"?u.jsx(rC,{}):u.jsx(u.Fragment,{children:r.length===0?u.jsxs("div",{className:"text-center text-gray-500 py-12",children:[u.jsx("p",{className:"text-xl",children:"No hay cursos disponibles an."}),u.jsx("p",{className:"text-sm mt-2",children:"Vuelve pronto para ver nuestros cursos "})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((c,d)=>{const h=e.some(f=>f.id===c.id);return u.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},className:"glass rounded-3xl overflow-hidden group hover:border-neon-green/50 transition-colors",children:[u.jsxs("div",{className:"h-48 overflow-hidden relative",children:[c.image_url?u.jsx("img",{src:c.image_url,alt:c.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):u.jsx("div",{className:"w-full h-full bg-white/5 flex items-center justify-center",children:u.jsx(oi,{className:"text-gray-600",size:48})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black to-transparent opacity-80"}),u.jsx("div",{className:"absolute bottom-4 left-4",children:u.jsx("span",{className:"bg-neon-green text-black text-xs font-bold px-2 py-1 rounded uppercase tracking-wider",children:"Curso Online"})})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-2xl font-bold mb-2 leading-tight",children:c.title}),u.jsx("p",{className:"text-gray-400 text-sm mb-6 line-clamp-3",children:c.description}),u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("span",{className:"text-3xl font-black text-white",children:["$",c.price]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(z,{to:`/curso-info/${c.slug||c.id}`,className:"px-4 py-3 rounded-xl font-bold uppercase tracking-wide bg-white/10 hover:bg-white/20 transition-colors text-sm",children:"Ver Info"}),u.jsx("button",{onClick:()=>t({id:c.id,title:c.title,price:c.price,image:c.image_url||""}),disabled:h,className:`flex items-center gap-2 px-4 py-3 rounded-xl font-bold uppercase tracking-wide transition-all ${h?"bg-white/10 text-gray-400 cursor-not-allowed":"bg-white text-black hover:bg-neon-green hover:scale-105"}`,children:h?u.jsx(Gd,{size:18}):u.jsx(oi,{size:18})})]})]})]})]},c.id)})})})]})})}function sC(){const[t,e]=b.useState(null),[r,n]=b.useState([]),[s,i]=b.useState(!0);Bt(),b.useEffect(()=>{o()},[]);const o=async()=>{const{data:{user:l}}=await M.auth.getUser();e(l),l?a(l.id):i(!1)},a=async l=>{try{const{data:c,error:d}=await M.from("enrollments").select(`
          created_at,
          courses (
            id,
            title,
            description,
            image_url,
            slug
          )
        `).eq("user_id",l);if(d)throw d;const h=(c==null?void 0:c.map(f=>({id:f.courses.id,title:f.courses.title,description:f.courses.description,image_url:f.courses.image_url,slug:f.courses.slug,created_at:f.created_at})))||[];n(h)}catch(c){console.error("Error fetching courses:",c)}finally{i(!1)}};return t?s?u.jsx("div",{className:"min-h-screen pt-32 pb-20 flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-neon-green"})}):r.length===0?u.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-6",children:[u.jsx("div",{className:"w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-6 border border-white/10",children:u.jsx(yt,{className:"text-gray-500",size:40})}),u.jsx("h1",{className:"text-3xl md:text-4xl font-black text-white",children:"An no tienes cursos"}),u.jsx("p",{className:"text-gray-400 text-lg max-w-md mx-auto",children:"Explora nuestro catlogo y comienza tu transformacin hoy."}),u.jsxs(z,{to:"/cursos",className:"inline-flex items-center gap-2 bg-neon-green text-black font-black px-8 py-4 rounded-2xl text-lg hover:bg-[#2bff00] transition-all shadow-[0_0_20px_rgba(57,255,20,0.3)] active:scale-95",children:["Explorar Cursos",u.jsx(Et,{size:20,strokeWidth:3})]})]})}):u.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 bg-background",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"mb-12",children:[u.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-white mb-4",children:["Mis ",u.jsx("span",{className:"text-neon-green",children:"Cursos"})]}),u.jsxs("p",{className:"text-gray-400 text-lg",children:["Contina donde lo dejaste. Tienes ",r.length," ",r.length===1?"curso":"cursos","."]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(l=>u.jsxs(z,{to:`/curso/${l.slug||l.id}`,className:"group glass-panel rounded-2xl overflow-hidden border border-white/10 hover:border-neon-green/50 transition-all hover:scale-[1.02] active:scale-95",children:[l.image_url?u.jsx("img",{src:l.image_url,alt:l.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}):u.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-gray-800 to-black flex items-center justify-center",children:u.jsx(yt,{size:48,className:"text-gray-600"})}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"font-bold text-xl text-white mb-2 group-hover:text-neon-green transition-colors",children:l.title}),l.description&&u.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-4",children:l.description}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[u.jsxs("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:["Inscrito ",new Date(l.created_at).toLocaleDateString()]}),u.jsxs("div",{className:"flex items-center gap-2 text-neon-green font-bold text-sm",children:["Continuar",u.jsx(Et,{size:16,strokeWidth:3})]})]})]})]},l.id))})]})}):u.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 flex flex-col items-center justify-center text-center",children:u.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[u.jsx("div",{className:"w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-6 border border-white/10",children:u.jsx(Gr,{className:"text-gray-500",size:40})}),u.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-white tracking-tight",children:["Accede a tus ",u.jsx("span",{className:"text-neon-green",children:"Cursos"})]}),u.jsx("p",{className:"text-gray-400 text-lg",children:"Inicia sesin para ver todos los cursos que has adquirido y continuar tu aprendizaje."}),u.jsxs(z,{to:"/login",className:"inline-flex items-center gap-2 bg-neon-green text-black font-black px-8 py-4 rounded-2xl text-lg hover:bg-[#2bff00] transition-all shadow-[0_0_20px_rgba(57,255,20,0.3)] active:scale-95",children:["Iniciar Sesin",u.jsx(Et,{size:20,strokeWidth:3})]}),u.jsx("div",{className:"pt-8",children:u.jsxs("p",{className:"text-sm text-gray-500",children:["No tienes cuenta? ",u.jsx(z,{to:"/login",className:"text-neon-green hover:underline font-bold",children:"Regstrate aqu"})]})})]})})}function iC(){return u.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-neon-green/10 rounded-full blur-[100px] pointer-events-none"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-blue-500/10 rounded-full blur-[100px] pointer-events-none"}),u.jsxs("div",{className:"glass-panel p-12 max-w-2xl w-full text-center relative z-10 border border-white/10 rounded-[3rem]",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 bg-white/5 rounded-full mb-8 border border-white/10 shadow-[0_0_30px_rgba(255,255,255,0.05)]",children:u.jsx(u2,{size:64,className:"text-gray-400 animate-bounce"})}),u.jsx("h1",{className:"text-8xl font-black text-white mb-2 tracking-tighter",children:"404"}),u.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-500 bg-clip-text text-transparent mb-6",children:"Pgina No Encontrada"}),u.jsx("p",{className:"text-gray-400 text-lg mb-12 max-w-md mx-auto",children:"Parece que te has perdido en el ciberespacio. La pgina que buscas no existe o ha sido movida."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(z,{to:"/",className:"bg-white/10 text-white font-bold py-4 px-8 rounded-2xl hover:bg-white/20 transition-all flex items-center justify-center gap-2",children:[u.jsx($a,{size:20}),"Inicio"]}),u.jsxs(z,{to:"/cursos",className:"bg-neon-green text-black font-black py-4 px-8 rounded-2xl hover:bg-[#2bff00] hover:shadow-[0_0_20px_rgba(57,255,20,0.4)] transition-all flex items-center justify-center gap-2 transform hover:-translate-y-1 active:scale-95",children:["Ver Cursos",u.jsx(Et,{size:20,strokeWidth:3})]})]})]})]})}function oC(){const{id:t}=hd(),[e]=E_(),r=e.get("lesson"),n=Bt(),[s,i]=b.useState(null),[o,a]=b.useState([]),[l,c]=b.useState(null),[d,h]=b.useState(!0),[f,p]=b.useState(!1),[g,x]=b.useState(!0);b.useEffect(()=>{t&&w()},[t,r]);const w=async()=>{try{h(!0);const m=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t);let v,_;if(m){const A=await M.from("courses").select("id, title, description").eq("id",t).single();v=A.data,_=A.error}else{const A=await M.from("courses").select("id, title, description").eq("slug",t).single();v=A.data,_=A.error}if(_||!v)throw new Error("Course not found");const j=v;i(j);const{data:S,error:E}=await M.from("lessons").select("*").eq("course_id",j.id).order("order_index",{ascending:!0});if(E)throw E;a(S||[]);let k=S==null?void 0:S[0];if(r){const A=S==null?void 0:S.find(I=>I.id===r);A&&(k=A)}c(k||null),await y(j.id,k)}catch(m){console.error("Error loading course:",m)}finally{h(!1)}},y=async(m,v)=>{x(!0);try{const{data:{user:_}}=await M.auth.getUser();if(v!=null&&v.is_free){p(!0);return}if(!_){p(!1);return}const{data:j}=await M.from("enrollments").select("id").eq("user_id",_.id).eq("course_id",m).single();p(!!j)}catch(_){console.error("Access check error:",_),p(!1)}finally{x(!1)}};return d||g?u.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-neon-green"})}):f?u.jsxs("div",{className:"min-h-screen pt-24 pb-12 px-4 md:px-8 max-w-[1600px] mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs(z,{to:"/my-courses",className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[u.jsx(Kd,{size:20})," Volver a Mis Cursos"]}),(l==null?void 0:l.is_free)&&u.jsx("span",{className:"bg-neon-green/20 text-neon-green px-3 py-1 rounded-full text-xs font-bold border border-neon-green/50",children:"VISTA PREVIA GRATUITA"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsx("div",{className:"aspect-video bg-black rounded-2xl overflow-hidden shadow-2xl border border-white/10 relative group",children:l!=null&&l.video_url?u.jsx("video",{id:"main-video",src:l.video_url,controls:!0,className:"w-full h-full object-contain",poster:s!=null&&s.title?void 0:"https://via.placeholder.com/1280x720/000000/333333?text=Video+Player",children:"Tu navegador no soporta video HTML5."}):u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex-col gap-4 text-gray-500",children:[u.jsx(na,{size:64,className:"opacity-50"}),u.jsx("p",{children:"Selecciona una leccin para ver"})]})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:(l==null?void 0:l.title)||(s==null?void 0:s.title)}),u.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:(l==null?void 0:l.description)||(s==null?void 0:s.description)||"Sin descripcin disponible."})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"flex items-center gap-2 text-white font-bold mb-4",children:[u.jsx(Jd,{size:20})," Comentarios de la clase"]}),u.jsx("p",{className:"text-gray-500 text-sm",children:"La seccin de comentarios estar disponible pronto."})]})]}),u.jsx("div",{className:"lg:h-[calc(100vh-140px)] lg:sticky lg:top-24 flex flex-col",children:u.jsxs("div",{className:"glass-panel rounded-2xl p-6 h-full flex flex-col border border-white/10",children:[u.jsxs("div",{className:"mb-6 pb-6 border-b border-white/10",children:[u.jsx("h3",{className:"font-bold text-xl text-white mb-1",children:s==null?void 0:s.title}),u.jsxs("p",{className:"text-gray-400 text-xs uppercase tracking-wider font-bold",children:[o.length," Lecciones"]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-2 custom-scrollbar",children:o.map((m,v)=>{const _=(l==null?void 0:l.id)===m.id;return u.jsxs("button",{onClick:()=>{c(m),y(s.id,m)},className:`w-full text-left p-4 rounded-xl flex items-center gap-4 transition-all group ${_?"bg-neon-green/10 border-neon-green/50":"hover:bg-white/5 border-transparent"} border`,children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold shrink-0 ${_?"bg-neon-green text-black":"bg-white/10 text-gray-400"}`,children:_?u.jsx(na,{size:12,fill:"currentColor"}):v+1}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:`font-bold text-sm truncate ${_?"text-neon-green":"text-gray-300 group-hover:text-white"}`,children:m.title}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[m.duration&&u.jsxs("span",{children:[m.duration," min"]}),m.is_free&&u.jsxs("span",{className:"text-green-400 font-bold flex items-center gap-1",children:[u.jsx(Gd,{size:10})," FREE"]})]})]}),_?u.jsx("div",{className:"w-2 h-2 rounded-full bg-neon-green shadow-[0_0_10px_#39ff14]"}):m.is_free?null:u.jsx(Gr,{size:14,className:"text-gray-600"})]},m.id)})})]})})]})]}):u.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-neon-green/10 rounded-full blur-[100px] -z-10"}),u.jsxs("div",{className:"glass-panel p-10 md:p-14 rounded-3xl text-center max-w-lg w-full border border-white/10 shadow-2xl",children:[u.jsx("div",{className:"w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-8 border border-white/10 ring-1 ring-white/10",children:u.jsx(Gr,{size:40,className:"text-neon-green"})}),u.jsx("h2",{className:"text-4xl font-black italic mb-4 tracking-tight text-white",children:"ACCESO DENEGADO"}),u.jsxs("p",{className:"text-gray-400 mb-8 text-lg leading-relaxed",children:["Este contenido es exclusivo para estudiantes inscritos.",l?" Esta leccin no es gratuita.":" Debes adquirir el curso."]}),u.jsx("button",{onClick:()=>n("/checkout"),className:"block w-full bg-neon-green text-black font-black text-lg py-4 rounded-xl uppercase tracking-wider hover:bg-[#2bff00] hover:scale-105 transition-all shadow-lg shadow-neon-green/20 mb-4",children:"Desbloquear Acceso Completamente"}),u.jsx(z,{to:"/cursos",className:"block text-sm text-gray-500 hover:text-white transition-colors uppercase tracking-widest font-bold",children:"Volver al Catlogo"})]})]})}function aC(){const{id:t}=hd(),{addToCart:e}=ji(),[r,n]=b.useState(null),[s,i]=b.useState(!0);b.useEffect(()=>{t&&o()},[t]);const o=async()=>{try{i(!0);const a=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t);let l,c;if(a){const d=await M.from("courses").select("*").eq("id",t).single();l=d.data,c=d.error}else{const d=await M.from("courses").select("*").eq("slug",t).single();l=d.data,c=d.error}if(c)throw c;n(l)}catch(a){console.error("Error fetching course:",a)}finally{i(!1)}};return s?u.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-neon-green"})}):r?u.jsxs("div",{className:"min-h-screen bg-background pt-20 pb-12 relative overflow-hidden transition-colors duration-300",children:[u.jsx("div",{className:"fixed top-0 left-0 w-full h-[600px] bg-gradient-to-b from-gray-100 to-transparent dark:from-gray-900 dark:to-black -z-10 transition-colors"}),u.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-blue-500/10 dark:bg-neon-blue/10 rounded-full blur-[120px] -z-10"}),u.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[u.jsxs(z,{to:"/cursos",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-8 transition-colors font-medium",children:[u.jsx(Kd,{size:18})," Volver a Cursos"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center mb-16",children:[u.jsx(Ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative group",children:u.jsxs("div",{className:"aspect-[4/3] rounded-[2.5rem] overflow-hidden shadow-2xl dark:shadow-neon-green/5 ring-1 ring-black/5 dark:ring-white/10 relative",children:[r.image_url?u.jsx("img",{src:r.image_url,alt:r.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}):u.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:u.jsx(yt,{size:64,className:"text-gray-600"})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center border border-white/30 text-white shadow-lg cursor-pointer transform group-hover:scale-110 transition-all",children:u.jsx(yt,{size:40,fill:"currentColor",className:"opacity-90"})})})]})}),u.jsxs(Ue.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:.1},children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("span",{className:"px-4 py-1.5 rounded-full bg-black dark:bg-white text-white dark:text-black text-xs font-black uppercase tracking-widest",children:"SaaS Pro"}),u.jsxs("span",{className:"flex items-center gap-1 text-orange-500 font-bold text-sm",children:[u.jsx(_0,{size:14,fill:"currentColor"})," 4.9 (1.2k Alumnos)"]})]}),u.jsx("h1",{className:"text-4xl md:text-5xl font-black tracking-tight mb-6 text-foreground leading-tight",children:r.title}),u.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-8 line-clamp-4",children:r.description||"Domina las habilidades del futuro hoy. Un curso diseado para transformar tu carrera."}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"bg-card border border-border px-6 py-3 rounded-2xl shadow-sm",children:[u.jsx("span",{className:"block text-xs text-muted-foreground font-bold uppercase mb-1",children:"Precio"}),u.jsxs("div",{className:"flex items-baseline gap-1",children:[u.jsxs("span",{className:"text-3xl font-black text-foreground",children:["$",r.price]}),u.jsxs("span",{className:"text-sm text-muted-foreground line-through font-medium",children:["$",Math.round(r.price*1.5)]})]})]}),u.jsxs("button",{onClick:()=>e({id:r.id,title:r.title,price:r.price,image:r.image_url||""}),className:"flex-1 bg-foreground text-background dark:bg-neon-green dark:text-black font-bold h-full py-4 rounded-2xl shadow-xl hover:shadow-2xl hover:scale-[1.02] transition-all flex items-center justify-center gap-3 group",children:[u.jsx(oi,{size:20,className:"group-hover:animate-bounce"}),u.jsx("span",{className:"uppercase tracking-wide",children:"Comprar Ahora"})]})]})]})]}),u.jsxs(Ue.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"col-span-1 bg-purple-50 dark:bg-purple-900/10 p-6 rounded-[2rem] border border-purple-100 dark:border-purple-500/20 flex flex-col items-center justify-center text-center gap-3 hover:bg-purple-100 dark:hover:bg-purple-900/20 transition-colors",children:[u.jsx("div",{className:"w-12 h-12 bg-purple-500 text-white rounded-full flex items-center justify-center shadow-lg shadow-purple-500/30",children:u.jsx(p0,{size:20})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-black text-gray-900 dark:text-white",children:"45h"}),u.jsx("div",{className:"text-xs font-bold text-purple-600 dark:text-purple-400 uppercase",children:"Contenido"})]})]}),u.jsxs("div",{className:"col-span-1 bg-blue-50 dark:bg-blue-900/10 p-6 rounded-[2rem] border border-blue-100 dark:border-blue-500/20 flex flex-col items-center justify-center text-center gap-3 hover:bg-blue-100 dark:hover:bg-blue-900/20 transition-colors",children:[u.jsx("div",{className:"w-12 h-12 bg-blue-500 text-white rounded-full flex items-center justify-center shadow-lg shadow-blue-500/30",children:u.jsx(Ma,{size:20})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-black text-gray-900 dark:text-white",children:"12+"}),u.jsx("div",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase",children:"Lecciones"})]})]}),u.jsxs("div",{className:"col-span-2 bg-black dark:bg-white p-6 rounded-[2rem] flex items-center justify-between px-8 text-white dark:text-black group cursor-pointer shadow-xl",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:"text-xs font-bold opacity-60 uppercase tracking-widest",children:"Garanta"}),u.jsx("span",{className:"text-2xl font-black",children:"Certificado Pro"})]}),u.jsx(r2,{size:40,className:"text-neon-green dark:text-black group-hover:rotate-12 transition-transform"})]}),u.jsxs("div",{className:"col-span-2 md:col-span-4 bg-card border border-border p-8 rounded-[2rem] shadow-sm",children:[u.jsxs("h3",{className:"font-bold text-lg mb-6 flex items-center gap-2",children:[u.jsx(n2,{className:"text-green-500"})," Lo que aprenders"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["Mentalidad de Alto Rendimiento","Estrategias de Venta High-Ticket","Biohacking y Energa","Comunidad Exclusiva 24/7","Herramientas de IA para escalar","Marca Personal Magntica"].map((a,l)=>u.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-secondary transition-colors",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500/10 flex items-center justify-center text-green-500 flex-shrink-0",children:u.jsx(i2,{size:12})}),u.jsx("span",{className:"text-sm font-medium text-foreground",children:a})]},l))})]})]})]})]}):u.jsxs("div",{className:"min-h-screen pt-20 flex flex-col items-center justify-center text-center px-4",children:[u.jsx("h1",{className:"text-3xl font-black mb-4",children:"Curso no encontrado"}),u.jsx(z,{to:"/cursos",className:"text-neon-green hover:underline",children:"Volver a la tienda"})]})}function lC(){const{cart:t,total:e,clearCart:r}=ji(),n=Bt(),[s,i]=b.useState(null),[o,a]=b.useState(!1),[l,c]=b.useState(!1),[d,h]=b.useState(!1),[f,p]=b.useState("register"),[g,x]=b.useState(""),[w,y]=b.useState("");b.useEffect(()=>{m()},[]);const m=async()=>{const{data:{user:_}}=await M.auth.getUser();i(_),!_&&t.length>0&&c(!0)},v=async _=>{_.preventDefault(),h(!0);try{if(f==="register"){const{data:j,error:S}=await M.auth.signUp({email:g,password:w});if(S)throw S;j.user&&(i(j.user),c(!1))}else{const{data:j,error:S}=await M.auth.signInWithPassword({email:g,password:w});if(S)throw S;j.user&&(i(j.user),c(!1))}}catch(j){alert(j.message)}finally{h(!1)}};return t.length===0?u.jsxs("div",{className:"min-h-screen pt-32 px-4 flex flex-col items-center justify-center text-center bg-background transition-colors duration-300",children:[u.jsx("div",{className:"w-24 h-24 bg-secondary rounded-full flex items-center justify-center mb-6",children:u.jsx(o2,{className:"text-muted-foreground",size:40})}),u.jsx("h2",{className:"text-3xl font-black tracking-tight mb-2 text-foreground",children:"Tu carrito est vaco"}),u.jsx("p",{className:"text-muted-foreground mb-8",children:"Parece que an no has elegido tu camino."}),u.jsx(z,{to:"/cursos",className:"bg-foreground text-background font-bold px-8 py-4 rounded-full hover:scale-105 transition-transform",children:"EXPLORAR CURSOS"})]}):u.jsxs("div",{className:"min-h-screen pt-24 pb-12 px-4 bg-background transition-colors duration-300",children:[u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-black tracking-tight mb-1 text-foreground",children:"Finalizar Compra"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Ests a un paso de acceder al contenido."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-start",children:[u.jsx("div",{className:"md:col-span-2 space-y-4",children:u.jsxs("div",{className:"bg-card border border-border rounded-2xl p-5 shadow-sm",children:[u.jsx("h3",{className:"font-bold text-xs uppercase tracking-wider text-muted-foreground mb-4",children:"Tu Pedido"}),u.jsx("div",{className:"space-y-4",children:t.map(_=>u.jsxs("div",{className:"flex gap-3 items-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-xl bg-secondary overflow-hidden relative flex-shrink-0",children:u.jsx("img",{src:_.image,alt:_.title,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-bold text-base text-foreground leading-tight",children:_.title}),u.jsx("span",{className:"text-xs font-bold bg-neon-green/10 text-neon-green px-2 py-0.5 rounded mt-1 inline-block",children:"Pro License"})]}),u.jsxs("div",{className:"text-lg font-bold text-foreground",children:["$",_.price]})]},_.id))})]})}),u.jsx("div",{className:"md:col-span-1",children:u.jsxs("div",{className:"bg-foreground text-background dark:bg-card dark:text-foreground dark:border dark:border-border p-6 rounded-2xl sticky top-24 shadow-2xl relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-neon-green/20 rounded-full blur-[50px] pointer-events-none"}),u.jsx("h3",{className:"font-bold text-xl mb-4 relative z-10",children:"Resumen"}),u.jsxs("div",{className:"space-y-3 mb-6 relative z-10 opacity-90",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Subtotal"}),u.jsxs("span",{className:"font-bold",children:["$",e]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Impuestos"}),u.jsx("span",{className:"font-bold text-green-500",children:"$0.00"})]}),u.jsx("div",{className:"h-px bg-current opacity-10 my-3"}),u.jsxs("div",{className:"flex justify-between text-lg font-black",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{children:["$",e]})]})]}),u.jsxs("button",{onClick:()=>a(!0),className:"w-full bg-background text-foreground dark:bg-neon-green dark:text-black font-black py-4 rounded-xl text-base hover:scale-[1.02] active:scale-95 transition-all shadow-lg relative z-10 flex items-center justify-center gap-2",children:["Pagar Ahora ",u.jsx(Et,{size:18,strokeWidth:3})]}),u.jsx("p",{className:"text-center text-xs mt-4 opacity-60",children:"Acceso inmediato tras el pago."})]})})]})]}),u.jsx(Vn,{children:o&&u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[u.jsx(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-md",onClick:()=>a(!1)}),u.jsxs(Ue.div,{initial:{opacity:0,scale:.95,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:40},className:"bg-card w-full max-w-md p-8 rounded-[2.5rem] shadow-2xl border border-border relative z-[101]",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-black text-foreground",children:"Detalles de Pago"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Procesado de forma segura."})]}),u.jsx("button",{onClick:()=>a(!1),className:"bg-secondary p-2 rounded-full text-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",children:""})]}),u.jsxs("form",{className:"space-y-5",onSubmit:_=>{_.preventDefault(),h(!0),setTimeout(()=>{h(!1),r(),a(!1),n("/my-courses")},2e3)},children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-secondary/50 p-4 rounded-2xl flex items-center gap-4 cursor-pointer border border-primary/20",children:[u.jsx("div",{className:"w-5 h-5 rounded-full border-[5px] border-primary"}),u.jsx("span",{className:"font-bold text-foreground",children:"Tarjeta de Crdito"}),u.jsxs("div",{className:"ml-auto flex gap-2",children:[u.jsx("div",{className:"w-8 h-5 bg-foreground/20 rounded"}),u.jsx("div",{className:"w-8 h-5 bg-foreground/20 rounded"})]})]}),u.jsxs("div",{className:"bg-background border border-border p-4 rounded-2xl flex items-center gap-4 cursor-pointer opacity-60 hover:opacity-100",children:[u.jsx("div",{className:"w-5 h-5 rounded-full border border-muted-foreground"}),u.jsx("span",{className:"font-bold text-foreground",children:"Payoneer"})]})]}),u.jsxs("div",{className:"space-y-3 pt-2",children:[u.jsx("input",{type:"text",placeholder:"Nmero de Tarjeta",className:"w-full bg-secondary border-transparent focus:bg-background focus:border-ring rounded-xl px-4 py-4 outline-none font-mono text-foreground placeholder:text-muted-foreground transition-all",required:!0}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("input",{type:"text",placeholder:"MM/YY",className:"w-full bg-secondary border-transparent focus:bg-background focus:border-ring rounded-xl px-4 py-4 outline-none font-mono text-center text-foreground placeholder:text-muted-foreground transition-all",required:!0}),u.jsx("input",{type:"text",placeholder:"CVC",className:"w-full bg-secondary border-transparent focus:bg-background focus:border-ring rounded-xl px-4 py-4 outline-none font-mono text-center text-foreground placeholder:text-muted-foreground transition-all",required:!0})]}),u.jsx("input",{type:"text",placeholder:"Nombre del Titular",className:"w-full bg-secondary border-transparent focus:bg-background focus:border-ring rounded-xl px-4 py-4 outline-none text-foreground placeholder:text-muted-foreground transition-all uppercase",required:!0})]}),u.jsx("button",{type:"submit",disabled:d,className:"w-full bg-primary text-primary-foreground font-black text-lg py-5 rounded-2xl hover:brightness-110 active:scale-95 transition-all mt-4 flex items-center justify-center gap-2",children:d?"Procesando...":`Pagar $${e}`})]})]})]})}),u.jsx(Vn,{children:l&&u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[u.jsx(Ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-md",onClick:()=>n("/")}),u.jsxs(Ue.div,{initial:{opacity:0,scale:.95,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:40},className:"bg-card w-full max-w-md p-8 rounded-[2.5rem] shadow-2xl border border-border relative z-[101]",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-black text-foreground",children:"Inicia Sesin"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Para continuar con tu compra"})]}),u.jsx("button",{onClick:()=>n("/"),className:"bg-secondary p-2 rounded-full text-foreground hover:bg-destructive/10 hover:text-destructive transition-colors",children:u.jsx(_i,{size:20})})]}),u.jsxs("div",{className:"grid grid-cols-2 bg-secondary p-1 rounded-2xl mb-8",children:[u.jsx("button",{onClick:()=>p("login"),className:`py-3 rounded-xl text-sm font-bold uppercase tracking-wider transition-all ${f==="login"?"bg-background text-foreground shadow-sm":"text-muted-foreground"}`,children:"Entrar"}),u.jsx("button",{onClick:()=>p("register"),className:`py-3 rounded-xl text-sm font-bold uppercase tracking-wider transition-all ${f==="register"?"bg-background text-foreground shadow-sm":"text-muted-foreground"}`,children:"Crear Cuenta"})]}),u.jsxs("form",{onSubmit:v,className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(m2,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:20}),u.jsx("input",{type:"email",placeholder:"Email",value:g,onChange:_=>x(_.target.value),className:"w-full bg-secondary border-transparent focus:bg-background focus:border-ring rounded-2xl pl-12 pr-4 py-4 outline-none text-foreground placeholder:text-muted-foreground transition-all",required:!0})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:20}),u.jsx("input",{type:"password",placeholder:"Contrasea",value:w,onChange:_=>y(_.target.value),className:"w-full bg-secondary border-transparent focus:bg-background focus:border-ring rounded-2xl pl-12 pr-4 py-4 outline-none text-foreground placeholder:text-muted-foreground transition-all",required:!0,minLength:6})]}),u.jsxs("button",{type:"submit",disabled:d,className:"w-full bg-neon-green text-black font-black text-lg py-4 rounded-2xl hover:bg-[#2bff00] transition-all flex items-center justify-center gap-2",children:[d?"Procesando...":f==="login"?"Iniciar Sesin":"Crear Cuenta",u.jsx(Et,{size:20,strokeWidth:3})]})]})]})]})})]})}function uC(){const[t,e]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(!1),[o,a]=b.useState("login"),l=Bt(),c=async d=>{d.preventDefault(),i(!0);try{if(o==="register"){const{data:h,error:f}=await M.auth.signUp({email:t,password:r});if(f)throw f;h.user&&l("/my-courses")}else{const{error:h}=await M.auth.signInWithPassword({email:t,password:r});if(h)throw h;l("/my-courses")}}catch(h){alert(h.message)}finally{i(!1)}};return u.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4 relative overflow-hidden transition-colors duration-300",children:[u.jsx("div",{className:"absolute top-0 inset-x-0 h-px bg-gradient-to-r from-transparent via-foreground/20 to-transparent"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-neon-green/5 rounded-full blur-[120px] pointer-events-none"}),u.jsxs("div",{className:"w-full max-w-md bg-card border border-border p-8 rounded-[2.5rem] shadow-2xl relative z-10",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("h1",{className:"text-3xl font-black italic tracking-tighter mb-2 text-foreground",children:["GABO ",u.jsx("span",{className:"text-neon-green",children:"ID"})]}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Acceso a la plataforma Mastermind"})]}),u.jsxs("div",{className:"grid grid-cols-2 bg-secondary p-1 rounded-2xl mb-8 relative",children:[u.jsx("button",{onClick:()=>a("login"),className:`py-3 rounded-xl text-sm font-bold uppercase tracking-wider transition-all z-10 ${o==="login"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Entrar"}),u.jsx("button",{onClick:()=>a("register"),className:`py-3 rounded-xl text-sm font-bold uppercase tracking-wider transition-all z-10 ${o==="register"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Crear Cuenta"})]}),u.jsxs("form",{onSubmit:c,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(qn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:20}),u.jsx("input",{type:"email",placeholder:"Correo Electrnico",value:t,onChange:d=>e(d.target.value),className:"w-full bg-secondary border-transparent focus:bg-background focus:border-ring rounded-2xl pl-12 pr-4 py-4 outline-none text-foreground placeholder:text-muted-foreground transition-all",required:!0})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:20}),u.jsx("input",{type:"password",placeholder:"Contrasea",value:r,onChange:d=>n(d.target.value),className:"w-full bg-secondary border-transparent focus:bg-background focus:border-ring rounded-2xl pl-12 pr-4 py-4 outline-none text-foreground placeholder:text-muted-foreground transition-all",required:!0,minLength:6})]})]}),u.jsxs("button",{type:"submit",disabled:s,className:"w-full bg-foreground text-background dark:bg-neon-green dark:text-black font-black text-lg py-4 rounded-2xl hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-2 mt-6 uppercase tracking-wider",children:[s?u.jsx(f2,{className:"animate-spin"}):o==="login"?"Iniciar Sesin":"Registrarse Gratis",!s&&u.jsx(Et,{size:20,strokeWidth:3})]})]}),u.jsx("div",{className:"mt-8 text-center",children:u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Al continuar, aceptas nuestros ",u.jsx("a",{href:"#",className:"underline hover:text-foreground",children:"Trminos"})," y ",u.jsx("a",{href:"#",className:"underline hover:text-foreground",children:"Privacidad"}),"."]})})]})]})}function cC(){const[t,e]=b.useState({totalUsers:0,totalCourses:0,totalRevenue:0,pageViews:0,cartAbandoned:0}),[r,n]=b.useState(!0);b.useEffect(()=>{s()},[]);const s=async()=>{try{const{count:o}=await M.from("profiles").select("*",{count:"exact",head:!0}),{count:a}=await M.from("courses").select("*",{count:"exact",head:!0}),{count:l}=await M.from("enrollments").select("*",{count:"exact",head:!0}),{count:c}=await M.from("analytics").select("*",{count:"exact",head:!0}).eq("event_type","page_view"),{count:d}=await M.from("analytics").select("*",{count:"exact",head:!0}).eq("event_type","add_to_cart");e({totalUsers:o||0,totalCourses:a||0,totalRevenue:(l||0)*99,pageViews:c||0,cartAbandoned:d||0})}catch(o){console.error("Error fetching stats:",o)}finally{n(!1)}},i=[{icon:Qd,label:"Total Usuarios",value:t.totalUsers,color:"text-blue-500"},{icon:Ma,label:"Cursos Creados",value:t.totalCourses,color:"text-green-500"},{icon:m0,label:"Ingresos ($)",value:`$${t.totalRevenue.toLocaleString()}`,color:"text-yellow-500"},{icon:l2,label:"Visitas Totales",value:t.pageViews,color:"text-purple-500"},{icon:oi,label:"Carritos Activos",value:t.cartAbandoned,color:"text-orange-500"},{icon:E2,label:"Tasa Conversin",value:t.totalCourses>0?`${(t.totalUsers/t.pageViews*100||0).toFixed(1)}%`:"0%",color:"text-pink-500"}];return r?u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-neon-green"})}):u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-black italic tracking-tighter",children:["DASHBOARD ",u.jsx("span",{className:"text-neon-green",children:"ADMIN"})]}),u.jsx("p",{className:"text-gray-500 mt-2",children:"Mtricas en tiempo real desde Supabase"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((o,a)=>u.jsx("div",{className:"glass-panel p-6 rounded-2xl border border-white/10 hover:border-neon-green/30 transition-all group",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 uppercase font-bold tracking-wider mb-2",children:o.label}),u.jsx("p",{className:"text-3xl font-black",children:o.value})]}),u.jsx(o.icon,{className:`${o.color} group-hover:scale-110 transition-transform`,size:28})]})},a))}),u.jsxs("div",{className:"glass-panel p-6 rounded-2xl border border-white/10",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Actividad Reciente"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Conectado a Supabase. Los datos se actualizan en tiempo real."})]})]})}function dC(){return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("h2",{className:"text-3xl font-black italic text-white",children:["ANALYTICS ",u.jsx("span",{className:"text-neon-green",children:"PRO"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"glass p-6 rounded-2xl border-t border-neon-green/50",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:"p-3 bg-neon-green/10 rounded-lg text-neon-green",children:u.jsx(Qd,{size:24})}),u.jsx("span",{className:"text-xs text-green-400 font-bold bg-green-400/10 px-2 py-1 rounded",children:"+12%"})]}),u.jsx("h3",{className:"text-gray-400 text-sm uppercase tracking-wider",children:"Visitantes nicos"}),u.jsx("p",{className:"text-3xl font-bold mt-1",children:"24,593"})]}),u.jsxs("div",{className:"glass p-6 rounded-2xl border-t border-blue-500/50",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg text-blue-500",children:u.jsx(oi,{size:24})}),u.jsx("span",{className:"text-xs text-red-400 font-bold bg-red-400/10 px-2 py-1 rounded",children:"-2%"})]}),u.jsx("h3",{className:"text-gray-400 text-sm uppercase tracking-wider",children:"Carritos Abandonados"}),u.jsx("p",{className:"text-3xl font-bold mt-1",children:"142"})]}),u.jsxs("div",{className:"glass p-6 rounded-2xl border-t border-purple-500/50",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:"p-3 bg-purple-500/10 rounded-lg text-purple-500",children:u.jsx(m0,{size:24})}),u.jsx("span",{className:"text-xs text-green-400 font-bold bg-green-400/10 px-2 py-1 rounded",children:"+25%"})]}),u.jsx("h3",{className:"text-gray-400 text-sm uppercase tracking-wider",children:"Ingresos Mes"}),u.jsx("p",{className:"text-3xl font-bold mt-1",children:"$45,231"})]}),u.jsxs("div",{className:"glass p-6 rounded-2xl border-t border-yellow-500/50",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("div",{className:"p-3 bg-yellow-500/10 rounded-lg text-yellow-500",children:u.jsx(j2,{size:24})}),u.jsx("span",{className:"text-xs text-gray-400 font-bold bg-gray-400/10 px-2 py-1 rounded",children:"58%"})]}),u.jsx("h3",{className:"text-gray-400 text-sm uppercase tracking-wider",children:"Trfico Mvil"}),u.jsx("p",{className:"text-3xl font-bold mt-1",children:"14,201"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"glass p-8 rounded-2xl h-80 flex flex-col justify-between",children:[u.jsxs("h3",{className:"font-bold text-xl mb-4 flex items-center gap-2",children:[u.jsx(t2,{size:20,className:"text-neon-green"})," Actividad en Tiempo Real"]}),u.jsx("div",{className:"flex-1 flex items-end justify-between gap-2 px-4",children:[35,60,45,75,50,80,70,90,65,55,85,95].map((t,e)=>u.jsx("div",{className:"w-full bg-neon-green/20 hover:bg-neon-green transition-all rounded-t-sm relative group",style:{height:`${t}%`},children:u.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:t*10})},e))}),u.jsxs("div",{className:"flex justify-between mt-4 text-xs text-gray-500",children:[u.jsx("span",{children:"00:00"}),u.jsx("span",{children:"06:00"}),u.jsx("span",{children:"12:00"}),u.jsx("span",{children:"18:00"}),u.jsx("span",{children:"23:59"})]})]}),u.jsxs("div",{className:"glass p-8 rounded-2xl h-80",children:[u.jsx("h3",{className:"font-bold text-xl mb-6",children:"Dispositivos"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{children:"Mobile (iOS)"}),u.jsx("span",{className:"text-neon-green",children:"65%"})]}),u.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full w-[65%] bg-neon-green"})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{children:"Mobile (Android)"}),u.jsx("span",{className:"text-blue-400",children:"20%"})]}),u.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full w-[20%] bg-blue-400"})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{children:"Desktop"}),u.jsx("span",{className:"text-purple-400",children:"15%"})]}),u.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full w-[15%] bg-purple-400"})})]})]})]})]})]})}function hC(){const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState(!1),[o,a]=b.useState(null),[l,c]=b.useState({title:"",description:"",price:0,image_url:""});b.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:g,error:x}=await M.from("courses").select("*").order("created_at",{ascending:!1});if(x)throw x;e(g||[])}catch(g){console.error("Error fetching courses:",g)}finally{n(!1)}},h=async(g,x)=>{var y;const w=(y=g.target.files)==null?void 0:y[0];if(w){i(!0);try{const m=w.name.split(".").pop(),_=`course-images/${`course-${Date.now()}-${Math.random().toString(36).substring(7)}.${m}`}`,{data:j,error:S}=await M.storage.from("course-content").upload(_,w,{cacheControl:"3600",upsert:!1});if(S)throw console.error("Upload error:",S),S;const{data:E}=M.storage.from("course-content").getPublicUrl(_);if(x){const{error:k}=await M.from("courses").update({image_url:E.publicUrl}).eq("id",x);if(k)throw k;await d()}else c({...l,image_url:E.publicUrl});alert("Imagen subida exitosamente")}catch(m){console.error("Error uploading:",m),alert(`Error al subir imagen: ${m.message||"Error desconocido"}`)}finally{i(!1)}}},f=async()=>{try{if(o){const{error:g}=await M.from("courses").update(l).eq("id",o);if(g)throw g}else{const{error:g}=await M.from("courses").insert([l]);if(g)throw g}c({title:"",description:"",price:0,image_url:""}),a(null),await d()}catch(g){console.error("Error saving course:",g),alert("Error al guardar curso")}},p=async g=>{if(confirm("Eliminar este curso?"))try{const{error:x}=await M.from("courses").delete().eq("id",g);if(x)throw x;e(t.filter(w=>w.id!==g))}catch(x){console.error("Error deleting:",x),alert("Error al eliminar")}};return r?u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-neon-green"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h1",{className:"text-3xl font-black italic",children:["CURSOS ",u.jsxs("span",{className:"text-neon-green",children:["(",t.length,")"]})]}),u.jsxs("button",{onClick:()=>a("new"),className:"bg-neon-green text-black px-4 py-2 rounded-xl font-bold flex items-center gap-2",children:[u.jsx(y0,{size:18})," Nuevo Curso"]})]}),(o==="new"||o)&&u.jsxs("div",{className:"glass-panel p-6 rounded-2xl border border-white/10 space-y-4",children:[u.jsx("h3",{className:"text-xl font-bold",children:o==="new"?"Nuevo Curso":"Editar Curso"}),u.jsx("input",{type:"text",placeholder:"Ttulo del curso",value:l.title,onChange:g=>c({...l,title:g.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 outline-none focus:border-neon-green"}),u.jsx("textarea",{placeholder:"Descripcin del curso",value:l.description,onChange:g=>c({...l,description:g.target.value}),rows:4,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 outline-none focus:border-neon-green"}),u.jsx("input",{type:"number",placeholder:"Precio ($)",value:l.price,onChange:g=>c({...l,price:Number(g.target.value)}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 outline-none focus:border-neon-green"}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 px-4 py-3 bg-white/5 border border-white/10 rounded-xl cursor-pointer hover:border-neon-green transition-colors",children:[u.jsx(Wn,{size:20}),u.jsx("span",{children:s?"Subiendo...":"Subir Imagen"}),u.jsx("input",{type:"file",accept:"image/*",onChange:g=>h(g),className:"hidden",disabled:s})]}),l.image_url&&u.jsx("img",{src:l.image_url,alt:"Preview",className:"mt-4 w-32 h-32 object-cover rounded-xl"})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{onClick:f,className:"bg-neon-green text-black px-6 py-2 rounded-xl font-bold flex items-center gap-2",children:[u.jsx(wi,{size:18})," Guardar"]}),u.jsx("button",{onClick:()=>{a(null),c({title:"",description:"",price:0,image_url:""})},className:"bg-white/10 px-6 py-2 rounded-xl font-bold",children:"Cancelar"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(g=>u.jsxs("div",{className:"glass-panel rounded-2xl overflow-hidden border border-white/10 group",children:[u.jsxs("div",{className:"relative",children:[g.image_url?u.jsx("img",{src:g.image_url,alt:g.title,className:"w-full h-48 object-cover"}):u.jsx("div",{className:"w-full h-48 bg-white/5 flex items-center justify-center",children:u.jsx(g0,{className:"text-gray-600",size:48})}),u.jsxs("label",{className:"absolute top-2 right-2 bg-black/80 p-2 rounded-full cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx(Wn,{size:16}),u.jsx("input",{type:"file",accept:"image/*",onChange:x=>h(x,g.id),className:"hidden"})]})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:"font-bold text-lg mb-2 text-white",children:g.title}),u.jsx("p",{className:"text-sm text-gray-400 mb-4 line-clamp-2",children:g.description}),u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("span",{className:"text-neon-green font-black text-xl",children:["$",g.price]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>{a(g.id),c({title:g.title,description:g.description||"",price:g.price,image_url:g.image_url||""})},className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-white",children:u.jsx(x2,{size:16})}),u.jsx("button",{onClick:()=>p(g.id),className:"p-2 hover:bg-red-500/20 text-red-500 rounded-lg transition-colors",children:u.jsx(bi,{size:16})})]})]}),u.jsxs(z,{to:`/admin/courses/${g.id}/lessons`,className:"w-full bg-blue-500/20 text-blue-400 px-4 py-2 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-blue-500/30 transition-colors",children:[u.jsx(yt,{size:16}),"Gestionar Lecciones"]})]})]},g.id))})]})}function fC(){const{courseId:t}=hd(),[e,r]=b.useState(""),[n,s]=b.useState([]),[i,o]=b.useState(!0),[a,l]=b.useState(!1),[c,d]=b.useState(null),[h,f]=b.useState({title:"",description:"",video_url:"",duration:0,is_free:!1});b.useEffect(()=>{t&&(p(),g())},[t]);const p=async()=>{const{data:m}=await M.from("courses").select("title").eq("id",t).single();m&&r(m.title)},g=async()=>{try{const{data:m,error:v}=await M.from("lessons").select("*").eq("course_id",t).order("order_index",{ascending:!0});if(v)throw v;s(m||[])}catch(m){console.error("Error fetching lessons:",m)}finally{o(!1)}},x=async m=>{var _;const v=(_=m.target.files)==null?void 0:_[0];if(v){l(!0);try{const j=v.name.split(".").pop(),S=`lesson-${Date.now()}-${Math.random().toString(36).substring(7)}.${j}`,E=h.is_free?"public-lessons":"course-lessons",k=`${E}/${S}`,{error:A}=await M.storage.from(E).upload(k,v,{cacheControl:"3600",upsert:!1});if(A)throw A;const{data:I}=M.storage.from(E).getPublicUrl(k);f({...h,video_url:I.publicUrl}),alert("Video subido exitosamente")}catch(j){console.error("Error uploading:",j),alert(`Error al subir video: ${j.message||"Error desconocido"}`)}finally{l(!1)}}},w=async()=>{if(!h.title.trim()){alert("El ttulo es obligatorio");return}try{if(c&&c!=="new"){const{error:m}=await M.from("lessons").update(h).eq("id",c);if(m)throw m}else{const{error:m}=await M.from("lessons").insert([{...h,course_id:t,order_index:n.length}]);if(m)throw m}f({title:"",description:"",video_url:"",duration:0,is_free:!1}),d(null),await g(),alert("Leccin guardada")}catch(m){console.error("Error saving lesson:",m),alert(`Error: ${m.message}`)}},y=async m=>{if(confirm("Eliminar esta leccin?"))try{const{error:v}=await M.from("lessons").delete().eq("id",m);if(v)throw v;s(n.filter(_=>_.id!==m))}catch(v){console.error("Error deleting:",v),alert("Error al eliminar")}};return i?u.jsx("div",{className:"flex items-center justify-center h-screen bg-black",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-neon-green"})}):u.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx(z,{to:"/admin/courses",className:"p-2 hover:bg-white/10 rounded-lg",children:u.jsx(Kd,{size:24})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-black",children:["Gestionar Lecciones: ",u.jsx("span",{className:"text-neon-orange",children:e})]}),u.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[n.length," lecciones creadas"]})]}),u.jsxs("button",{onClick:()=>d("new"),className:"ml-auto bg-neon-green text-black px-6 py-3 rounded-xl font-black flex items-center gap-2",children:[u.jsx(y0,{size:20})," Nueva Leccin"]})]}),c&&u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-8 mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-white",children:c==="new"?"Nueva Leccin":"Editar Leccin"}),u.jsx("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-white",children:u.jsx(_i,{size:24})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("input",{type:"text",placeholder:"Ttulo de la leccin *",value:h.title,onChange:m=>f({...h,title:m.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-4 text-white outline-none focus:border-neon-green text-lg"}),u.jsx("textarea",{placeholder:"Descripcin (opcional)",value:h.description,onChange:m=>f({...h,description:m.target.value}),rows:4,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-4 text-white outline-none focus:border-neon-green"}),u.jsx("input",{type:"number",placeholder:"Duracin (minutos)",value:h.duration||"",onChange:m=>f({...h,duration:parseInt(m.target.value)||0}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-4 text-white outline-none focus:border-neon-green"}),u.jsxs("label",{className:"flex items-center gap-3 px-4 py-4 bg-white/5 border border-white/10 rounded-xl cursor-pointer hover:bg-white/10 transition-colors",children:[u.jsx("input",{type:"checkbox",checked:h.is_free,onChange:m=>f({...h,is_free:m.target.checked}),className:"w-6 h-6"}),u.jsxs("div",{children:[u.jsx("span",{className:"text-white font-bold",children:"Leccin Gratuita (Preview)"}),u.jsx("p",{className:`text-xs text\r
\r
-gray-400 mt-1`,children:"Cualquier persona podr ver esta leccin"})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("label",{className:"flex items-center gap-2 px-6 py-4 bg-blue-500/20 border-2 border-blue-500/50 rounded-xl cursor-pointer hover:bg-blue-500/30 transition-colors justify-center",children:[u.jsx(Wn,{size:20,className:"text-blue-400"}),u.jsx("span",{className:"text-white font-bold",children:a?"Subiendo video...":h.is_free?"Subir Video Pblico":"Subir Video Privado"}),u.jsx("input",{type:"file",accept:"video/*",onChange:x,className:"hidden",disabled:a})]}),u.jsx("div",{className:"text-center text-sm text-gray-500",children:"O"}),u.jsx("input",{type:"text",placeholder:"Pega URL del video (YouTube, Vimeo, etc)",value:h.video_url,onChange:m=>f({...h,video_url:m.target.value}),className:"w-full bg-white/5 border border-blue-400/30 rounded-xl px-4 py-4 text-white outline-none focus:border-blue-400 text-sm"}),h.video_url&&u.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/30 rounded-xl",children:[u.jsx("p",{className:"text-sm text-green-400 flex items-center gap-2",children:" Video configurado"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:h.video_url})]})]})]}),u.jsxs("div",{className:"flex gap-4 mt-8",children:[u.jsxs("button",{onClick:w,className:"bg-neon-green text-black px-8 py-4 rounded-xl font-black flex items-center gap-2 text-lg hover:bg-[#2bff00]",children:[u.jsx(wi,{size:20})," Guardar Leccin"]}),u.jsx("button",{onClick:()=>{d(null),f({title:"",description:"",video_url:"",duration:0,is_free:!1})},className:"bg-white/10 text-white px-8 py-4 rounded-xl font-bold",children:"Cancelar"})]})]}),u.jsx("div",{className:"space-y-4",children:n.length===0?u.jsxs("div",{className:"text-center py-16 bg-white/5 rounded-2xl border border-white/10",children:[u.jsx(yt,{className:"mx-auto text-gray-600 mb-4",size:64}),u.jsx("p",{className:"text-gray-500 text-lg",children:"No hay lecciones an"}),u.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Crea la primera leccin para este curso"})]}):n.map((m,v)=>u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6 flex items-center gap-4 hover:bg-white/10 transition-colors group",children:[u.jsx(c2,{className:"text-gray-600 cursor-move",size:24}),u.jsx("div",{className:"w-12 h-12 bg-neon-green/20 rounded-full flex items-center justify-center text-neon-green font-black text-lg",children:v+1}),u.jsx(yt,{className:"text-blue-400",size:28}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h5",{className:"font-bold text-white text-lg",children:m.title}),u.jsxs("div",{className:"flex gap-4 text-sm text-gray-400 mt-1",children:[m.duration&&u.jsxs("span",{children:[" ",m.duration," min"]}),m.is_free&&u.jsx("span",{className:"text-green-400 font-bold",children:" GRATIS"}),m.video_url&&u.jsx("span",{className:"text-blue-400",children:" Video configurado"})]})]}),u.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("button",{onClick:()=>{d(m.id),f({title:m.title,description:m.description||"",video_url:m.video_url||"",duration:m.duration||0,is_free:m.is_free})},className:"text-blue-400 hover:text-blue-300 p-3 hover:bg-blue-500/10 rounded-lg",children:" Editar"}),u.jsx("button",{onClick:()=>y(m.id),className:"text-red-500 hover:text-red-400 p-3 hover:bg-red-500/10 rounded-lg",children:u.jsx(bi,{size:20})})]})]},m.id))})]})})}function pC(){const[t,e]=b.useState("Gabo Mastermind"),[r,n]=b.useState("****************"),[s,i]=b.useState("****************");return u.jsxs("div",{className:"p-8 max-w-4xl mx-auto font-sans",children:[u.jsxs("h1",{className:"text-3xl font-black italic mb-8",children:["CONFIGURACIN ",u.jsx("span",{className:"text-neon-orange",children:"GLOBAL"})]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-white/10",children:[u.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-8 bg-neon-green rounded-full"}),"Identidad de Marca & PWA"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-2",children:"Nombre de la App"}),u.jsx("input",{type:"text",value:t,onChange:o=>e(o.target.value),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-neon-green outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-2",children:"Icono de la App (512x512)"}),u.jsxs("div",{className:"border-2 border-dashed border-white/20 rounded-xl p-8 flex flex-col items-center justify-center text-center hover:border-neon-green/50 transition-colors cursor-pointer bg-black/30",children:[u.jsx(Wn,{className:"text-gray-400 mb-2",size:32}),u.jsx("span",{className:"text-sm font-bold text-gray-300",children:"Subir Icono PNG"}),u.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Para PWA e Instalacin"})]})]})]}),u.jsx("div",{className:"flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-24 h-24 bg-neon-green rounded-2xl mx-auto mb-4 flex items-center justify-center shadow-lg shadow-neon-green/20",children:u.jsx("span",{className:"font-black text-black text-3xl italic",children:"G"})}),u.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Vista Previa Icono"})]})})]})]}),u.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-white/10 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-50",children:u.jsx(w0,{size:64,className:"text-white/5"})}),u.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-8 bg-neon-orange rounded-full"}),"Pasarela de Pagos (Payoneer)"]}),u.jsxs("div",{className:"space-y-4 max-w-2xl",children:[u.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 p-4 rounded-xl text-yellow-200 text-sm mb-4",children:" Advertencia: Estas claves permiten procesar pagos reales. No las compartas."}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-2",children:"Payoneer Client ID"}),u.jsx("input",{type:"password",value:r,onChange:o=>n(o.target.value),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-neon-orange outline-none font-mono tracking-widest"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-2",children:"Payoneer Client Secret"}),u.jsx("input",{type:"password",value:s,onChange:o=>i(o.target.value),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-neon-orange outline-none font-mono tracking-widest"})]}),u.jsx("div",{className:"pt-4",children:u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[u.jsx("div",{className:"w-12 h-6 bg-neon-green rounded-full relative",children:u.jsx("div",{className:"absolute right-1 top-1 w-4 h-4 bg-white rounded-full"})}),u.jsx("span",{className:"font-bold",children:"Modo Produccin (Live)"})]})})]})]}),u.jsx("div",{className:"flex justify-end pt-8",children:u.jsxs("button",{className:"bg-white text-black font-black px-8 py-4 rounded-xl hover:bg-gray-200 transition-colors flex items-center gap-2",children:[u.jsx(wi,{size:20})," Guardar Cambios"]})})]})]})}function mC(){const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState(null),[o,a]=b.useState(""),[l,c]=b.useState("");b.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:g,error:x}=await M.from("comments").select(`
          *,
          profiles!user_id (full_name, email),
          courses!course_id (title)
        `).order("created_at",{ascending:!1});if(x)throw x;e(g||[])}catch(g){console.error("Error fetching comments:",g)}finally{n(!1)}},h=async g=>{if(confirm("Eliminar este comentario?"))try{const{error:x}=await M.from("comments").delete().eq("id",g);if(x)throw x;e(t.filter(w=>w.id!==g))}catch(x){console.error("Error deleting comment:",x),alert("Error al eliminar comentario")}},f=async g=>{if(o.trim())try{const{error:x}=await M.from("comments").update({admin_reply:o}).eq("id",g);if(x)throw x;e(t.map(w=>w.id===g?{...w,admin_reply:o}:w)),a(""),i(null)}catch(x){console.error("Error replying:",x),alert("Error al responder")}},p=t.filter(g=>{var x,w,y;return g.comment_text.toLowerCase().includes(l.toLowerCase())||((w=(x=g.profiles)==null?void 0:x.full_name)==null?void 0:w.toLowerCase().includes(l.toLowerCase()))||((y=g.courses)==null?void 0:y.title.toLowerCase().includes(l.toLowerCase()))});return r?u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-neon-green"})}):u.jsxs("div",{className:"p-8 max-w-7xl mx-auto font-sans",children:[u.jsxs("h1",{className:"text-3xl font-black italic mb-8",children:["MODERACIN DE ",u.jsx("span",{className:"text-neon-blue",children:"COMENTARIOS"})]}),u.jsxs("div",{className:"mb-8 relative",children:[u.jsx("input",{type:"text",placeholder:"Buscar comentarios...",value:l,onChange:g=>c(g.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-3 focus:border-neon-blue outline-none text-white"}),u.jsx(v0,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:20})]}),p.length===0?u.jsxs("div",{className:"text-center text-gray-500 py-12",children:[u.jsx(Jd,{size:48,className:"mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No hay comentarios an"})]}):u.jsx("div",{className:"space-y-4",children:p.map(g=>{var x,w,y,m,v,_;return u.jsx("div",{className:"glass-panel p-6 rounded-2xl border border-white/5",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-gray-700 to-black flex items-center justify-center font-bold text-lg flex-shrink-0",children:((w=(x=g.profiles)==null?void 0:x.full_name)==null?void 0:w[0])||((y=g.profiles)==null?void 0:y.email[0])||"U"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-white",children:((m=g.profiles)==null?void 0:m.full_name)||((v=g.profiles)==null?void 0:v.email)}),u.jsx("span",{className:"text-xs text-neon-green font-bold uppercase",children:(_=g.courses)==null?void 0:_.title})]}),u.jsx("span",{className:"text-xs text-gray-500",children:new Date(g.created_at).toLocaleString()})]}),u.jsx("p",{className:"text-gray-300 mb-4",children:g.comment_text}),g.admin_reply&&u.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 mb-4",children:[u.jsx("p",{className:"text-xs font-bold text-blue-400 mb-1",children:"RESPUESTA DEL ADMIN:"}),u.jsx("p",{className:"text-gray-300 text-sm",children:g.admin_reply})]}),s===g.id?u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx("input",{type:"text",placeholder:"Escribe tu respuesta...",value:o,onChange:j=>a(j.target.value),className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-2 outline-none focus:border-blue-400",autoFocus:!0}),u.jsxs("button",{onClick:()=>f(g.id),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-xl flex items-center gap-2",children:[u.jsx(b2,{size:16})," Enviar"]}),u.jsx("button",{onClick:()=>{i(null),a("")},className:"text-gray-400 hover:text-white px-4",children:"Cancelar"})]}):u.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(k2,{size:16})," ",g.likes]}),u.jsxs("button",{onClick:()=>h(g.id),className:"flex items-center gap-2 hover:text-red-500 transition-colors",children:[u.jsx(bi,{size:16})," Eliminar"]}),u.jsx("button",{onClick:()=>i(g.id),className:"text-blue-400 font-bold hover:underline",children:g.admin_reply?"Editar Respuesta":"Responder"})]})]})]})},g.id)})})]})}function gC(){const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState("");b.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:d,error:h}=await M.from("profiles").select("*").order("created_at",{ascending:!1});if(h)throw h;e(d||[])}catch(d){console.error("Error fetching users:",d)}finally{n(!1)}},a=async d=>{if(confirm("Eliminar este usuario?"))try{const{error:h}=await M.from("profiles").delete().eq("id",d);if(h)throw h;e(t.filter(f=>f.id!==d))}catch(h){console.error("Error deleting user:",h),alert("Error al eliminar usuario")}},l=async(d,h)=>{const f=h==="admin"?"student":"admin";try{const{error:p}=await M.from("profiles").update({role:f}).eq("id",d);if(p)throw p;e(t.map(g=>g.id===d?{...g,role:f}:g))}catch(p){console.error("Error updating role:",p),alert("Error al cambiar rol")}},c=t.filter(d=>{var h;return d.email.toLowerCase().includes(s.toLowerCase())||((h=d.full_name)==null?void 0:h.toLowerCase().includes(s.toLowerCase()))||d.role.toLowerCase().includes(s.toLowerCase())});return r?u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-neon-green"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("h1",{className:"text-3xl font-black italic text-white",children:["USUARIOS ",u.jsxs("span",{className:"text-neon-green",children:["(",c.length,")"]})]})}),u.jsxs("div",{className:"relative",children:[u.jsx(v0,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:20}),u.jsx("input",{type:"text",placeholder:"Buscar por nombre, email o rol...",value:s,onChange:d=>i(d.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-3 text-white placeholder:text-gray-500 outline-none focus:border-neon-green"})]}),u.jsx("div",{className:"glass-panel rounded-2xl border border-white/10 overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-white/5",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase",children:"Usuario"}),u.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase",children:"Email"}),u.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase",children:"Rol"}),u.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase",children:"Registro"}),u.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold uppercase",children:"Acciones"})]})}),u.jsx("tbody",{className:"divide-y divide-white/5",children:c.length>0?c.map(d=>u.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-neon-green/10 flex items-center justify-center",children:u.jsx(qn,{size:20,className:"text-neon-green"})}),u.jsx("span",{className:"font-bold",children:d.full_name||"Sin nombre"})]})}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:d.email}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("button",{onClick:()=>l(d.id,d.role),className:`px-3 py-1 rounded-full text-xs font-bold uppercase flex items-center gap-1 ${d.role==="admin"?"bg-red-500/20 text-red-400":"bg-blue-500/20 text-blue-400"}`,children:[d.role==="admin"&&u.jsx(w0,{size:12}),d.role]})}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:new Date(d.created_at).toLocaleDateString()}),u.jsx("td",{className:"px-6 py-4 text-right",children:u.jsx("button",{onClick:()=>a(d.id),className:"text-red-500 hover:text-red-400 p-2",children:u.jsx(bi,{size:16})})})]},d.id)):u.jsx("tr",{children:u.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:['No se encontraron usuarios que coincidan con "',s,'"']})})})]})})]})}function yC(){const[t,e]=b.useState([]),[r,n]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState(!1),[l,c]=b.useState(null);b.useEffect(()=>{d()},[]);const d=async()=>{const{data:f}=await M.from("courses").select("id, title");e(f||[])},h=async f=>{f.preventDefault(),a(!0),c(null);try{const{data:p,error:g}=await M.from("profiles").select("id, full_name").eq("email",r).single();if(g||!p)throw new Error("Usuario no encontrado. Asegrate de que se haya registrado primero.");if(!s)throw new Error("Selecciona un curso.");const{data:x}=await M.from("enrollments").select("id").eq("user_id",p.id).eq("course_id",s).single();if(x)throw new Error("El usuario ya tiene acceso a este curso.");const{error:w}=await M.from("enrollments").insert([{user_id:p.id,course_id:s}]);if(w)throw w;c({type:"success",text:`Acceso otorgado a ${p.full_name||r} exitosamente!`}),n("")}catch(p){c({type:"error",text:p.message})}finally{a(!1)}};return u.jsxs("div",{className:"p-8",children:[u.jsxs("h1",{className:"text-4xl font-black text-white mb-8 flex items-center gap-3",children:[u.jsx(x0,{className:"text-neon-green",size:40}),"Herramientas de Admin"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8",children:[u.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[u.jsx(Ma,{size:24,className:"text-blue-400"}),"Otorgar Acceso Manual"]}),u.jsxs("form",{onSubmit:h,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"Email del Usuario"}),u.jsxs("div",{className:"relative",children:[u.jsx(qn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:20}),u.jsx("input",{type:"email",value:r,onChange:f=>n(f.target.value),placeholder:"ejemplo@email.com",className:"w-full bg-black/40 border border-white/10 rounded-xl py-4 pl-12 pr-4 text-white outline-none focus:border-neon-green transition-colors",required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:"Curso a Otorgar"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:s,onChange:f=>i(f.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl py-4 px-4 text-white outline-none focus:border-neon-green transition-colors appearance-none",required:!0,children:[u.jsx("option",{value:"",children:"Selecciona un curso..."}),t.map(f=>u.jsx("option",{value:f.id,children:f.title},f.id))]}),u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:""})]})]}),u.jsxs("button",{type:"submit",disabled:o,className:"w-full bg-neon-green text-black font-black py-4 rounded-xl hover:bg-[#2bff00] transition-colors flex items-center justify-center gap-2",children:[o?"Procesando...":"Otorgar Acceso GRATIS",!o&&u.jsx(vC,{size:20})]}),l&&u.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${l.type==="success"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:[l.type==="success"?u.jsx(Gd,{size:20}):u.jsx(zp,{size:20}),u.jsx("span",{className:"font-bold",children:l.text})]})]})]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-3xl p-6",children:[u.jsxs("h3",{className:"text-yellow-500 font-bold mb-2 flex items-center gap-2",children:[u.jsx(zp,{size:20}),"Advertencia"]}),u.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["Esta herramienta otorga acceso ",u.jsx("strong",{children:"permanente y gratuito"}),' al curso seleccionado. El usuario podr ver todo el contenido inmediatamente en su panel de "Mis Cursos". Esto no procesa ningn pago.']})]}),u.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-3xl p-6",children:[u.jsxs("h3",{className:"text-blue-500 font-bold mb-2 flex items-center gap-2",children:[u.jsx(qn,{size:20}),"Verificacin de Usuario"]}),u.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["Solo puedes dar acceso a usuarios que ",u.jsx("strong",{children:"ya existan"})," en la base de datos (se hayan registrado). Si el email no existe, primero pdeles que se creen una cuenta gratuita."]})]})]})]})]})}function vC({size:t}){return u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),u.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}function xC(){const{settings:t,updateSettings:e}=Ua(),[r,n]=b.useState(t),[s,i]=b.useState(!1),o=async l=>{var d;const c=(d=l.target.files)==null?void 0:d[0];if(c){i(!0);try{const h=c.name.split(".").pop(),p=`hero-images/${`hero-${Date.now()}.${h}`}`,{error:g}=await M.storage.from("course-content").upload(p,c);if(g)throw g;const{data:x}=M.storage.from("course-content").getPublicUrl(p);n({...r,heroImage:x.publicUrl}),alert("Imagen subida exitosamente")}catch(h){console.error("Error uploading:",h),alert("Error al subir imagen")}finally{i(!1)}}},a=()=>{e(r),alert("Cambios guardados en la Home Page!")};return u.jsxs("div",{className:"p-8 max-w-5xl mx-auto font-sans",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("h1",{className:"text-3xl font-black italic",children:["EDITOR ",u.jsx("span",{className:"text-neon-green",children:"HOME PAGE"})]}),u.jsxs("button",{onClick:a,className:"bg-neon-green text-black font-black px-6 py-3 rounded-xl hover:bg-[#2bff00] transition-colors flex items-center gap-2 shadow-lg",children:[u.jsx(wi,{size:20})," Guardar Cambios"]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"glass-panel p-6 rounded-2xl border border-white/10",children:[u.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[u.jsx(N2,{className:"text-neon-orange"})," Textos Principales"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-2",children:"Ttulo Principal (H1)"}),u.jsx("input",{type:"text",value:r.heroTitle,onChange:l=>n({...r,heroTitle:l.target.value}),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-neon-green outline-none text-lg font-bold"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-2",children:"Subttulo (H2)"}),u.jsx("textarea",{value:r.heroSubtitle,onChange:l=>n({...r,heroSubtitle:l.target.value}),rows:4,className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-neon-green outline-none"})]})]})]})}),u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"glass-panel p-6 rounded-2xl border border-white/10",children:[u.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[u.jsx(g0,{className:"text-neon-blue"})," Multimedia & Fondo"]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-2",children:"Imagen de Fondo"}),u.jsxs("label",{className:"flex items-center gap-2 px-4 py-3 bg-white/5 border border-white/10 rounded-xl cursor-pointer hover:border-neon-green transition-colors mb-3",children:[u.jsx(Wn,{size:18}),u.jsx("span",{className:"text-sm",children:s?"Subiendo...":"Subir Imagen"}),u.jsx("input",{type:"file",accept:"image/*",onChange:o,className:"hidden",disabled:s})]}),r.heroImage&&u.jsx("div",{className:"mb-3",children:u.jsx("img",{src:r.heroImage,alt:"Preview",className:"w-full h-32 object-cover rounded-xl"})}),u.jsx("div",{className:"flex gap-2",children:u.jsx("input",{type:"text",placeholder:"O pega la URL aqu",value:r.heroImage,onChange:l=>n({...r,heroImage:l.target.value}),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-neon-blue outline-none text-xs font-mono"})}),u.jsx("p",{className:"text-[10px] text-gray-500 mt-2",children:'*Se aplicar un efecto de "Fade a Negro" automticamente.'})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-2",children:"Video Trailer (URL Embed)"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("span",{className:"bg-white/5 flex items-center justify-center w-12 rounded-l-xl border border-white/10 border-r-0",children:u.jsx(h2,{size:16,className:"text-gray-500"})}),u.jsx("input",{type:"text",value:r.videoUrl,onChange:l=>n({...r,videoUrl:l.target.value}),className:"w-full bg-black/50 border border-white/10 rounded-r-xl px-4 py-3 text-white focus:border-neon-blue outline-none text-xs font-mono"})]})]})]})]})})]})]})}function wC(){const{settings:t,updateSettings:e}=Ua(),[r,n]=b.useState(!1),[s,i]=b.useState(t),o=async l=>{var d;const c=(d=l.target.files)==null?void 0:d[0];if(c){n(!0);try{const h=c.name.split(".").pop(),p=`popup-media/${`popup-${Date.now()}.${h}`}`,{error:g}=await M.storage.from("course-content").upload(p,c);if(g)throw g;const{data:x}=M.storage.from("course-content").getPublicUrl(p);i({...s,popupMediaUrl:x.publicUrl}),alert("Archivo subido exitosamente")}catch(h){console.error("Error uploading:",h),alert("Error al subir archivo")}finally{n(!1)}}},a=()=>{e(s),alert("Configuracin guardada.")};return u.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h1",{className:"text-3xl font-black italic",children:["POPUP ",u.jsx("span",{className:"text-neon-green",children:"BANNER"})]}),u.jsxs("button",{onClick:a,className:"bg-neon-green text-black px-6 py-2 rounded-xl font-bold flex items-center gap-2",children:[u.jsx(wi,{size:18})," Guardar"]})]}),u.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-white/10 space-y-6",children:[u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer",checked:s.showPopup||!1,onChange:l=>i({...s,showPopup:l.target.checked})}),u.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-neon-green"}),u.jsx("span",{className:"ml-3 text-sm font-bold uppercase text-white",children:"Activar Popup"})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-2",children:"Tipo de Contenido"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>i({...s,popupType:"image"}),className:`px-4 py-2 rounded-lg font-bold border ${s.popupType==="image"?"bg-white text-black border-white":"border-white/20 text-gray-400"}`,children:"Imagen"}),u.jsx("button",{onClick:()=>i({...s,popupType:"video"}),className:`px-4 py-2 rounded-lg font-bold border ${s.popupType==="video"?"bg-white text-black border-white":"border-white/20 text-gray-400"}`,children:"Video"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold mb-2",children:"Media del Popup"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("label",{className:"flex items-center gap-2 px-4 py-3 bg-white/5 border border-white/10 rounded-xl cursor-pointer hover:border-neon-green transition-colors",children:[u.jsx(Wn,{size:20}),u.jsx("span",{children:r?"Subiendo...":`Subir ${s.popupType==="image"?"Imagen":"Video"}`}),u.jsx("input",{type:"file",accept:s.popupType==="image"?"image/*":"video/*",onChange:o,className:"hidden",disabled:r})]}),s.popupMediaUrl&&u.jsx("div",{className:"mt-2",children:s.popupType==="image"?u.jsx("img",{src:s.popupMediaUrl,alt:"Preview",className:"w-32 h-32 object-cover rounded-xl"}):u.jsx("video",{src:s.popupMediaUrl,className:"w-full max-w-md rounded-xl",controls:!0})}),u.jsx("input",{type:"text",placeholder:"O pega la URL aqu",value:s.popupMediaUrl,onChange:l=>i({...s,popupMediaUrl:l.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 outline-none focus:border-neon-green text-sm"})]})]}),s.popupType==="video"&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:s.popupAutoplay||!1,onChange:l=>i({...s,popupAutoplay:l.target.checked})}),u.jsx("span",{className:"text-sm font-bold text-gray-400",children:"Autoplay (Muted by default if required by browser)"})]})]})]})}function bC(){var o,a,l,c,d;const{settings:t}=Ua(),[e,r]=b.useState(!1),[n,s]=b.useState(!0);b.useEffect(()=>{if(t.showPopup&&!sessionStorage.getItem("hasSeenPopup")){const f=setTimeout(()=>r(!0),1500);return()=>clearTimeout(f)}},[t.showPopup]);const i=()=>{r(!1),sessionStorage.setItem("hasSeenPopup","true")};return!e||!t.showPopup?null:u.jsx(Vn,{children:e&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/80 backdrop-blur-sm",children:u.jsxs(Ue.div,{initial:{opacity:0,scale:.9,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:50},className:"relative w-full max-w-4xl bg-black rounded-3xl overflow-hidden shadow-2xl border border-white/10",children:[u.jsx("button",{onClick:i,className:"absolute top-4 right-4 z-20 w-10 h-10 bg-black/50 hover:bg-white/20 text-white rounded-full flex items-center justify-center backdrop-blur-md transition-colors",children:u.jsx(_i,{size:20})}),u.jsxs("div",{className:"aspect-video relative bg-gray-900 flex items-center justify-center",children:[t.popupType==="image"?u.jsx("img",{src:t.popupMediaUrl,alt:"Promo",className:"w-full h-full object-cover"}):u.jsxs("div",{className:"w-full h-full",children:[(o=t.popupMediaUrl)!=null&&o.includes("youtube")||(a=t.popupMediaUrl)!=null&&a.includes("vimeo")?u.jsx("iframe",{src:`${t.popupMediaUrl}${(l=t.popupMediaUrl)!=null&&l.includes("?")?"&":"?"}autoplay=1&mute=${n?1:0}`,className:"w-full h-full pointer-events-auto",allow:"autoplay; encrypted-media"}):u.jsx("video",{src:t.popupMediaUrl,autoPlay:t.popupAutoplay,muted:n,loop:!0,className:"w-full h-full object-cover"}),!((c=t.popupMediaUrl)!=null&&c.includes("youtube")||(d=t.popupMediaUrl)!=null&&d.includes("vimeo"))&&u.jsx("button",{onClick:()=>s(!n),className:"absolute bottom-6 right-6 z-20 w-10 h-10 bg-black/50 text-white rounded-full flex items-center justify-center backdrop-blur-md",children:n?u.jsx(C2,{size:20}):u.jsx(T2,{size:20})})]}),u.jsx("div",{className:"absolute inset-x-0 bottom-0 p-8 bg-gradient-to-t from-black via-black/80 to-transparent flex flex-col items-center text-center pointer-events-none",children:u.jsx("div",{className:"pointer-events-auto mt-4",children:u.jsxs("button",{onClick:i,className:"bg-neon-green text-black font-black uppercase text-xl px-10 py-4 rounded-full hover:scale-105 transition-transform flex items-center gap-3 shadow-[0_0_20px_rgba(57,255,20,0.5)]",children:[u.jsx(na,{fill:"black",size:20})," Empezar Ahora"]})})})]})]})})})}function _C(){const t=yr();return u.jsxs(Vn,{mode:"wait",children:[u.jsx(bC,{}),u.jsxs(p_,{location:t,children:[u.jsxs(se,{path:"/",element:u.jsx(R2,{}),children:[u.jsx(se,{index:!0,element:u.jsx(D2,{})}),u.jsx(se,{path:"/login",element:u.jsx(uC,{})}),u.jsx(se,{path:"/cursos",element:u.jsx(nC,{})}),u.jsx(se,{path:"/my-courses",element:u.jsx(sC,{})}),u.jsx(se,{path:"/curso-info/:id",element:u.jsx(aC,{})}),u.jsx(se,{path:"/curso/:id",element:u.jsx(oC,{})}),u.jsx(se,{path:"/checkout",element:u.jsx(lC,{})})]}),u.jsxs(se,{path:"/admin",element:u.jsx(I2,{}),children:[u.jsx(se,{index:!0,element:u.jsx(cC,{})}),u.jsx(se,{path:"analytics",element:u.jsx(dC,{})}),u.jsx(se,{path:"courses",element:u.jsx(hC,{})}),u.jsx(se,{path:"courses/:courseId/lessons",element:u.jsx(fC,{})}),u.jsx(se,{path:"users",element:u.jsx(gC,{})}),u.jsx(se,{path:"comments",element:u.jsx(mC,{})}),u.jsx(se,{path:"settings",element:u.jsx(pC,{})}),u.jsx(se,{path:"tools",element:u.jsx(yC,{})}),u.jsx(se,{path:"home-config",element:u.jsx(xC,{})}),u.jsx(se,{path:"popup-config",element:u.jsx(wC,{})})]}),u.jsx(se,{path:"*",element:u.jsx(iC,{})})]},t.pathname)]})}Ul.createRoot(document.getElementById("root")).render(u.jsx(Sm.StrictMode,{children:u.jsx(__,{children:u.jsx(L2,{children:u.jsx(P2,{children:u.jsx(_C,{})})})})}));
